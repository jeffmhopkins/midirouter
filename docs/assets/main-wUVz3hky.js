function Cv(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const s=Object.getOwnPropertyDescriptor(r,o);s&&Object.defineProperty(e,o,s.get?s:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function am(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lm={exports:{}},ja={},cm={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vs=Symbol.for("react.element"),bv=Symbol.for("react.portal"),Sv=Symbol.for("react.fragment"),Nv=Symbol.for("react.strict_mode"),Pv=Symbol.for("react.profiler"),jv=Symbol.for("react.provider"),kv=Symbol.for("react.context"),Mv=Symbol.for("react.forward_ref"),Ev=Symbol.for("react.suspense"),Iv=Symbol.for("react.memo"),Dv=Symbol.for("react.lazy"),cf=Symbol.iterator;function Tv(e){return e===null||typeof e!="object"?null:(e=cf&&e[cf]||e["@@iterator"],typeof e=="function"?e:null)}var um={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dm=Object.assign,fm={};function Bo(e,t,n){this.props=e,this.context=t,this.refs=fm,this.updater=n||um}Bo.prototype.isReactComponent={};Bo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function pm(){}pm.prototype=Bo.prototype;function Eu(e,t,n){this.props=e,this.context=t,this.refs=fm,this.updater=n||um}var Iu=Eu.prototype=new pm;Iu.constructor=Eu;dm(Iu,Bo.prototype);Iu.isPureReactComponent=!0;var uf=Array.isArray,mm=Object.prototype.hasOwnProperty,Du={current:null},hm={key:!0,ref:!0,__self:!0,__source:!0};function gm(e,t,n){var r,o={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)mm.call(t,r)&&!hm.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:Vs,type:e,key:s,ref:a,props:o,_owner:Du.current}}function Rv(e,t){return{$$typeof:Vs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Tu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vs}function Ov(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var df=/\/+/g;function dl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ov(""+e.key):t.toString(36)}function ji(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Vs:case bv:a=!0}}if(a)return a=e,o=o(a),e=r===""?"."+dl(a,0):r,uf(o)?(n="",e!=null&&(n=e.replace(df,"$&/")+"/"),ji(o,t,n,"",function(u){return u})):o!=null&&(Tu(o)&&(o=Rv(o,n+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(df,"$&/")+"/")+e)),t.push(o)),1;if(a=0,r=r===""?".":r+":",uf(e))for(var l=0;l<e.length;l++){s=e[l];var c=r+dl(s,l);a+=ji(s,t,n,c,o)}else if(c=Tv(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=r+dl(s,l++),a+=ji(s,t,n,c,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function ei(e,t,n){if(e==null)return e;var r=[],o=0;return ji(e,r,"","",function(s){return t.call(n,s,o++)}),r}function _v(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var St={current:null},ki={transition:null},Av={ReactCurrentDispatcher:St,ReactCurrentBatchConfig:ki,ReactCurrentOwner:Du};function ym(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:ei,forEach:function(e,t,n){ei(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ei(e,function(){t++}),t},toArray:function(e){return ei(e,function(t){return t})||[]},only:function(e){if(!Tu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ce.Component=Bo;Ce.Fragment=Sv;Ce.Profiler=Pv;Ce.PureComponent=Eu;Ce.StrictMode=Nv;Ce.Suspense=Ev;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Av;Ce.act=ym;Ce.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=dm({},e.props),o=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=Du.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)mm.call(t,c)&&!hm.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Vs,type:e.type,key:o,ref:s,props:r,_owner:a}};Ce.createContext=function(e){return e={$$typeof:kv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jv,_context:e},e.Consumer=e};Ce.createElement=gm;Ce.createFactory=function(e){var t=gm.bind(null,e);return t.type=e,t};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(e){return{$$typeof:Mv,render:e}};Ce.isValidElement=Tu;Ce.lazy=function(e){return{$$typeof:Dv,_payload:{_status:-1,_result:e},_init:_v}};Ce.memo=function(e,t){return{$$typeof:Iv,type:e,compare:t===void 0?null:t}};Ce.startTransition=function(e){var t=ki.transition;ki.transition={};try{e()}finally{ki.transition=t}};Ce.unstable_act=ym;Ce.useCallback=function(e,t){return St.current.useCallback(e,t)};Ce.useContext=function(e){return St.current.useContext(e)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(e){return St.current.useDeferredValue(e)};Ce.useEffect=function(e,t){return St.current.useEffect(e,t)};Ce.useId=function(){return St.current.useId()};Ce.useImperativeHandle=function(e,t,n){return St.current.useImperativeHandle(e,t,n)};Ce.useInsertionEffect=function(e,t){return St.current.useInsertionEffect(e,t)};Ce.useLayoutEffect=function(e,t){return St.current.useLayoutEffect(e,t)};Ce.useMemo=function(e,t){return St.current.useMemo(e,t)};Ce.useReducer=function(e,t,n){return St.current.useReducer(e,t,n)};Ce.useRef=function(e){return St.current.useRef(e)};Ce.useState=function(e){return St.current.useState(e)};Ce.useSyncExternalStore=function(e,t,n){return St.current.useSyncExternalStore(e,t,n)};Ce.useTransition=function(){return St.current.useTransition()};Ce.version="18.3.1";cm.exports=Ce;var d=cm.exports;const We=am(d),xm=Cv({__proto__:null,default:We},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv=d,$v=Symbol.for("react.element"),Bv=Symbol.for("react.fragment"),zv=Object.prototype.hasOwnProperty,Fv=Lv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Uv={key:!0,ref:!0,__self:!0,__source:!0};function vm(e,t,n){var r,o={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)zv.call(t,r)&&!Uv.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:$v,type:e,key:s,ref:a,props:o,_owner:Fv.current}}ja.Fragment=Bv;ja.jsx=vm;ja.jsxs=vm;lm.exports=ja;var i=lm.exports,wm={exports:{}},Vt={},Cm={exports:{}},bm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,L){var U=E.length;E.push(L);e:for(;0<U;){var H=U-1>>>1,G=E[H];if(0<o(G,L))E[H]=L,E[U]=G,U=H;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var L=E[0],U=E.pop();if(U!==L){E[0]=U;e:for(var H=0,G=E.length,oe=G>>>1;H<oe;){var $=2*(H+1)-1,ne=E[$],ye=$+1,X=E[ye];if(0>o(ne,U))ye<G&&0>o(X,ne)?(E[H]=X,E[ye]=U,H=ye):(E[H]=ne,E[$]=U,H=$);else if(ye<G&&0>o(X,U))E[H]=X,E[ye]=U,H=ye;else break e}}return L}function o(E,L){var U=E.sortIndex-L.sortIndex;return U!==0?U:E.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],m=1,f=null,p=3,C=!1,x=!1,h=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(E){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=E)r(u),L.sortIndex=L.expirationTime,t(c,L);else break;L=n(u)}}function b(E){if(h=!1,w(E),!x)if(n(c)!==null)x=!0,F(N);else{var L=n(u);L!==null&&Y(b,L.startTime-E)}}function N(E,L){x=!1,h&&(h=!1,y(j),j=-1),C=!0;var U=p;try{for(w(L),f=n(c);f!==null&&(!(f.expirationTime>L)||E&&!A());){var H=f.callback;if(typeof H=="function"){f.callback=null,p=f.priorityLevel;var G=H(f.expirationTime<=L);L=e.unstable_now(),typeof G=="function"?f.callback=G:f===n(c)&&r(c),w(L)}else r(c);f=n(c)}if(f!==null)var oe=!0;else{var $=n(u);$!==null&&Y(b,$.startTime-L),oe=!1}return oe}finally{f=null,p=U,C=!1}}var S=!1,P=null,j=-1,D=5,M=-1;function A(){return!(e.unstable_now()-M<D)}function T(){if(P!==null){var E=e.unstable_now();M=E;var L=!0;try{L=P(!0,E)}finally{L?O():(S=!1,P=null)}}else S=!1}var O;if(typeof g=="function")O=function(){g(T)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,k=B.port2;B.port1.onmessage=T,O=function(){k.postMessage(null)}}else O=function(){v(T,0)};function F(E){P=E,S||(S=!0,O())}function Y(E,L){j=v(function(){E(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){x||C||(x=!0,F(N))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(E){switch(p){case 1:case 2:case 3:var L=3;break;default:L=p}var U=p;p=L;try{return E()}finally{p=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,L){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var U=p;p=E;try{return L()}finally{p=U}},e.unstable_scheduleCallback=function(E,L,U){var H=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?H+U:H):U=H,E){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=U+G,E={id:m++,callback:L,priorityLevel:E,startTime:U,expirationTime:G,sortIndex:-1},U>H?(E.sortIndex=U,t(u,E),n(c)===null&&E===n(u)&&(h?(y(j),j=-1):h=!0,Y(b,U-H))):(E.sortIndex=G,t(c,E),x||C||(x=!0,F(N))),E},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(E){var L=p;return function(){var U=p;p=L;try{return E.apply(this,arguments)}finally{p=U}}}})(bm);Cm.exports=bm;var Vv=Cm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv=d,Ft=Vv;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sm=new Set,bs={};function Qr(e,t){Mo(e,t),Mo(e+"Capture",t)}function Mo(e,t){for(bs[e]=t,e=0;e<t.length;e++)Sm.add(t[e])}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tc=Object.prototype.hasOwnProperty,Wv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ff={},pf={};function Kv(e){return tc.call(pf,e)?!0:tc.call(ff,e)?!1:Wv.test(e)?pf[e]=!0:(ff[e]=!0,!1)}function Yv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Gv(e,t,n,r){if(t===null||typeof t>"u"||Yv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Nt(e,t,n,r,o,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var it={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){it[e]=new Nt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];it[t]=new Nt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){it[e]=new Nt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){it[e]=new Nt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){it[e]=new Nt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){it[e]=new Nt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){it[e]=new Nt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){it[e]=new Nt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){it[e]=new Nt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ru=/[\-:]([a-z])/g;function Ou(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ru,Ou);it[t]=new Nt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ru,Ou);it[t]=new Nt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ru,Ou);it[t]=new Nt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){it[e]=new Nt(e,1,!1,e.toLowerCase(),null,!1,!1)});it.xlinkHref=new Nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){it[e]=new Nt(e,1,!1,e.toLowerCase(),null,!0,!0)});function _u(e,t,n,r){var o=it.hasOwnProperty(t)?it[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Gv(t,n,o,r)&&(n=null),r||o===null?Kv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Qn=Hv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ti=Symbol.for("react.element"),so=Symbol.for("react.portal"),io=Symbol.for("react.fragment"),Au=Symbol.for("react.strict_mode"),nc=Symbol.for("react.profiler"),Nm=Symbol.for("react.provider"),Pm=Symbol.for("react.context"),Lu=Symbol.for("react.forward_ref"),rc=Symbol.for("react.suspense"),oc=Symbol.for("react.suspense_list"),$u=Symbol.for("react.memo"),or=Symbol.for("react.lazy"),jm=Symbol.for("react.offscreen"),mf=Symbol.iterator;function Qo(e){return e===null||typeof e!="object"?null:(e=mf&&e[mf]||e["@@iterator"],typeof e=="function"?e:null)}var Ve=Object.assign,fl;function is(e){if(fl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);fl=t&&t[1]||""}return`
`+fl+e}var pl=!1;function ml(e,t){if(!e||pl)return"";pl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),s=r.stack.split(`
`),a=o.length-1,l=s.length-1;1<=a&&0<=l&&o[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(o[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||o[a]!==s[l]){var c=`
`+o[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{pl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?is(e):""}function Xv(e){switch(e.tag){case 5:return is(e.type);case 16:return is("Lazy");case 13:return is("Suspense");case 19:return is("SuspenseList");case 0:case 2:case 15:return e=ml(e.type,!1),e;case 11:return e=ml(e.type.render,!1),e;case 1:return e=ml(e.type,!0),e;default:return""}}function sc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case io:return"Fragment";case so:return"Portal";case nc:return"Profiler";case Au:return"StrictMode";case rc:return"Suspense";case oc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Pm:return(e.displayName||"Context")+".Consumer";case Nm:return(e._context.displayName||"Context")+".Provider";case Lu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $u:return t=e.displayName||null,t!==null?t:sc(e.type)||"Memo";case or:t=e._payload,e=e._init;try{return sc(e(t))}catch{}}return null}function Qv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sc(t);case 8:return t===Au?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Cr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function km(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qv(e){var t=km(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ni(e){e._valueTracker||(e._valueTracker=qv(e))}function Mm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=km(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ic(e,t){var n=t.checked;return Ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function hf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Cr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Em(e,t){t=t.checked,t!=null&&_u(e,"checked",t,!1)}function ac(e,t){Em(e,t);var n=Cr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?lc(e,t.type,n):t.hasOwnProperty("defaultValue")&&lc(e,t.type,Cr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function gf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function lc(e,t,n){(t!=="number"||Hi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var as=Array.isArray;function xo(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Cr(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function cc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return Ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(W(92));if(as(n)){if(1<n.length)throw Error(W(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Cr(n)}}function Im(e,t){var n=Cr(t.value),r=Cr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function xf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Dm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Dm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ri,Tm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ri=ri||document.createElement("div"),ri.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ri.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ss(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ds={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zv=["Webkit","ms","Moz","O"];Object.keys(ds).forEach(function(e){Zv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ds[t]=ds[e]})});function Rm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ds.hasOwnProperty(e)&&ds[e]?(""+t).trim():t+"px"}function Om(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Rm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Jv=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dc(e,t){if(t){if(Jv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function fc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pc=null;function Bu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mc=null,vo=null,wo=null;function vf(e){if(e=Ks(e)){if(typeof mc!="function")throw Error(W(280));var t=e.stateNode;t&&(t=Da(t),mc(e.stateNode,e.type,t))}}function _m(e){vo?wo?wo.push(e):wo=[e]:vo=e}function Am(){if(vo){var e=vo,t=wo;if(wo=vo=null,vf(e),t)for(e=0;e<t.length;e++)vf(t[e])}}function Lm(e,t){return e(t)}function $m(){}var hl=!1;function Bm(e,t,n){if(hl)return e(t,n);hl=!0;try{return Lm(e,t,n)}finally{hl=!1,(vo!==null||wo!==null)&&($m(),Am())}}function Ns(e,t){var n=e.stateNode;if(n===null)return null;var r=Da(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(W(231,t,typeof n));return n}var hc=!1;if(Hn)try{var qo={};Object.defineProperty(qo,"passive",{get:function(){hc=!0}}),window.addEventListener("test",qo,qo),window.removeEventListener("test",qo,qo)}catch{hc=!1}function e1(e,t,n,r,o,s,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(m){this.onError(m)}}var fs=!1,Wi=null,Ki=!1,gc=null,t1={onError:function(e){fs=!0,Wi=e}};function n1(e,t,n,r,o,s,a,l,c){fs=!1,Wi=null,e1.apply(t1,arguments)}function r1(e,t,n,r,o,s,a,l,c){if(n1.apply(this,arguments),fs){if(fs){var u=Wi;fs=!1,Wi=null}else throw Error(W(198));Ki||(Ki=!0,gc=u)}}function qr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function zm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wf(e){if(qr(e)!==e)throw Error(W(188))}function o1(e){var t=e.alternate;if(!t){if(t=qr(e),t===null)throw Error(W(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return wf(o),e;if(s===r)return wf(o),t;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=o,r=s;else{for(var a=!1,l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?e:t}function Fm(e){return e=o1(e),e!==null?Um(e):null}function Um(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Um(e);if(t!==null)return t;e=e.sibling}return null}var Vm=Ft.unstable_scheduleCallback,Cf=Ft.unstable_cancelCallback,s1=Ft.unstable_shouldYield,i1=Ft.unstable_requestPaint,Ke=Ft.unstable_now,a1=Ft.unstable_getCurrentPriorityLevel,zu=Ft.unstable_ImmediatePriority,Hm=Ft.unstable_UserBlockingPriority,Yi=Ft.unstable_NormalPriority,l1=Ft.unstable_LowPriority,Wm=Ft.unstable_IdlePriority,ka=null,bn=null;function c1(e){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(ka,e,void 0,(e.current.flags&128)===128)}catch{}}var an=Math.clz32?Math.clz32:f1,u1=Math.log,d1=Math.LN2;function f1(e){return e>>>=0,e===0?32:31-(u1(e)/d1|0)|0}var oi=64,si=4194304;function ls(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~o;l!==0?r=ls(l):(s&=a,s!==0&&(r=ls(s)))}else a=n&~o,a!==0?r=ls(a):s!==0&&(r=ls(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-an(t),o=1<<n,r|=e[n],t&=~o;return r}function p1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function m1(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-an(s),l=1<<a,c=o[a];c===-1?(!(l&n)||l&r)&&(o[a]=p1(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function yc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Km(){var e=oi;return oi<<=1,!(oi&4194240)&&(oi=64),e}function gl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Hs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-an(t),e[t]=n}function h1(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-an(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function Fu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-an(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var ke=0;function Ym(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Gm,Uu,Xm,Qm,qm,xc=!1,ii=[],dr=null,fr=null,pr=null,Ps=new Map,js=new Map,ar=[],g1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bf(e,t){switch(e){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":Ps.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":js.delete(t.pointerId)}}function Zo(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=Ks(t),t!==null&&Uu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function y1(e,t,n,r,o){switch(t){case"focusin":return dr=Zo(dr,e,t,n,r,o),!0;case"dragenter":return fr=Zo(fr,e,t,n,r,o),!0;case"mouseover":return pr=Zo(pr,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return Ps.set(s,Zo(Ps.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,js.set(s,Zo(js.get(s)||null,e,t,n,r,o)),!0}return!1}function Zm(e){var t=_r(e.target);if(t!==null){var n=qr(t);if(n!==null){if(t=n.tag,t===13){if(t=zm(n),t!==null){e.blockedOn=t,qm(e.priority,function(){Xm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=vc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);pc=r,n.target.dispatchEvent(r),pc=null}else return t=Ks(n),t!==null&&Uu(t),e.blockedOn=n,!1;t.shift()}return!0}function Sf(e,t,n){Mi(e)&&n.delete(t)}function x1(){xc=!1,dr!==null&&Mi(dr)&&(dr=null),fr!==null&&Mi(fr)&&(fr=null),pr!==null&&Mi(pr)&&(pr=null),Ps.forEach(Sf),js.forEach(Sf)}function Jo(e,t){e.blockedOn===t&&(e.blockedOn=null,xc||(xc=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,x1)))}function ks(e){function t(o){return Jo(o,e)}if(0<ii.length){Jo(ii[0],e);for(var n=1;n<ii.length;n++){var r=ii[n];r.blockedOn===e&&(r.blockedOn=null)}}for(dr!==null&&Jo(dr,e),fr!==null&&Jo(fr,e),pr!==null&&Jo(pr,e),Ps.forEach(t),js.forEach(t),n=0;n<ar.length;n++)r=ar[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ar.length&&(n=ar[0],n.blockedOn===null);)Zm(n),n.blockedOn===null&&ar.shift()}var Co=Qn.ReactCurrentBatchConfig,Xi=!0;function v1(e,t,n,r){var o=ke,s=Co.transition;Co.transition=null;try{ke=1,Vu(e,t,n,r)}finally{ke=o,Co.transition=s}}function w1(e,t,n,r){var o=ke,s=Co.transition;Co.transition=null;try{ke=4,Vu(e,t,n,r)}finally{ke=o,Co.transition=s}}function Vu(e,t,n,r){if(Xi){var o=vc(e,t,n,r);if(o===null)jl(e,t,r,Qi,n),bf(e,r);else if(y1(o,e,t,n,r))r.stopPropagation();else if(bf(e,r),t&4&&-1<g1.indexOf(e)){for(;o!==null;){var s=Ks(o);if(s!==null&&Gm(s),s=vc(e,t,n,r),s===null&&jl(e,t,r,Qi,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else jl(e,t,r,null,n)}}var Qi=null;function vc(e,t,n,r){if(Qi=null,e=Bu(r),e=_r(e),e!==null)if(t=qr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=zm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qi=e,null}function Jm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(a1()){case zu:return 1;case Hm:return 4;case Yi:case l1:return 16;case Wm:return 536870912;default:return 16}default:return 16}}var cr=null,Hu=null,Ei=null;function eh(){if(Ei)return Ei;var e,t=Hu,n=t.length,r,o="value"in cr?cr.value:cr.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===o[s-r];r++);return Ei=o.slice(e,1<r?1-r:void 0)}function Ii(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ai(){return!0}function Nf(){return!1}function Ht(e){function t(n,r,o,s,a){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ai:Nf,this.isPropagationStopped=Nf,this}return Ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),t}var zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wu=Ht(zo),Ws=Ve({},zo,{view:0,detail:0}),C1=Ht(Ws),yl,xl,es,Ma=Ve({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ku,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==es&&(es&&e.type==="mousemove"?(yl=e.screenX-es.screenX,xl=e.screenY-es.screenY):xl=yl=0,es=e),yl)},movementY:function(e){return"movementY"in e?e.movementY:xl}}),Pf=Ht(Ma),b1=Ve({},Ma,{dataTransfer:0}),S1=Ht(b1),N1=Ve({},Ws,{relatedTarget:0}),vl=Ht(N1),P1=Ve({},zo,{animationName:0,elapsedTime:0,pseudoElement:0}),j1=Ht(P1),k1=Ve({},zo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),M1=Ht(k1),E1=Ve({},zo,{data:0}),jf=Ht(E1),I1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},T1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=T1[e])?!!t[e]:!1}function Ku(){return R1}var O1=Ve({},Ws,{key:function(e){if(e.key){var t=I1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ii(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?D1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ku,charCode:function(e){return e.type==="keypress"?Ii(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ii(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_1=Ht(O1),A1=Ve({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kf=Ht(A1),L1=Ve({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ku}),$1=Ht(L1),B1=Ve({},zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),z1=Ht(B1),F1=Ve({},Ma,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),U1=Ht(F1),V1=[9,13,27,32],Yu=Hn&&"CompositionEvent"in window,ps=null;Hn&&"documentMode"in document&&(ps=document.documentMode);var H1=Hn&&"TextEvent"in window&&!ps,th=Hn&&(!Yu||ps&&8<ps&&11>=ps),Mf=" ",Ef=!1;function nh(e,t){switch(e){case"keyup":return V1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ao=!1;function W1(e,t){switch(e){case"compositionend":return rh(t);case"keypress":return t.which!==32?null:(Ef=!0,Mf);case"textInput":return e=t.data,e===Mf&&Ef?null:e;default:return null}}function K1(e,t){if(ao)return e==="compositionend"||!Yu&&nh(e,t)?(e=eh(),Ei=Hu=cr=null,ao=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return th&&t.locale!=="ko"?null:t.data;default:return null}}var Y1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function If(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Y1[e.type]:t==="textarea"}function oh(e,t,n,r){_m(r),t=qi(t,"onChange"),0<t.length&&(n=new Wu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ms=null,Ms=null;function G1(e){hh(e,0)}function Ea(e){var t=uo(e);if(Mm(t))return e}function X1(e,t){if(e==="change")return t}var sh=!1;if(Hn){var wl;if(Hn){var Cl="oninput"in document;if(!Cl){var Df=document.createElement("div");Df.setAttribute("oninput","return;"),Cl=typeof Df.oninput=="function"}wl=Cl}else wl=!1;sh=wl&&(!document.documentMode||9<document.documentMode)}function Tf(){ms&&(ms.detachEvent("onpropertychange",ih),Ms=ms=null)}function ih(e){if(e.propertyName==="value"&&Ea(Ms)){var t=[];oh(t,Ms,e,Bu(e)),Bm(G1,t)}}function Q1(e,t,n){e==="focusin"?(Tf(),ms=t,Ms=n,ms.attachEvent("onpropertychange",ih)):e==="focusout"&&Tf()}function q1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ea(Ms)}function Z1(e,t){if(e==="click")return Ea(t)}function J1(e,t){if(e==="input"||e==="change")return Ea(t)}function ew(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cn=typeof Object.is=="function"?Object.is:ew;function Es(e,t){if(cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!tc.call(t,o)||!cn(e[o],t[o]))return!1}return!0}function Rf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Of(e,t){var n=Rf(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Rf(n)}}function ah(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ah(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lh(){for(var e=window,t=Hi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Hi(e.document)}return t}function Gu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function tw(e){var t=lh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ah(n.ownerDocument.documentElement,n)){if(r!==null&&Gu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=Of(n,s);var a=Of(n,r);o&&a&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var nw=Hn&&"documentMode"in document&&11>=document.documentMode,lo=null,wc=null,hs=null,Cc=!1;function _f(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Cc||lo==null||lo!==Hi(r)||(r=lo,"selectionStart"in r&&Gu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hs&&Es(hs,r)||(hs=r,r=qi(wc,"onSelect"),0<r.length&&(t=new Wu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=lo)))}function li(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var co={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionend:li("Transition","TransitionEnd")},bl={},ch={};Hn&&(ch=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function Ia(e){if(bl[e])return bl[e];if(!co[e])return e;var t=co[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ch)return bl[e]=t[n];return e}var uh=Ia("animationend"),dh=Ia("animationiteration"),fh=Ia("animationstart"),ph=Ia("transitionend"),mh=new Map,Af="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){mh.set(e,t),Qr(t,[e])}for(var Sl=0;Sl<Af.length;Sl++){var Nl=Af[Sl],rw=Nl.toLowerCase(),ow=Nl[0].toUpperCase()+Nl.slice(1);jr(rw,"on"+ow)}jr(uh,"onAnimationEnd");jr(dh,"onAnimationIteration");jr(fh,"onAnimationStart");jr("dblclick","onDoubleClick");jr("focusin","onFocus");jr("focusout","onBlur");jr(ph,"onTransitionEnd");Mo("onMouseEnter",["mouseout","mouseover"]);Mo("onMouseLeave",["mouseout","mouseover"]);Mo("onPointerEnter",["pointerout","pointerover"]);Mo("onPointerLeave",["pointerout","pointerover"]);Qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sw=new Set("cancel close invalid load scroll toggle".split(" ").concat(cs));function Lf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,r1(r,t,void 0,e),e.currentTarget=null}function hh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&o.isPropagationStopped())break e;Lf(o,l,u),s=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&o.isPropagationStopped())break e;Lf(o,l,u),s=c}}}if(Ki)throw e=gc,Ki=!1,gc=null,e}function Re(e,t){var n=t[jc];n===void 0&&(n=t[jc]=new Set);var r=e+"__bubble";n.has(r)||(gh(t,e,2,!1),n.add(r))}function Pl(e,t,n){var r=0;t&&(r|=4),gh(n,e,r,t)}var ci="_reactListening"+Math.random().toString(36).slice(2);function Is(e){if(!e[ci]){e[ci]=!0,Sm.forEach(function(n){n!=="selectionchange"&&(sw.has(n)||Pl(n,!1,e),Pl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ci]||(t[ci]=!0,Pl("selectionchange",!1,t))}}function gh(e,t,n,r){switch(Jm(t)){case 1:var o=v1;break;case 4:o=w1;break;default:o=Vu}n=o.bind(null,t,n,e),o=void 0,!hc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function jl(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;a=a.return}for(;l!==null;){if(a=_r(l),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}l=l.parentNode}}r=r.return}Bm(function(){var u=s,m=Bu(n),f=[];e:{var p=mh.get(e);if(p!==void 0){var C=Wu,x=e;switch(e){case"keypress":if(Ii(n)===0)break e;case"keydown":case"keyup":C=_1;break;case"focusin":x="focus",C=vl;break;case"focusout":x="blur",C=vl;break;case"beforeblur":case"afterblur":C=vl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=Pf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=S1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=$1;break;case uh:case dh:case fh:C=j1;break;case ph:C=z1;break;case"scroll":C=C1;break;case"wheel":C=U1;break;case"copy":case"cut":case"paste":C=M1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=kf}var h=(t&4)!==0,v=!h&&e==="scroll",y=h?p!==null?p+"Capture":null:p;h=[];for(var g=u,w;g!==null;){w=g;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,y!==null&&(b=Ns(g,y),b!=null&&h.push(Ds(g,b,w)))),v)break;g=g.return}0<h.length&&(p=new C(p,x,null,n,m),f.push({event:p,listeners:h}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",C=e==="mouseout"||e==="pointerout",p&&n!==pc&&(x=n.relatedTarget||n.fromElement)&&(_r(x)||x[Wn]))break e;if((C||p)&&(p=m.window===m?m:(p=m.ownerDocument)?p.defaultView||p.parentWindow:window,C?(x=n.relatedTarget||n.toElement,C=u,x=x?_r(x):null,x!==null&&(v=qr(x),x!==v||x.tag!==5&&x.tag!==6)&&(x=null)):(C=null,x=u),C!==x)){if(h=Pf,b="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(h=kf,b="onPointerLeave",y="onPointerEnter",g="pointer"),v=C==null?p:uo(C),w=x==null?p:uo(x),p=new h(b,g+"leave",C,n,m),p.target=v,p.relatedTarget=w,b=null,_r(m)===u&&(h=new h(y,g+"enter",x,n,m),h.target=w,h.relatedTarget=v,b=h),v=b,C&&x)t:{for(h=C,y=x,g=0,w=h;w;w=to(w))g++;for(w=0,b=y;b;b=to(b))w++;for(;0<g-w;)h=to(h),g--;for(;0<w-g;)y=to(y),w--;for(;g--;){if(h===y||y!==null&&h===y.alternate)break t;h=to(h),y=to(y)}h=null}else h=null;C!==null&&$f(f,p,C,h,!1),x!==null&&v!==null&&$f(f,v,x,h,!0)}}e:{if(p=u?uo(u):window,C=p.nodeName&&p.nodeName.toLowerCase(),C==="select"||C==="input"&&p.type==="file")var N=X1;else if(If(p))if(sh)N=J1;else{N=q1;var S=Q1}else(C=p.nodeName)&&C.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=Z1);if(N&&(N=N(e,u))){oh(f,N,n,m);break e}S&&S(e,p,u),e==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&lc(p,"number",p.value)}switch(S=u?uo(u):window,e){case"focusin":(If(S)||S.contentEditable==="true")&&(lo=S,wc=u,hs=null);break;case"focusout":hs=wc=lo=null;break;case"mousedown":Cc=!0;break;case"contextmenu":case"mouseup":case"dragend":Cc=!1,_f(f,n,m);break;case"selectionchange":if(nw)break;case"keydown":case"keyup":_f(f,n,m)}var P;if(Yu)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else ao?nh(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(th&&n.locale!=="ko"&&(ao||j!=="onCompositionStart"?j==="onCompositionEnd"&&ao&&(P=eh()):(cr=m,Hu="value"in cr?cr.value:cr.textContent,ao=!0)),S=qi(u,j),0<S.length&&(j=new jf(j,e,null,n,m),f.push({event:j,listeners:S}),P?j.data=P:(P=rh(n),P!==null&&(j.data=P)))),(P=H1?W1(e,n):K1(e,n))&&(u=qi(u,"onBeforeInput"),0<u.length&&(m=new jf("onBeforeInput","beforeinput",null,n,m),f.push({event:m,listeners:u}),m.data=P))}hh(f,t)})}function Ds(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qi(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=Ns(e,n),s!=null&&r.unshift(Ds(e,s,o)),s=Ns(e,t),s!=null&&r.push(Ds(e,s,o))),e=e.return}return r}function to(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $f(e,t,n,r,o){for(var s=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,o?(c=Ns(n,s),c!=null&&a.unshift(Ds(n,c,l))):o||(c=Ns(n,s),c!=null&&a.push(Ds(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var iw=/\r\n?/g,aw=/\u0000|\uFFFD/g;function Bf(e){return(typeof e=="string"?e:""+e).replace(iw,`
`).replace(aw,"")}function ui(e,t,n){if(t=Bf(t),Bf(e)!==t&&n)throw Error(W(425))}function Zi(){}var bc=null,Sc=null;function Nc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pc=typeof setTimeout=="function"?setTimeout:void 0,lw=typeof clearTimeout=="function"?clearTimeout:void 0,zf=typeof Promise=="function"?Promise:void 0,cw=typeof queueMicrotask=="function"?queueMicrotask:typeof zf<"u"?function(e){return zf.resolve(null).then(e).catch(uw)}:Pc;function uw(e){setTimeout(function(){throw e})}function kl(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),ks(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);ks(t)}function mr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ff(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Fo=Math.random().toString(36).slice(2),wn="__reactFiber$"+Fo,Ts="__reactProps$"+Fo,Wn="__reactContainer$"+Fo,jc="__reactEvents$"+Fo,dw="__reactListeners$"+Fo,fw="__reactHandles$"+Fo;function _r(e){var t=e[wn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Wn]||n[wn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ff(e);e!==null;){if(n=e[wn])return n;e=Ff(e)}return t}e=n,n=e.parentNode}return null}function Ks(e){return e=e[wn]||e[Wn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function uo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function Da(e){return e[Ts]||null}var kc=[],fo=-1;function kr(e){return{current:e}}function Ae(e){0>fo||(e.current=kc[fo],kc[fo]=null,fo--)}function Ee(e,t){fo++,kc[fo]=e.current,e.current=t}var br={},yt=kr(br),Et=kr(!1),zr=br;function Eo(e,t){var n=e.type.contextTypes;if(!n)return br;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function It(e){return e=e.childContextTypes,e!=null}function Ji(){Ae(Et),Ae(yt)}function Uf(e,t,n){if(yt.current!==br)throw Error(W(168));Ee(yt,t),Ee(Et,n)}function yh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(W(108,Qv(e)||"Unknown",o));return Ve({},n,r)}function ea(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||br,zr=yt.current,Ee(yt,e),Ee(Et,Et.current),!0}function Vf(e,t,n){var r=e.stateNode;if(!r)throw Error(W(169));n?(e=yh(e,t,zr),r.__reactInternalMemoizedMergedChildContext=e,Ae(Et),Ae(yt),Ee(yt,e)):Ae(Et),Ee(Et,n)}var zn=null,Ta=!1,Ml=!1;function xh(e){zn===null?zn=[e]:zn.push(e)}function pw(e){Ta=!0,xh(e)}function Mr(){if(!Ml&&zn!==null){Ml=!0;var e=0,t=ke;try{var n=zn;for(ke=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}zn=null,Ta=!1}catch(o){throw zn!==null&&(zn=zn.slice(e+1)),Vm(zu,Mr),o}finally{ke=t,Ml=!1}}return null}var po=[],mo=0,ta=null,na=0,Yt=[],Gt=0,Fr=null,Fn=1,Un="";function Rr(e,t){po[mo++]=na,po[mo++]=ta,ta=e,na=t}function vh(e,t,n){Yt[Gt++]=Fn,Yt[Gt++]=Un,Yt[Gt++]=Fr,Fr=e;var r=Fn;e=Un;var o=32-an(r)-1;r&=~(1<<o),n+=1;var s=32-an(t)+o;if(30<s){var a=o-o%5;s=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Fn=1<<32-an(t)+o|n<<o|r,Un=s+e}else Fn=1<<s|n<<o|r,Un=e}function Xu(e){e.return!==null&&(Rr(e,1),vh(e,1,0))}function Qu(e){for(;e===ta;)ta=po[--mo],po[mo]=null,na=po[--mo],po[mo]=null;for(;e===Fr;)Fr=Yt[--Gt],Yt[Gt]=null,Un=Yt[--Gt],Yt[Gt]=null,Fn=Yt[--Gt],Yt[Gt]=null}var Bt=null,$t=null,Be=!1,sn=null;function wh(e,t){var n=Xt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Hf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Bt=e,$t=mr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Bt=e,$t=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Fr!==null?{id:Fn,overflow:Un}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Xt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Bt=e,$t=null,!0):!1;default:return!1}}function Mc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ec(e){if(Be){var t=$t;if(t){var n=t;if(!Hf(e,t)){if(Mc(e))throw Error(W(418));t=mr(n.nextSibling);var r=Bt;t&&Hf(e,t)?wh(r,n):(e.flags=e.flags&-4097|2,Be=!1,Bt=e)}}else{if(Mc(e))throw Error(W(418));e.flags=e.flags&-4097|2,Be=!1,Bt=e}}}function Wf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Bt=e}function di(e){if(e!==Bt)return!1;if(!Be)return Wf(e),Be=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Nc(e.type,e.memoizedProps)),t&&(t=$t)){if(Mc(e))throw Ch(),Error(W(418));for(;t;)wh(e,t),t=mr(t.nextSibling)}if(Wf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){$t=mr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}$t=null}}else $t=Bt?mr(e.stateNode.nextSibling):null;return!0}function Ch(){for(var e=$t;e;)e=mr(e.nextSibling)}function Io(){$t=Bt=null,Be=!1}function qu(e){sn===null?sn=[e]:sn.push(e)}var mw=Qn.ReactCurrentBatchConfig;function ts(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var l=o.refs;a===null?delete l[s]:l[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,e))}return e}function fi(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Kf(e){var t=e._init;return t(e._payload)}function bh(e){function t(y,g){if(e){var w=y.deletions;w===null?(y.deletions=[g],y.flags|=16):w.push(g)}}function n(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function o(y,g){return y=xr(y,g),y.index=0,y.sibling=null,y}function s(y,g,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<g?(y.flags|=2,g):w):(y.flags|=2,g)):(y.flags|=1048576,g)}function a(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,g,w,b){return g===null||g.tag!==6?(g=_l(w,y.mode,b),g.return=y,g):(g=o(g,w),g.return=y,g)}function c(y,g,w,b){var N=w.type;return N===io?m(y,g,w.props.children,b,w.key):g!==null&&(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===or&&Kf(N)===g.type)?(b=o(g,w.props),b.ref=ts(y,g,w),b.return=y,b):(b=Li(w.type,w.key,w.props,null,y.mode,b),b.ref=ts(y,g,w),b.return=y,b)}function u(y,g,w,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=Al(w,y.mode,b),g.return=y,g):(g=o(g,w.children||[]),g.return=y,g)}function m(y,g,w,b,N){return g===null||g.tag!==7?(g=Br(w,y.mode,b,N),g.return=y,g):(g=o(g,w),g.return=y,g)}function f(y,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=_l(""+g,y.mode,w),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ti:return w=Li(g.type,g.key,g.props,null,y.mode,w),w.ref=ts(y,null,g),w.return=y,w;case so:return g=Al(g,y.mode,w),g.return=y,g;case or:var b=g._init;return f(y,b(g._payload),w)}if(as(g)||Qo(g))return g=Br(g,y.mode,w,null),g.return=y,g;fi(y,g)}return null}function p(y,g,w,b){var N=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(y,g,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ti:return w.key===N?c(y,g,w,b):null;case so:return w.key===N?u(y,g,w,b):null;case or:return N=w._init,p(y,g,N(w._payload),b)}if(as(w)||Qo(w))return N!==null?null:m(y,g,w,b,null);fi(y,w)}return null}function C(y,g,w,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(w)||null,l(g,y,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ti:return y=y.get(b.key===null?w:b.key)||null,c(g,y,b,N);case so:return y=y.get(b.key===null?w:b.key)||null,u(g,y,b,N);case or:var S=b._init;return C(y,g,w,S(b._payload),N)}if(as(b)||Qo(b))return y=y.get(w)||null,m(g,y,b,N,null);fi(g,b)}return null}function x(y,g,w,b){for(var N=null,S=null,P=g,j=g=0,D=null;P!==null&&j<w.length;j++){P.index>j?(D=P,P=null):D=P.sibling;var M=p(y,P,w[j],b);if(M===null){P===null&&(P=D);break}e&&P&&M.alternate===null&&t(y,P),g=s(M,g,j),S===null?N=M:S.sibling=M,S=M,P=D}if(j===w.length)return n(y,P),Be&&Rr(y,j),N;if(P===null){for(;j<w.length;j++)P=f(y,w[j],b),P!==null&&(g=s(P,g,j),S===null?N=P:S.sibling=P,S=P);return Be&&Rr(y,j),N}for(P=r(y,P);j<w.length;j++)D=C(P,y,j,w[j],b),D!==null&&(e&&D.alternate!==null&&P.delete(D.key===null?j:D.key),g=s(D,g,j),S===null?N=D:S.sibling=D,S=D);return e&&P.forEach(function(A){return t(y,A)}),Be&&Rr(y,j),N}function h(y,g,w,b){var N=Qo(w);if(typeof N!="function")throw Error(W(150));if(w=N.call(w),w==null)throw Error(W(151));for(var S=N=null,P=g,j=g=0,D=null,M=w.next();P!==null&&!M.done;j++,M=w.next()){P.index>j?(D=P,P=null):D=P.sibling;var A=p(y,P,M.value,b);if(A===null){P===null&&(P=D);break}e&&P&&A.alternate===null&&t(y,P),g=s(A,g,j),S===null?N=A:S.sibling=A,S=A,P=D}if(M.done)return n(y,P),Be&&Rr(y,j),N;if(P===null){for(;!M.done;j++,M=w.next())M=f(y,M.value,b),M!==null&&(g=s(M,g,j),S===null?N=M:S.sibling=M,S=M);return Be&&Rr(y,j),N}for(P=r(y,P);!M.done;j++,M=w.next())M=C(P,y,j,M.value,b),M!==null&&(e&&M.alternate!==null&&P.delete(M.key===null?j:M.key),g=s(M,g,j),S===null?N=M:S.sibling=M,S=M);return e&&P.forEach(function(T){return t(y,T)}),Be&&Rr(y,j),N}function v(y,g,w,b){if(typeof w=="object"&&w!==null&&w.type===io&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ti:e:{for(var N=w.key,S=g;S!==null;){if(S.key===N){if(N=w.type,N===io){if(S.tag===7){n(y,S.sibling),g=o(S,w.props.children),g.return=y,y=g;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===or&&Kf(N)===S.type){n(y,S.sibling),g=o(S,w.props),g.ref=ts(y,S,w),g.return=y,y=g;break e}n(y,S);break}else t(y,S);S=S.sibling}w.type===io?(g=Br(w.props.children,y.mode,b,w.key),g.return=y,y=g):(b=Li(w.type,w.key,w.props,null,y.mode,b),b.ref=ts(y,g,w),b.return=y,y=b)}return a(y);case so:e:{for(S=w.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(y,g.sibling),g=o(g,w.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else t(y,g);g=g.sibling}g=Al(w,y.mode,b),g.return=y,y=g}return a(y);case or:return S=w._init,v(y,g,S(w._payload),b)}if(as(w))return x(y,g,w,b);if(Qo(w))return h(y,g,w,b);fi(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(y,g.sibling),g=o(g,w),g.return=y,y=g):(n(y,g),g=_l(w,y.mode,b),g.return=y,y=g),a(y)):n(y,g)}return v}var Do=bh(!0),Sh=bh(!1),ra=kr(null),oa=null,ho=null,Zu=null;function Ju(){Zu=ho=oa=null}function ed(e){var t=ra.current;Ae(ra),e._currentValue=t}function Ic(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function bo(e,t){oa=e,Zu=ho=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Mt=!0),e.firstContext=null)}function qt(e){var t=e._currentValue;if(Zu!==e)if(e={context:e,memoizedValue:t,next:null},ho===null){if(oa===null)throw Error(W(308));ho=e,oa.dependencies={lanes:0,firstContext:e}}else ho=ho.next=e;return t}var Ar=null;function td(e){Ar===null?Ar=[e]:Ar.push(e)}function Nh(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,td(t)):(n.next=o.next,o.next=n),t.interleaved=n,Kn(e,r)}function Kn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var sr=!1;function nd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ph(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function hr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ne&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Kn(e,n)}return o=r.interleaved,o===null?(t.next=t,td(r)):(t.next=o.next,o.next=t),r.interleaved=t,Kn(e,n)}function Di(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Fu(e,n)}}function Yf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function sa(e,t,n,r){var o=e.updateQueue;sr=!1;var s=o.firstBaseUpdate,a=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var m=e.alternate;m!==null&&(m=m.updateQueue,l=m.lastBaseUpdate,l!==a&&(l===null?m.firstBaseUpdate=u:l.next=u,m.lastBaseUpdate=c))}if(s!==null){var f=o.baseState;a=0,m=u=c=null,l=s;do{var p=l.lane,C=l.eventTime;if((r&p)===p){m!==null&&(m=m.next={eventTime:C,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,h=l;switch(p=t,C=n,h.tag){case 1:if(x=h.payload,typeof x=="function"){f=x.call(C,f,p);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=h.payload,p=typeof x=="function"?x.call(C,f,p):x,p==null)break e;f=Ve({},f,p);break e;case 2:sr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=o.effects,p===null?o.effects=[l]:p.push(l))}else C={eventTime:C,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},m===null?(u=m=C,c=f):m=m.next=C,a|=p;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;p=l,l=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(!0);if(m===null&&(c=f),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=m,t=o.shared.interleaved,t!==null){o=t;do a|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);Vr|=a,e.lanes=a,e.memoizedState=f}}function Gf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(W(191,o));o.call(r)}}}var Ys={},Sn=kr(Ys),Rs=kr(Ys),Os=kr(Ys);function Lr(e){if(e===Ys)throw Error(W(174));return e}function rd(e,t){switch(Ee(Os,t),Ee(Rs,e),Ee(Sn,Ys),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:uc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=uc(t,e)}Ae(Sn),Ee(Sn,t)}function To(){Ae(Sn),Ae(Rs),Ae(Os)}function jh(e){Lr(Os.current);var t=Lr(Sn.current),n=uc(t,e.type);t!==n&&(Ee(Rs,e),Ee(Sn,n))}function od(e){Rs.current===e&&(Ae(Sn),Ae(Rs))}var Fe=kr(0);function ia(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var El=[];function sd(){for(var e=0;e<El.length;e++)El[e]._workInProgressVersionPrimary=null;El.length=0}var Ti=Qn.ReactCurrentDispatcher,Il=Qn.ReactCurrentBatchConfig,Ur=0,Ue=null,Xe=null,qe=null,aa=!1,gs=!1,_s=0,hw=0;function dt(){throw Error(W(321))}function id(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cn(e[n],t[n]))return!1;return!0}function ad(e,t,n,r,o,s){if(Ur=s,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ti.current=e===null||e.memoizedState===null?vw:ww,e=n(r,o),gs){s=0;do{if(gs=!1,_s=0,25<=s)throw Error(W(301));s+=1,qe=Xe=null,t.updateQueue=null,Ti.current=Cw,e=n(r,o)}while(gs)}if(Ti.current=la,t=Xe!==null&&Xe.next!==null,Ur=0,qe=Xe=Ue=null,aa=!1,t)throw Error(W(300));return e}function ld(){var e=_s!==0;return _s=0,e}function yn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Ue.memoizedState=qe=e:qe=qe.next=e,qe}function Zt(){if(Xe===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var t=qe===null?Ue.memoizedState:qe.next;if(t!==null)qe=t,Xe=e;else{if(e===null)throw Error(W(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},qe===null?Ue.memoizedState=qe=e:qe=qe.next=e}return qe}function As(e,t){return typeof t=="function"?t(e):t}function Dl(e){var t=Zt(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=Xe,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var a=o.next;o.next=s.next,s.next=a}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var l=a=null,c=null,u=s;do{var m=u.lane;if((Ur&m)===m)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:m,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,Ue.lanes|=m,Vr|=m}u=u.next}while(u!==null&&u!==s);c===null?a=r:c.next=l,cn(r,t.memoizedState)||(Mt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,Ue.lanes|=s,Vr|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Tl(e){var t=Zt(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var a=o=o.next;do s=e(s,a.action),a=a.next;while(a!==o);cn(s,t.memoizedState)||(Mt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function kh(){}function Mh(e,t){var n=Ue,r=Zt(),o=t(),s=!cn(r.memoizedState,o);if(s&&(r.memoizedState=o,Mt=!0),r=r.queue,cd(Dh.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||qe!==null&&qe.memoizedState.tag&1){if(n.flags|=2048,Ls(9,Ih.bind(null,n,r,o,t),void 0,null),Je===null)throw Error(W(349));Ur&30||Eh(n,t,o)}return o}function Eh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ih(e,t,n,r){t.value=n,t.getSnapshot=r,Th(t)&&Rh(e)}function Dh(e,t,n){return n(function(){Th(t)&&Rh(e)})}function Th(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cn(e,n)}catch{return!0}}function Rh(e){var t=Kn(e,1);t!==null&&ln(t,e,1,-1)}function Xf(e){var t=yn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:e},t.queue=e,e=e.dispatch=xw.bind(null,Ue,e),[t.memoizedState,e]}function Ls(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Oh(){return Zt().memoizedState}function Ri(e,t,n,r){var o=yn();Ue.flags|=e,o.memoizedState=Ls(1|t,n,void 0,r===void 0?null:r)}function Ra(e,t,n,r){var o=Zt();r=r===void 0?null:r;var s=void 0;if(Xe!==null){var a=Xe.memoizedState;if(s=a.destroy,r!==null&&id(r,a.deps)){o.memoizedState=Ls(t,n,s,r);return}}Ue.flags|=e,o.memoizedState=Ls(1|t,n,s,r)}function Qf(e,t){return Ri(8390656,8,e,t)}function cd(e,t){return Ra(2048,8,e,t)}function _h(e,t){return Ra(4,2,e,t)}function Ah(e,t){return Ra(4,4,e,t)}function Lh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $h(e,t,n){return n=n!=null?n.concat([e]):null,Ra(4,4,Lh.bind(null,t,e),n)}function ud(){}function Bh(e,t){var n=Zt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&id(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function zh(e,t){var n=Zt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&id(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Fh(e,t,n){return Ur&21?(cn(n,t)||(n=Km(),Ue.lanes|=n,Vr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Mt=!0),e.memoizedState=n)}function gw(e,t){var n=ke;ke=n!==0&&4>n?n:4,e(!0);var r=Il.transition;Il.transition={};try{e(!1),t()}finally{ke=n,Il.transition=r}}function Uh(){return Zt().memoizedState}function yw(e,t,n){var r=yr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Vh(e))Hh(t,n);else if(n=Nh(e,t,n,r),n!==null){var o=bt();ln(n,e,r,o),Wh(n,t,r)}}function xw(e,t,n){var r=yr(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vh(e))Hh(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(o.hasEagerState=!0,o.eagerState=l,cn(l,a)){var c=t.interleaved;c===null?(o.next=o,td(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}n=Nh(e,t,o,r),n!==null&&(o=bt(),ln(n,e,r,o),Wh(n,t,r))}}function Vh(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function Hh(e,t){gs=aa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Wh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Fu(e,n)}}var la={readContext:qt,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},vw={readContext:qt,useCallback:function(e,t){return yn().memoizedState=[e,t===void 0?null:t],e},useContext:qt,useEffect:Qf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ri(4194308,4,Lh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ri(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ri(4,2,e,t)},useMemo:function(e,t){var n=yn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=yw.bind(null,Ue,e),[r.memoizedState,e]},useRef:function(e){var t=yn();return e={current:e},t.memoizedState=e},useState:Xf,useDebugValue:ud,useDeferredValue:function(e){return yn().memoizedState=e},useTransition:function(){var e=Xf(!1),t=e[0];return e=gw.bind(null,e[1]),yn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ue,o=yn();if(Be){if(n===void 0)throw Error(W(407));n=n()}else{if(n=t(),Je===null)throw Error(W(349));Ur&30||Eh(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Qf(Dh.bind(null,r,s,e),[e]),r.flags|=2048,Ls(9,Ih.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=yn(),t=Je.identifierPrefix;if(Be){var n=Un,r=Fn;n=(r&~(1<<32-an(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=_s++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=hw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ww={readContext:qt,useCallback:Bh,useContext:qt,useEffect:cd,useImperativeHandle:$h,useInsertionEffect:_h,useLayoutEffect:Ah,useMemo:zh,useReducer:Dl,useRef:Oh,useState:function(){return Dl(As)},useDebugValue:ud,useDeferredValue:function(e){var t=Zt();return Fh(t,Xe.memoizedState,e)},useTransition:function(){var e=Dl(As)[0],t=Zt().memoizedState;return[e,t]},useMutableSource:kh,useSyncExternalStore:Mh,useId:Uh,unstable_isNewReconciler:!1},Cw={readContext:qt,useCallback:Bh,useContext:qt,useEffect:cd,useImperativeHandle:$h,useInsertionEffect:_h,useLayoutEffect:Ah,useMemo:zh,useReducer:Tl,useRef:Oh,useState:function(){return Tl(As)},useDebugValue:ud,useDeferredValue:function(e){var t=Zt();return Xe===null?t.memoizedState=e:Fh(t,Xe.memoizedState,e)},useTransition:function(){var e=Tl(As)[0],t=Zt().memoizedState;return[e,t]},useMutableSource:kh,useSyncExternalStore:Mh,useId:Uh,unstable_isNewReconciler:!1};function rn(e,t){if(e&&e.defaultProps){t=Ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Dc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Oa={isMounted:function(e){return(e=e._reactInternals)?qr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=bt(),o=yr(e),s=Vn(r,o);s.payload=t,n!=null&&(s.callback=n),t=hr(e,s,o),t!==null&&(ln(t,e,o,r),Di(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=bt(),o=yr(e),s=Vn(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=hr(e,s,o),t!==null&&(ln(t,e,o,r),Di(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=bt(),r=yr(e),o=Vn(n,r);o.tag=2,t!=null&&(o.callback=t),t=hr(e,o,r),t!==null&&(ln(t,e,r,n),Di(t,e,r))}};function qf(e,t,n,r,o,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Es(n,r)||!Es(o,s):!0}function Kh(e,t,n){var r=!1,o=br,s=t.contextType;return typeof s=="object"&&s!==null?s=qt(s):(o=It(t)?zr:yt.current,r=t.contextTypes,s=(r=r!=null)?Eo(e,o):br),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Oa,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function Zf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Oa.enqueueReplaceState(t,t.state,null)}function Tc(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},nd(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=qt(s):(s=It(t)?zr:yt.current,o.context=Eo(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Dc(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Oa.enqueueReplaceState(o,o.state,null),sa(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Ro(e,t){try{var n="",r=t;do n+=Xv(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function Rl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Rc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var bw=typeof WeakMap=="function"?WeakMap:Map;function Yh(e,t,n){n=Vn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ua||(ua=!0,Vc=r),Rc(e,t)},n}function Gh(e,t,n){n=Vn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Rc(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Rc(e,t),typeof r!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Jf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new bw;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Aw.bind(null,e,t,n),t.then(e,e))}function ep(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function tp(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vn(-1,1),t.tag=2,hr(n,t,1))),n.lanes|=1),e)}var Sw=Qn.ReactCurrentOwner,Mt=!1;function Ct(e,t,n,r){t.child=e===null?Sh(t,null,n,r):Do(t,e.child,n,r)}function np(e,t,n,r,o){n=n.render;var s=t.ref;return bo(t,o),r=ad(e,t,n,r,s,o),n=ld(),e!==null&&!Mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Yn(e,t,o)):(Be&&n&&Xu(t),t.flags|=1,Ct(e,t,r,o),t.child)}function rp(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!xd(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Xh(e,t,s,r,o)):(e=Li(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Es,n(a,r)&&e.ref===t.ref)return Yn(e,t,o)}return t.flags|=1,e=xr(s,r),e.ref=t.ref,e.return=t,t.child=e}function Xh(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(Es(s,r)&&e.ref===t.ref)if(Mt=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(Mt=!0);else return t.lanes=e.lanes,Yn(e,t,o)}return Oc(e,t,n,r,o)}function Qh(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(yo,At),At|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ee(yo,At),At|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ee(yo,At),At|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ee(yo,At),At|=r;return Ct(e,t,o,n),t.child}function qh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Oc(e,t,n,r,o){var s=It(n)?zr:yt.current;return s=Eo(t,s),bo(t,o),n=ad(e,t,n,r,s,o),r=ld(),e!==null&&!Mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Yn(e,t,o)):(Be&&r&&Xu(t),t.flags|=1,Ct(e,t,n,o),t.child)}function op(e,t,n,r,o){if(It(n)){var s=!0;ea(t)}else s=!1;if(bo(t,o),t.stateNode===null)Oi(e,t),Kh(t,n,r),Tc(t,n,r,o),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=qt(u):(u=It(n)?zr:yt.current,u=Eo(t,u));var m=n.getDerivedStateFromProps,f=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Zf(t,a,r,u),sr=!1;var p=t.memoizedState;a.state=p,sa(t,r,a,o),c=t.memoizedState,l!==r||p!==c||Et.current||sr?(typeof m=="function"&&(Dc(t,n,m,r),c=t.memoizedState),(l=sr||qf(t,n,l,r,p,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ph(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:rn(t.type,l),a.props=u,f=t.pendingProps,p=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=qt(c):(c=It(n)?zr:yt.current,c=Eo(t,c));var C=n.getDerivedStateFromProps;(m=typeof C=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||p!==c)&&Zf(t,a,r,c),sr=!1,p=t.memoizedState,a.state=p,sa(t,r,a,o);var x=t.memoizedState;l!==f||p!==x||Et.current||sr?(typeof C=="function"&&(Dc(t,n,C,r),x=t.memoizedState),(u=sr||qf(t,n,u,r,p,x,c)||!1)?(m||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,x,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,x,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),a.props=r,a.state=x,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return _c(e,t,n,r,s,o)}function _c(e,t,n,r,o,s){qh(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return o&&Vf(t,n,!1),Yn(e,t,s);r=t.stateNode,Sw.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Do(t,e.child,null,s),t.child=Do(t,null,l,s)):Ct(e,t,l,s),t.memoizedState=r.state,o&&Vf(t,n,!0),t.child}function Zh(e){var t=e.stateNode;t.pendingContext?Uf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Uf(e,t.context,!1),rd(e,t.containerInfo)}function sp(e,t,n,r,o){return Io(),qu(o),t.flags|=256,Ct(e,t,n,r),t.child}var Ac={dehydrated:null,treeContext:null,retryLane:0};function Lc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Jh(e,t,n){var r=t.pendingProps,o=Fe.current,s=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Ee(Fe,o&1),e===null)return Ec(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=La(a,r,0,null),e=Br(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Lc(n),t.memoizedState=Ac,e):dd(t,a));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return Nw(e,t,a,r,l,o,n);if(s){s=r.fallback,a=t.mode,o=e.child,l=o.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=xr(o,c),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?s=xr(l,s):(s=Br(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?Lc(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=Ac,r}return s=e.child,e=s.sibling,r=xr(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function dd(e,t){return t=La({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function pi(e,t,n,r){return r!==null&&qu(r),Do(t,e.child,null,n),e=dd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Nw(e,t,n,r,o,s,a){if(n)return t.flags&256?(t.flags&=-257,r=Rl(Error(W(422))),pi(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=La({mode:"visible",children:r.children},o,0,null),s=Br(s,o,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Do(t,e.child,null,a),t.child.memoizedState=Lc(a),t.memoizedState=Ac,s);if(!(t.mode&1))return pi(e,t,a,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(W(419)),r=Rl(s,r,void 0),pi(e,t,a,r)}if(l=(a&e.childLanes)!==0,Mt||l){if(r=Je,r!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|a)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,Kn(e,o),ln(r,e,o,-1))}return yd(),r=Rl(Error(W(421))),pi(e,t,a,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Lw.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,$t=mr(o.nextSibling),Bt=t,Be=!0,sn=null,e!==null&&(Yt[Gt++]=Fn,Yt[Gt++]=Un,Yt[Gt++]=Fr,Fn=e.id,Un=e.overflow,Fr=t),t=dd(t,r.children),t.flags|=4096,t)}function ip(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ic(e.return,t,n)}function Ol(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function eg(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(Ct(e,t,r.children,n),r=Fe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ip(e,n,t);else if(e.tag===19)ip(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ee(Fe,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&ia(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ol(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&ia(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ol(t,!0,n,null,s);break;case"together":Ol(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Oi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Vr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,n=xr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=xr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Pw(e,t,n){switch(t.tag){case 3:Zh(t),Io();break;case 5:jh(t);break;case 1:It(t.type)&&ea(t);break;case 4:rd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Ee(ra,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ee(Fe,Fe.current&1),t.flags|=128,null):n&t.child.childLanes?Jh(e,t,n):(Ee(Fe,Fe.current&1),e=Yn(e,t,n),e!==null?e.sibling:null);Ee(Fe,Fe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return eg(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ee(Fe,Fe.current),r)break;return null;case 22:case 23:return t.lanes=0,Qh(e,t,n)}return Yn(e,t,n)}var tg,$c,ng,rg;tg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$c=function(){};ng=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Lr(Sn.current);var s=null;switch(n){case"input":o=ic(e,o),r=ic(e,r),s=[];break;case"select":o=Ve({},o,{value:void 0}),r=Ve({},r,{value:void 0}),s=[];break;case"textarea":o=cc(e,o),r=cc(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Zi)}dc(n,r);var a;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bs.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bs.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Re("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};rg=function(e,t,n,r){n!==r&&(t.flags|=4)};function ns(e,t){if(!Be)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ft(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function jw(e,t,n){var r=t.pendingProps;switch(Qu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(t),null;case 1:return It(t.type)&&Ji(),ft(t),null;case 3:return r=t.stateNode,To(),Ae(Et),Ae(yt),sd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(di(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,sn!==null&&(Kc(sn),sn=null))),$c(e,t),ft(t),null;case 5:od(t);var o=Lr(Os.current);if(n=t.type,e!==null&&t.stateNode!=null)ng(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(W(166));return ft(t),null}if(e=Lr(Sn.current),di(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[wn]=t,r[Ts]=s,e=(t.mode&1)!==0,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(o=0;o<cs.length;o++)Re(cs[o],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":hf(r,s),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Re("invalid",r);break;case"textarea":yf(r,s),Re("invalid",r)}dc(n,s),o=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&ui(r.textContent,l,e),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&ui(r.textContent,l,e),o=["children",""+l]):bs.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Re("scroll",r)}switch(n){case"input":ni(r),gf(r,s,!0);break;case"textarea":ni(r),xf(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Zi)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Dm(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[wn]=t,e[Ts]=r,tg(e,t,!1,!1),t.stateNode=e;e:{switch(a=fc(n,r),n){case"dialog":Re("cancel",e),Re("close",e),o=r;break;case"iframe":case"object":case"embed":Re("load",e),o=r;break;case"video":case"audio":for(o=0;o<cs.length;o++)Re(cs[o],e);o=r;break;case"source":Re("error",e),o=r;break;case"img":case"image":case"link":Re("error",e),Re("load",e),o=r;break;case"details":Re("toggle",e),o=r;break;case"input":hf(e,r),o=ic(e,r),Re("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Ve({},r,{value:void 0}),Re("invalid",e);break;case"textarea":yf(e,r),o=cc(e,r),Re("invalid",e);break;default:o=r}dc(n,o),l=o;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?Om(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Tm(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ss(e,c):typeof c=="number"&&Ss(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(bs.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Re("scroll",e):c!=null&&_u(e,s,c,a))}switch(n){case"input":ni(e),gf(e,r,!1);break;case"textarea":ni(e),xf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Cr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?xo(e,!!r.multiple,s,!1):r.defaultValue!=null&&xo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Zi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ft(t),null;case 6:if(e&&t.stateNode!=null)rg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(W(166));if(n=Lr(Os.current),Lr(Sn.current),di(t)){if(r=t.stateNode,n=t.memoizedProps,r[wn]=t,(s=r.nodeValue!==n)&&(e=Bt,e!==null))switch(e.tag){case 3:ui(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ui(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wn]=t,t.stateNode=r}return ft(t),null;case 13:if(Ae(Fe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Be&&$t!==null&&t.mode&1&&!(t.flags&128))Ch(),Io(),t.flags|=98560,s=!1;else if(s=di(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(W(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[wn]=t}else Io(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ft(t),s=!1}else sn!==null&&(Kc(sn),sn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Fe.current&1?Qe===0&&(Qe=3):yd())),t.updateQueue!==null&&(t.flags|=4),ft(t),null);case 4:return To(),$c(e,t),e===null&&Is(t.stateNode.containerInfo),ft(t),null;case 10:return ed(t.type._context),ft(t),null;case 17:return It(t.type)&&Ji(),ft(t),null;case 19:if(Ae(Fe),s=t.memoizedState,s===null)return ft(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)ns(s,!1);else{if(Qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=ia(e),a!==null){for(t.flags|=128,ns(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ee(Fe,Fe.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ke()>Oo&&(t.flags|=128,r=!0,ns(s,!1),t.lanes=4194304)}else{if(!r)if(e=ia(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ns(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Be)return ft(t),null}else 2*Ke()-s.renderingStartTime>Oo&&n!==1073741824&&(t.flags|=128,r=!0,ns(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ke(),t.sibling=null,n=Fe.current,Ee(Fe,r?n&1|2:n&1),t):(ft(t),null);case 22:case 23:return gd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?At&1073741824&&(ft(t),t.subtreeFlags&6&&(t.flags|=8192)):ft(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function kw(e,t){switch(Qu(t),t.tag){case 1:return It(t.type)&&Ji(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return To(),Ae(Et),Ae(yt),sd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return od(t),null;case 13:if(Ae(Fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));Io()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ae(Fe),null;case 4:return To(),null;case 10:return ed(t.type._context),null;case 22:case 23:return gd(),null;case 24:return null;default:return null}}var mi=!1,pt=!1,Mw=typeof WeakSet=="function"?WeakSet:Set,J=null;function go(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){He(e,t,r)}else n.current=null}function Bc(e,t,n){try{n()}catch(r){He(e,t,r)}}var ap=!1;function Ew(e,t){if(bc=Xi,e=lh(),Gu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,m=0,f=e,p=null;t:for(;;){for(var C;f!==n||o!==0&&f.nodeType!==3||(l=a+o),f!==s||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(C=f.firstChild)!==null;)p=f,f=C;for(;;){if(f===e)break t;if(p===n&&++u===o&&(l=a),p===s&&++m===r&&(c=a),(C=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=C}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sc={focusedElem:e,selectionRange:n},Xi=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var h=x.memoizedProps,v=x.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?h:rn(t.type,h),v);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(b){He(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return x=ap,ap=!1,x}function ys(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&Bc(t,n,s)}o=o.next}while(o!==r)}}function _a(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function zc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function og(e){var t=e.alternate;t!==null&&(e.alternate=null,og(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wn],delete t[Ts],delete t[jc],delete t[dw],delete t[fw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sg(e){return e.tag===5||e.tag===3||e.tag===4}function lp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Zi));else if(r!==4&&(e=e.child,e!==null))for(Fc(e,t,n),e=e.sibling;e!==null;)Fc(e,t,n),e=e.sibling}function Uc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Uc(e,t,n),e=e.sibling;e!==null;)Uc(e,t,n),e=e.sibling}var tt=null,on=!1;function er(e,t,n){for(n=n.child;n!==null;)ig(e,t,n),n=n.sibling}function ig(e,t,n){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(ka,n)}catch{}switch(n.tag){case 5:pt||go(n,t);case 6:var r=tt,o=on;tt=null,er(e,t,n),tt=r,on=o,tt!==null&&(on?(e=tt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):tt.removeChild(n.stateNode));break;case 18:tt!==null&&(on?(e=tt,n=n.stateNode,e.nodeType===8?kl(e.parentNode,n):e.nodeType===1&&kl(e,n),ks(e)):kl(tt,n.stateNode));break;case 4:r=tt,o=on,tt=n.stateNode.containerInfo,on=!0,er(e,t,n),tt=r,on=o;break;case 0:case 11:case 14:case 15:if(!pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Bc(n,t,a),o=o.next}while(o!==r)}er(e,t,n);break;case 1:if(!pt&&(go(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){He(n,t,l)}er(e,t,n);break;case 21:er(e,t,n);break;case 22:n.mode&1?(pt=(r=pt)||n.memoizedState!==null,er(e,t,n),pt=r):er(e,t,n);break;default:er(e,t,n)}}function cp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Mw),t.forEach(function(r){var o=$w.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Jt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:tt=l.stateNode,on=!1;break e;case 3:tt=l.stateNode.containerInfo,on=!0;break e;case 4:tt=l.stateNode.containerInfo,on=!0;break e}l=l.return}if(tt===null)throw Error(W(160));ig(s,a,o),tt=null,on=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(u){He(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ag(t,e),t=t.sibling}function ag(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Jt(t,e),gn(e),r&4){try{ys(3,e,e.return),_a(3,e)}catch(h){He(e,e.return,h)}try{ys(5,e,e.return)}catch(h){He(e,e.return,h)}}break;case 1:Jt(t,e),gn(e),r&512&&n!==null&&go(n,n.return);break;case 5:if(Jt(t,e),gn(e),r&512&&n!==null&&go(n,n.return),e.flags&32){var o=e.stateNode;try{Ss(o,"")}catch(h){He(e,e.return,h)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Em(o,s),fc(l,a);var u=fc(l,s);for(a=0;a<c.length;a+=2){var m=c[a],f=c[a+1];m==="style"?Om(o,f):m==="dangerouslySetInnerHTML"?Tm(o,f):m==="children"?Ss(o,f):_u(o,m,f,u)}switch(l){case"input":ac(o,s);break;case"textarea":Im(o,s);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var C=s.value;C!=null?xo(o,!!s.multiple,C,!1):p!==!!s.multiple&&(s.defaultValue!=null?xo(o,!!s.multiple,s.defaultValue,!0):xo(o,!!s.multiple,s.multiple?[]:"",!1))}o[Ts]=s}catch(h){He(e,e.return,h)}}break;case 6:if(Jt(t,e),gn(e),r&4){if(e.stateNode===null)throw Error(W(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(h){He(e,e.return,h)}}break;case 3:if(Jt(t,e),gn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ks(t.containerInfo)}catch(h){He(e,e.return,h)}break;case 4:Jt(t,e),gn(e);break;case 13:Jt(t,e),gn(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(md=Ke())),r&4&&cp(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(pt=(u=pt)||m,Jt(t,e),pt=u):Jt(t,e),gn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!m&&e.mode&1)for(J=e,m=e.child;m!==null;){for(f=J=m;J!==null;){switch(p=J,C=p.child,p.tag){case 0:case 11:case 14:case 15:ys(4,p,p.return);break;case 1:go(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(h){He(r,n,h)}}break;case 5:go(p,p.return);break;case 22:if(p.memoizedState!==null){dp(f);continue}}C!==null?(C.return=p,J=C):dp(f)}m=m.sibling}e:for(m=null,f=e;;){if(f.tag===5){if(m===null){m=f;try{o=f.stateNode,u?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Rm("display",a))}catch(h){He(e,e.return,h)}}}else if(f.tag===6){if(m===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(h){He(e,e.return,h)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;m===f&&(m=null),f=f.return}m===f&&(m=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Jt(t,e),gn(e),r&4&&cp(e);break;case 21:break;default:Jt(t,e),gn(e)}}function gn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(sg(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Ss(o,""),r.flags&=-33);var s=lp(e);Uc(e,s,o);break;case 3:case 4:var a=r.stateNode.containerInfo,l=lp(e);Fc(e,l,a);break;default:throw Error(W(161))}}catch(c){He(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Iw(e,t,n){J=e,lg(e)}function lg(e,t,n){for(var r=(e.mode&1)!==0;J!==null;){var o=J,s=o.child;if(o.tag===22&&r){var a=o.memoizedState!==null||mi;if(!a){var l=o.alternate,c=l!==null&&l.memoizedState!==null||pt;l=mi;var u=pt;if(mi=a,(pt=c)&&!u)for(J=o;J!==null;)a=J,c=a.child,a.tag===22&&a.memoizedState!==null?fp(o):c!==null?(c.return=a,J=c):fp(o);for(;s!==null;)J=s,lg(s),s=s.sibling;J=o,mi=l,pt=u}up(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,J=s):up(e)}}function up(e){for(;J!==null;){var t=J;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pt||_a(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!pt)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:rn(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Gf(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Gf(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var m=u.memoizedState;if(m!==null){var f=m.dehydrated;f!==null&&ks(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}pt||t.flags&512&&zc(t)}catch(p){He(t,t.return,p)}}if(t===e){J=null;break}if(n=t.sibling,n!==null){n.return=t.return,J=n;break}J=t.return}}function dp(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var n=t.sibling;if(n!==null){n.return=t.return,J=n;break}J=t.return}}function fp(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{_a(4,t)}catch(c){He(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(c){He(t,o,c)}}var s=t.return;try{zc(t)}catch(c){He(t,s,c)}break;case 5:var a=t.return;try{zc(t)}catch(c){He(t,a,c)}}}catch(c){He(t,t.return,c)}if(t===e){J=null;break}var l=t.sibling;if(l!==null){l.return=t.return,J=l;break}J=t.return}}var Dw=Math.ceil,ca=Qn.ReactCurrentDispatcher,fd=Qn.ReactCurrentOwner,Qt=Qn.ReactCurrentBatchConfig,Ne=0,Je=null,Ge=null,nt=0,At=0,yo=kr(0),Qe=0,$s=null,Vr=0,Aa=0,pd=0,xs=null,kt=null,md=0,Oo=1/0,En=null,ua=!1,Vc=null,gr=null,hi=!1,ur=null,da=0,vs=0,Hc=null,_i=-1,Ai=0;function bt(){return Ne&6?Ke():_i!==-1?_i:_i=Ke()}function yr(e){return e.mode&1?Ne&2&&nt!==0?nt&-nt:mw.transition!==null?(Ai===0&&(Ai=Km()),Ai):(e=ke,e!==0||(e=window.event,e=e===void 0?16:Jm(e.type)),e):1}function ln(e,t,n,r){if(50<vs)throw vs=0,Hc=null,Error(W(185));Hs(e,n,r),(!(Ne&2)||e!==Je)&&(e===Je&&(!(Ne&2)&&(Aa|=n),Qe===4&&lr(e,nt)),Dt(e,r),n===1&&Ne===0&&!(t.mode&1)&&(Oo=Ke()+500,Ta&&Mr()))}function Dt(e,t){var n=e.callbackNode;m1(e,t);var r=Gi(e,e===Je?nt:0);if(r===0)n!==null&&Cf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Cf(n),t===1)e.tag===0?pw(pp.bind(null,e)):xh(pp.bind(null,e)),cw(function(){!(Ne&6)&&Mr()}),n=null;else{switch(Ym(r)){case 1:n=zu;break;case 4:n=Hm;break;case 16:n=Yi;break;case 536870912:n=Wm;break;default:n=Yi}n=gg(n,cg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function cg(e,t){if(_i=-1,Ai=0,Ne&6)throw Error(W(327));var n=e.callbackNode;if(So()&&e.callbackNode!==n)return null;var r=Gi(e,e===Je?nt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=fa(e,r);else{t=r;var o=Ne;Ne|=2;var s=dg();(Je!==e||nt!==t)&&(En=null,Oo=Ke()+500,$r(e,t));do try{Ow();break}catch(l){ug(e,l)}while(!0);Ju(),ca.current=s,Ne=o,Ge!==null?t=0:(Je=null,nt=0,t=Qe)}if(t!==0){if(t===2&&(o=yc(e),o!==0&&(r=o,t=Wc(e,o))),t===1)throw n=$s,$r(e,0),lr(e,r),Dt(e,Ke()),n;if(t===6)lr(e,r);else{if(o=e.current.alternate,!(r&30)&&!Tw(o)&&(t=fa(e,r),t===2&&(s=yc(e),s!==0&&(r=s,t=Wc(e,s))),t===1))throw n=$s,$r(e,0),lr(e,r),Dt(e,Ke()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(W(345));case 2:Or(e,kt,En);break;case 3:if(lr(e,r),(r&130023424)===r&&(t=md+500-Ke(),10<t)){if(Gi(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){bt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Pc(Or.bind(null,e,kt,En),t);break}Or(e,kt,En);break;case 4:if(lr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-an(r);s=1<<a,a=t[a],a>o&&(o=a),r&=~s}if(r=o,r=Ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Dw(r/1960))-r,10<r){e.timeoutHandle=Pc(Or.bind(null,e,kt,En),r);break}Or(e,kt,En);break;case 5:Or(e,kt,En);break;default:throw Error(W(329))}}}return Dt(e,Ke()),e.callbackNode===n?cg.bind(null,e):null}function Wc(e,t){var n=xs;return e.current.memoizedState.isDehydrated&&($r(e,t).flags|=256),e=fa(e,t),e!==2&&(t=kt,kt=n,t!==null&&Kc(t)),e}function Kc(e){kt===null?kt=e:kt.push.apply(kt,e)}function Tw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!cn(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function lr(e,t){for(t&=~pd,t&=~Aa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-an(t),r=1<<n;e[n]=-1,t&=~r}}function pp(e){if(Ne&6)throw Error(W(327));So();var t=Gi(e,0);if(!(t&1))return Dt(e,Ke()),null;var n=fa(e,t);if(e.tag!==0&&n===2){var r=yc(e);r!==0&&(t=r,n=Wc(e,r))}if(n===1)throw n=$s,$r(e,0),lr(e,t),Dt(e,Ke()),n;if(n===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Or(e,kt,En),Dt(e,Ke()),null}function hd(e,t){var n=Ne;Ne|=1;try{return e(t)}finally{Ne=n,Ne===0&&(Oo=Ke()+500,Ta&&Mr())}}function Hr(e){ur!==null&&ur.tag===0&&!(Ne&6)&&So();var t=Ne;Ne|=1;var n=Qt.transition,r=ke;try{if(Qt.transition=null,ke=1,e)return e()}finally{ke=r,Qt.transition=n,Ne=t,!(Ne&6)&&Mr()}}function gd(){At=yo.current,Ae(yo)}function $r(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,lw(n)),Ge!==null)for(n=Ge.return;n!==null;){var r=n;switch(Qu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ji();break;case 3:To(),Ae(Et),Ae(yt),sd();break;case 5:od(r);break;case 4:To();break;case 13:Ae(Fe);break;case 19:Ae(Fe);break;case 10:ed(r.type._context);break;case 22:case 23:gd()}n=n.return}if(Je=e,Ge=e=xr(e.current,null),nt=At=t,Qe=0,$s=null,pd=Aa=Vr=0,kt=xs=null,Ar!==null){for(t=0;t<Ar.length;t++)if(n=Ar[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=o,r.next=a}n.pending=r}Ar=null}return e}function ug(e,t){do{var n=Ge;try{if(Ju(),Ti.current=la,aa){for(var r=Ue.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}aa=!1}if(Ur=0,qe=Xe=Ue=null,gs=!1,_s=0,fd.current=null,n===null||n.return===null){Qe=1,$s=t,Ge=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=nt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,m=l,f=m.tag;if(!(m.mode&1)&&(f===0||f===11||f===15)){var p=m.alternate;p?(m.updateQueue=p.updateQueue,m.memoizedState=p.memoizedState,m.lanes=p.lanes):(m.updateQueue=null,m.memoizedState=null)}var C=ep(a);if(C!==null){C.flags&=-257,tp(C,a,l,s,t),C.mode&1&&Jf(s,u,t),t=C,c=u;var x=t.updateQueue;if(x===null){var h=new Set;h.add(c),t.updateQueue=h}else x.add(c);break e}else{if(!(t&1)){Jf(s,u,t),yd();break e}c=Error(W(426))}}else if(Be&&l.mode&1){var v=ep(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),tp(v,a,l,s,t),qu(Ro(c,l));break e}}s=c=Ro(c,l),Qe!==4&&(Qe=2),xs===null?xs=[s]:xs.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=Yh(s,c,t);Yf(s,y);break e;case 1:l=c;var g=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(gr===null||!gr.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var b=Gh(s,l,t);Yf(s,b);break e}}s=s.return}while(s!==null)}pg(n)}catch(N){t=N,Ge===n&&n!==null&&(Ge=n=n.return);continue}break}while(!0)}function dg(){var e=ca.current;return ca.current=la,e===null?la:e}function yd(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),Je===null||!(Vr&268435455)&&!(Aa&268435455)||lr(Je,nt)}function fa(e,t){var n=Ne;Ne|=2;var r=dg();(Je!==e||nt!==t)&&(En=null,$r(e,t));do try{Rw();break}catch(o){ug(e,o)}while(!0);if(Ju(),Ne=n,ca.current=r,Ge!==null)throw Error(W(261));return Je=null,nt=0,Qe}function Rw(){for(;Ge!==null;)fg(Ge)}function Ow(){for(;Ge!==null&&!s1();)fg(Ge)}function fg(e){var t=hg(e.alternate,e,At);e.memoizedProps=e.pendingProps,t===null?pg(e):Ge=t,fd.current=null}function pg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=kw(n,t),n!==null){n.flags&=32767,Ge=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qe=6,Ge=null;return}}else if(n=jw(n,t,At),n!==null){Ge=n;return}if(t=t.sibling,t!==null){Ge=t;return}Ge=t=e}while(t!==null);Qe===0&&(Qe=5)}function Or(e,t,n){var r=ke,o=Qt.transition;try{Qt.transition=null,ke=1,_w(e,t,n,r)}finally{Qt.transition=o,ke=r}return null}function _w(e,t,n,r){do So();while(ur!==null);if(Ne&6)throw Error(W(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(h1(e,s),e===Je&&(Ge=Je=null,nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hi||(hi=!0,gg(Yi,function(){return So(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Qt.transition,Qt.transition=null;var a=ke;ke=1;var l=Ne;Ne|=4,fd.current=null,Ew(e,n),ag(n,e),tw(Sc),Xi=!!bc,Sc=bc=null,e.current=n,Iw(n),i1(),Ne=l,ke=a,Qt.transition=s}else e.current=n;if(hi&&(hi=!1,ur=e,da=o),s=e.pendingLanes,s===0&&(gr=null),c1(n.stateNode),Dt(e,Ke()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(ua)throw ua=!1,e=Vc,Vc=null,e;return da&1&&e.tag!==0&&So(),s=e.pendingLanes,s&1?e===Hc?vs++:(vs=0,Hc=e):vs=0,Mr(),null}function So(){if(ur!==null){var e=Ym(da),t=Qt.transition,n=ke;try{if(Qt.transition=null,ke=16>e?16:e,ur===null)var r=!1;else{if(e=ur,ur=null,da=0,Ne&6)throw Error(W(331));var o=Ne;for(Ne|=4,J=e.current;J!==null;){var s=J,a=s.child;if(J.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(J=u;J!==null;){var m=J;switch(m.tag){case 0:case 11:case 15:ys(8,m,s)}var f=m.child;if(f!==null)f.return=m,J=f;else for(;J!==null;){m=J;var p=m.sibling,C=m.return;if(og(m),m===u){J=null;break}if(p!==null){p.return=C,J=p;break}J=C}}}var x=s.alternate;if(x!==null){var h=x.child;if(h!==null){x.child=null;do{var v=h.sibling;h.sibling=null,h=v}while(h!==null)}}J=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,J=a;else e:for(;J!==null;){if(s=J,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ys(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,J=y;break e}J=s.return}}var g=e.current;for(J=g;J!==null;){a=J;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,J=w;else e:for(a=g;J!==null;){if(l=J,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:_a(9,l)}}catch(N){He(l,l.return,N)}if(l===a){J=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,J=b;break e}J=l.return}}if(Ne=o,Mr(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(ka,e)}catch{}r=!0}return r}finally{ke=n,Qt.transition=t}}return!1}function mp(e,t,n){t=Ro(n,t),t=Yh(e,t,1),e=hr(e,t,1),t=bt(),e!==null&&(Hs(e,1,t),Dt(e,t))}function He(e,t,n){if(e.tag===3)mp(e,e,n);else for(;t!==null;){if(t.tag===3){mp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gr===null||!gr.has(r))){e=Ro(n,e),e=Gh(t,e,1),t=hr(t,e,1),e=bt(),t!==null&&(Hs(t,1,e),Dt(t,e));break}}t=t.return}}function Aw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=bt(),e.pingedLanes|=e.suspendedLanes&n,Je===e&&(nt&n)===n&&(Qe===4||Qe===3&&(nt&130023424)===nt&&500>Ke()-md?$r(e,0):pd|=n),Dt(e,t)}function mg(e,t){t===0&&(e.mode&1?(t=si,si<<=1,!(si&130023424)&&(si=4194304)):t=1);var n=bt();e=Kn(e,t),e!==null&&(Hs(e,t,n),Dt(e,n))}function Lw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),mg(e,n)}function $w(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(t),mg(e,n)}var hg;hg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Et.current)Mt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Mt=!1,Pw(e,t,n);Mt=!!(e.flags&131072)}else Mt=!1,Be&&t.flags&1048576&&vh(t,na,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Oi(e,t),e=t.pendingProps;var o=Eo(t,yt.current);bo(t,n),o=ad(null,t,r,e,o,n);var s=ld();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,It(r)?(s=!0,ea(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,nd(t),o.updater=Oa,t.stateNode=o,o._reactInternals=t,Tc(t,r,e,n),t=_c(null,t,r,!0,s,n)):(t.tag=0,Be&&s&&Xu(t),Ct(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Oi(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=zw(r),e=rn(r,e),o){case 0:t=Oc(null,t,r,e,n);break e;case 1:t=op(null,t,r,e,n);break e;case 11:t=np(null,t,r,e,n);break e;case 14:t=rp(null,t,r,rn(r.type,e),n);break e}throw Error(W(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:rn(r,o),Oc(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:rn(r,o),op(e,t,r,o,n);case 3:e:{if(Zh(t),e===null)throw Error(W(387));r=t.pendingProps,s=t.memoizedState,o=s.element,Ph(e,t),sa(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=Ro(Error(W(423)),t),t=sp(e,t,r,n,o);break e}else if(r!==o){o=Ro(Error(W(424)),t),t=sp(e,t,r,n,o);break e}else for($t=mr(t.stateNode.containerInfo.firstChild),Bt=t,Be=!0,sn=null,n=Sh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Io(),r===o){t=Yn(e,t,n);break e}Ct(e,t,r,n)}t=t.child}return t;case 5:return jh(t),e===null&&Ec(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,a=o.children,Nc(r,o)?a=null:s!==null&&Nc(r,s)&&(t.flags|=32),qh(e,t),Ct(e,t,a,n),t.child;case 6:return e===null&&Ec(t),null;case 13:return Jh(e,t,n);case 4:return rd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Do(t,null,r,n):Ct(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:rn(r,o),np(e,t,r,o,n);case 7:return Ct(e,t,t.pendingProps,n),t.child;case 8:return Ct(e,t,t.pendingProps.children,n),t.child;case 12:return Ct(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value,Ee(ra,r._currentValue),r._currentValue=a,s!==null)if(cn(s.value,a)){if(s.children===o.children&&!Et.current){t=Yn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Vn(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var m=u.pending;m===null?c.next=c:(c.next=m.next,m.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Ic(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(W(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Ic(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Ct(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,bo(t,n),o=qt(o),r=r(o),t.flags|=1,Ct(e,t,r,n),t.child;case 14:return r=t.type,o=rn(r,t.pendingProps),o=rn(r.type,o),rp(e,t,r,o,n);case 15:return Xh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:rn(r,o),Oi(e,t),t.tag=1,It(r)?(e=!0,ea(t)):e=!1,bo(t,n),Kh(t,r,o),Tc(t,r,o,n),_c(null,t,r,!0,e,n);case 19:return eg(e,t,n);case 22:return Qh(e,t,n)}throw Error(W(156,t.tag))};function gg(e,t){return Vm(e,t)}function Bw(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(e,t,n,r){return new Bw(e,t,n,r)}function xd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zw(e){if(typeof e=="function")return xd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Lu)return 11;if(e===$u)return 14}return 2}function xr(e,t){var n=e.alternate;return n===null?(n=Xt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Li(e,t,n,r,o,s){var a=2;if(r=e,typeof e=="function")xd(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case io:return Br(n.children,o,s,t);case Au:a=8,o|=8;break;case nc:return e=Xt(12,n,t,o|2),e.elementType=nc,e.lanes=s,e;case rc:return e=Xt(13,n,t,o),e.elementType=rc,e.lanes=s,e;case oc:return e=Xt(19,n,t,o),e.elementType=oc,e.lanes=s,e;case jm:return La(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Nm:a=10;break e;case Pm:a=9;break e;case Lu:a=11;break e;case $u:a=14;break e;case or:a=16,r=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=Xt(a,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function Br(e,t,n,r){return e=Xt(7,e,r,t),e.lanes=n,e}function La(e,t,n,r){return e=Xt(22,e,r,t),e.elementType=jm,e.lanes=n,e.stateNode={isHidden:!1},e}function _l(e,t,n){return e=Xt(6,e,null,t),e.lanes=n,e}function Al(e,t,n){return t=Xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fw(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gl(0),this.expirationTimes=gl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function vd(e,t,n,r,o,s,a,l,c){return e=new Fw(e,t,n,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Xt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nd(s),e}function Uw(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:so,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function yg(e){if(!e)return br;e=e._reactInternals;e:{if(qr(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(It(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var n=e.type;if(It(n))return yh(e,n,t)}return t}function xg(e,t,n,r,o,s,a,l,c){return e=vd(n,r,!0,e,o,s,a,l,c),e.context=yg(null),n=e.current,r=bt(),o=yr(n),s=Vn(r,o),s.callback=t??null,hr(n,s,o),e.current.lanes=o,Hs(e,o,r),Dt(e,r),e}function $a(e,t,n,r){var o=t.current,s=bt(),a=yr(o);return n=yg(n),t.context===null?t.context=n:t.pendingContext=n,t=Vn(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=hr(o,t,a),e!==null&&(ln(e,o,a,s),Di(e,o,a)),a}function pa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function wd(e,t){hp(e,t),(e=e.alternate)&&hp(e,t)}function Vw(){return null}var vg=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cd(e){this._internalRoot=e}Ba.prototype.render=Cd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));$a(e,t,null,null)};Ba.prototype.unmount=Cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hr(function(){$a(null,e,null,null)}),t[Wn]=null}};function Ba(e){this._internalRoot=e}Ba.prototype.unstable_scheduleHydration=function(e){if(e){var t=Qm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ar.length&&t!==0&&t<ar[n].priority;n++);ar.splice(n,0,e),n===0&&Zm(e)}};function bd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function za(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gp(){}function Hw(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var u=pa(a);s.call(u)}}var a=xg(t,r,e,0,null,!1,!1,"",gp);return e._reactRootContainer=a,e[Wn]=a.current,Is(e.nodeType===8?e.parentNode:e),Hr(),a}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var u=pa(c);l.call(u)}}var c=vd(e,0,!1,null,null,!1,!1,"",gp);return e._reactRootContainer=c,e[Wn]=c.current,Is(e.nodeType===8?e.parentNode:e),Hr(function(){$a(t,c,n,r)}),c}function Fa(e,t,n,r,o){var s=n._reactRootContainer;if(s){var a=s;if(typeof o=="function"){var l=o;o=function(){var c=pa(a);l.call(c)}}$a(t,a,e,o)}else a=Hw(n,t,e,o,r);return pa(a)}Gm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ls(t.pendingLanes);n!==0&&(Fu(t,n|1),Dt(t,Ke()),!(Ne&6)&&(Oo=Ke()+500,Mr()))}break;case 13:Hr(function(){var r=Kn(e,1);if(r!==null){var o=bt();ln(r,e,1,o)}}),wd(e,1)}};Uu=function(e){if(e.tag===13){var t=Kn(e,134217728);if(t!==null){var n=bt();ln(t,e,134217728,n)}wd(e,134217728)}};Xm=function(e){if(e.tag===13){var t=yr(e),n=Kn(e,t);if(n!==null){var r=bt();ln(n,e,t,r)}wd(e,t)}};Qm=function(){return ke};qm=function(e,t){var n=ke;try{return ke=e,t()}finally{ke=n}};mc=function(e,t,n){switch(t){case"input":if(ac(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Da(r);if(!o)throw Error(W(90));Mm(r),ac(r,o)}}}break;case"textarea":Im(e,n);break;case"select":t=n.value,t!=null&&xo(e,!!n.multiple,t,!1)}};Lm=hd;$m=Hr;var Ww={usingClientEntryPoint:!1,Events:[Ks,uo,Da,_m,Am,hd]},rs={findFiberByHostInstance:_r,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kw={bundleType:rs.bundleType,version:rs.version,rendererPackageName:rs.rendererPackageName,rendererConfig:rs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Fm(e),e===null?null:e.stateNode},findFiberByHostInstance:rs.findFiberByHostInstance||Vw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gi.isDisabled&&gi.supportsFiber)try{ka=gi.inject(Kw),bn=gi}catch{}}Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ww;Vt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bd(t))throw Error(W(200));return Uw(e,t,null,n)};Vt.createRoot=function(e,t){if(!bd(e))throw Error(W(299));var n=!1,r="",o=vg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=vd(e,1,!1,null,null,n,!1,r,o),e[Wn]=t.current,Is(e.nodeType===8?e.parentNode:e),new Cd(t)};Vt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=Fm(t),e=e===null?null:e.stateNode,e};Vt.flushSync=function(e){return Hr(e)};Vt.hydrate=function(e,t,n){if(!za(t))throw Error(W(200));return Fa(null,e,t,!0,n)};Vt.hydrateRoot=function(e,t,n){if(!bd(e))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",a=vg;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=xg(t,null,e,1,n??null,o,!1,s,a),e[Wn]=t.current,Is(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Ba(t)};Vt.render=function(e,t,n){if(!za(t))throw Error(W(200));return Fa(null,e,t,!1,n)};Vt.unmountComponentAtNode=function(e){if(!za(e))throw Error(W(40));return e._reactRootContainer?(Hr(function(){Fa(null,null,e,!1,function(){e._reactRootContainer=null,e[Wn]=null})}),!0):!1};Vt.unstable_batchedUpdates=hd;Vt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!za(n))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return Fa(e,t,n,!1,r)};Vt.version="18.3.1-next-f1338f8080-20240426";function wg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wg)}catch(e){console.error(e)}}wg(),wm.exports=Vt;var un=wm.exports;const Yw=am(un);var Cg,yp=un;Cg=yp.createRoot,yp.hydrateRoot;function Gw(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,o,s,a=[],l="",c=e.split("/");for(c[0]||c.shift();o=c.shift();)n=o[0],n==="*"?(a.push(n),l+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=o.indexOf("?",1),s=o.indexOf(".",1),a.push(o.substring(1,~r?r:~s?s:o.length)),l+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(l+=(~r?"?":"")+"\\"+o.substring(s))):l+="/"+o;return{keys:a,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var bg={exports:{}},Sg={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _o=d;function Xw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qw=typeof Object.is=="function"?Object.is:Xw,qw=_o.useState,Zw=_o.useEffect,Jw=_o.useLayoutEffect,eC=_o.useDebugValue;function tC(e,t){var n=t(),r=qw({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return Jw(function(){o.value=n,o.getSnapshot=t,Ll(o)&&s({inst:o})},[e,n,t]),Zw(function(){return Ll(o)&&s({inst:o}),e(function(){Ll(o)&&s({inst:o})})},[e]),eC(n),n}function Ll(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qw(e,n)}catch{return!0}}function nC(e,t){return t()}var rC=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?nC:tC;Sg.useSyncExternalStore=_o.useSyncExternalStore!==void 0?_o.useSyncExternalStore:rC;bg.exports=Sg;var oC=bg.exports;const sC=xm.useInsertionEffect,iC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aC=iC?d.useLayoutEffect:d.useEffect,lC=sC||aC,Ng=e=>{const t=d.useRef([e,(...n)=>t[0](...n)]).current;return lC(()=>{t[0]=e}),t[1]},cC="popstate",Sd="pushState",Nd="replaceState",uC="hashchange",xp=[cC,Sd,Nd,uC],dC=e=>{for(const t of xp)addEventListener(t,e);return()=>{for(const t of xp)removeEventListener(t,e)}},Pg=(e,t)=>oC.useSyncExternalStore(dC,e,t),fC=()=>location.search,pC=({ssrSearch:e=""}={})=>Pg(fC,()=>e),vp=()=>location.pathname,mC=({ssrPath:e}={})=>Pg(vp,e?()=>e:vp),hC=(e,{replace:t=!1,state:n=null}={})=>history[t?Nd:Sd](n,"",e),gC=(e={})=>[mC(e),hC],wp=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[wp]>"u"){for(const e of[Sd,Nd]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,wp,{value:!0})}const yC=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",jg=(e="")=>e==="/"?"":e,xC=(e,t)=>e[0]==="~"?e.slice(1):jg(t)+e,vC=(e="",t)=>yC(Cp(jg(e)),Cp(t)),Cp=e=>{try{return decodeURI(e)}catch{return e}},kg={hook:gC,searchHook:pC,parser:Gw,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},Mg=d.createContext(kg),Ua=()=>d.useContext(Mg),Eg={},Ig=d.createContext(Eg),wC=()=>d.useContext(Ig),Pd=e=>{const[t,n]=e.hook(e);return[vC(e.base,t),Ng((r,o)=>n(xC(r,e.base),o))]},Dg=(e,t,n,r)=>{const{pattern:o,keys:s}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),a=o.exec(n)||[],[l,...c]=a;return l!==void 0?[!0,(()=>{const u=s!==!1?Object.fromEntries(s.map((f,p)=>[f,c[p]])):a.groups;let m={...c};return u&&Object.assign(m,u),m})(),...r?[l]:[]]:[!1,null]},Tg=({children:e,...t})=>{var m,f;const n=Ua(),r=t.hook?kg:n;let o=r;const[s,a]=((m=t.ssrPath)==null?void 0:m.split("?"))??[];a&&(t.ssrSearch=a,t.ssrPath=s),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs);let l=d.useRef({}),c=l.current,u=c;for(let p in r){const C=p==="base"?r[p]+(t[p]||""):t[p]||r[p];c===u&&C!==u[p]&&(l.current=u={...u}),u[p]=C,C!==r[p]&&(o=u)}return d.createElement(Mg.Provider,{value:o,children:e})},bp=({children:e,component:t},n)=>t?d.createElement(t,{params:n}):typeof e=="function"?e(n):e,CC=e=>{let t=d.useRef(Eg),n=t.current;for(const r in e)e[r]!==n[r]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},Sp=({path:e,nest:t,match:n,...r})=>{const o=Ua(),[s]=Pd(o),[a,l,c]=n??Dg(o.parser,e,s,t),u=CC({...wC(),...l});if(!a)return null;const m=c?d.createElement(Tg,{base:c},bp(r,u)):bp(r,u);return d.createElement(Ig.Provider,{value:u,children:m})};d.forwardRef((e,t)=>{const n=Ua(),[r,o]=Pd(n),{to:s="",href:a=s,onClick:l,asChild:c,children:u,className:m,replace:f,state:p,...C}=e,x=Ng(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(l==null||l(v),v.defaultPrevented||(v.preventDefault(),o(a,e)))}),h=n.hrefs(a[0]==="~"?a.slice(1):n.base+a,n);return c&&d.isValidElement(u)?d.cloneElement(u,{onClick:x,href:h}):d.createElement("a",{...C,onClick:x,href:h,className:m!=null&&m.call?m(r===a):m,children:u,ref:t})});const Rg=e=>Array.isArray(e)?e.flatMap(t=>Rg(t&&t.type===d.Fragment?t.props.children:t)):[e],bC=({children:e,location:t})=>{const n=Ua(),[r]=Pd(n);for(const o of Rg(e)){let s=0;if(d.isValidElement(o)&&(s=Dg(n.parser,o.props.path,t||r,o.props.nest))[0])return d.cloneElement(o,{match:s})}return null},SC=1,NC=1e6;let $l=0;function PC(){return $l=($l+1)%Number.MAX_SAFE_INTEGER,$l.toString()}const Bl=new Map,Np=e=>{if(Bl.has(e))return;const t=setTimeout(()=>{Bl.delete(e),ws({type:"REMOVE_TOAST",toastId:e})},NC);Bl.set(e,t)},jC=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,SC)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Np(n):e.toasts.forEach(r=>{Np(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},$i=[];let Bi={toasts:[]};function ws(e){Bi=jC(Bi,e),$i.forEach(t=>{t(Bi)})}function kC({...e}){const t=PC(),n=o=>ws({type:"UPDATE_TOAST",toast:{...o,id:t}}),r=()=>ws({type:"DISMISS_TOAST",toastId:t});return ws({type:"ADD_TOAST",toast:{...e,id:t,open:!0,duration:e.duration||2500,onOpenChange:o=>{o||r()}}}),{id:t,dismiss:r,update:n}}function jd(){const[e,t]=d.useState(Bi);return d.useEffect(()=>($i.push(t),()=>{const n=$i.indexOf(t);n>-1&&$i.splice(n,1)}),[e]),{...e,toast:kC,dismiss:n=>ws({type:"DISMISS_TOAST",toastId:n})}}function ce(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function Pp(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Og(...e){return t=>{let n=!1;const r=e.map(o=>{const s=Pp(o,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let o=0;o<r.length;o++){const s=r[o];typeof s=="function"?s():Pp(e[o],null)}}}}function Pe(...e){return d.useCallback(Og(...e),e)}function MC(e,t){const n=d.createContext(t),r=s=>{const{children:a,...l}=s,c=d.useMemo(()=>l,Object.values(l));return i.jsx(n.Provider,{value:c,children:a})};r.displayName=e+"Provider";function o(s){const a=d.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,o]}function qn(e,t=[]){let n=[];function r(s,a){const l=d.createContext(a),c=n.length;n=[...n,a];const u=f=>{var y;const{scope:p,children:C,...x}=f,h=((y=p==null?void 0:p[e])==null?void 0:y[c])||l,v=d.useMemo(()=>x,Object.values(x));return i.jsx(h.Provider,{value:v,children:C})};u.displayName=s+"Provider";function m(f,p){var h;const C=((h=p==null?void 0:p[e])==null?void 0:h[c])||l,x=d.useContext(C);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,m]}const o=()=>{const s=n.map(a=>d.createContext(a));return function(l){const c=(l==null?void 0:l[e])||s;return d.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return o.scopeName=e,[r,EC(o,...t)]}function EC(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function Ao(e){const t=DC(e),n=d.forwardRef((r,o)=>{const{children:s,...a}=r,l=d.Children.toArray(s),c=l.find(RC);if(c){const u=c.props.children,m=l.map(f=>f===c?d.Children.count(u)>1?d.Children.only(null):d.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...a,ref:o,children:d.isValidElement(u)?d.cloneElement(u,void 0,m):null})}return i.jsx(t,{...a,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}var IC=Ao("Slot");function DC(e){const t=d.forwardRef((n,r)=>{const{children:o,...s}=n;if(d.isValidElement(o)){const a=_C(o),l=OC(s,o.props);return o.type!==d.Fragment&&(l.ref=r?Og(r,a):a),d.cloneElement(o,l)}return d.Children.count(o)>1?d.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _g=Symbol("radix.slottable");function TC(e){const t=({children:n})=>i.jsx(i.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=_g,t}function RC(e){return d.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_g}function OC(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...l)=>{s(...l),o(...l)}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function _C(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function kd(e){const t=e+"CollectionProvider",[n,r]=qn(t),[o,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=h=>{const{scope:v,children:y}=h,g=We.useRef(null),w=We.useRef(new Map).current;return i.jsx(o,{scope:v,itemMap:w,collectionRef:g,children:y})};a.displayName=t;const l=e+"CollectionSlot",c=Ao(l),u=We.forwardRef((h,v)=>{const{scope:y,children:g}=h,w=s(l,y),b=Pe(v,w.collectionRef);return i.jsx(c,{ref:b,children:g})});u.displayName=l;const m=e+"CollectionItemSlot",f="data-radix-collection-item",p=Ao(m),C=We.forwardRef((h,v)=>{const{scope:y,children:g,...w}=h,b=We.useRef(null),N=Pe(v,b),S=s(m,y);return We.useEffect(()=>(S.itemMap.set(b,{ref:b,...w}),()=>void S.itemMap.delete(b))),i.jsx(p,{[f]:"",ref:N,children:g})});C.displayName=m;function x(h){const v=s(e+"CollectionConsumer",h);return We.useCallback(()=>{const g=v.collectionRef.current;if(!g)return[];const w=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((S,P)=>w.indexOf(S.ref.current)-w.indexOf(P.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:a,Slot:u,ItemSlot:C},x,r]}var AC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ge=AC.reduce((e,t)=>{const n=Ao(`Primitive.${t}`),r=d.forwardRef((o,s)=>{const{asChild:a,...l}=o,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Ag(e,t){e&&un.flushSync(()=>e.dispatchEvent(t))}function Ut(e){const t=d.useRef(e);return d.useEffect(()=>{t.current=e}),d.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function LC(e,t=globalThis==null?void 0:globalThis.document){const n=Ut(e);d.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var $C="DismissableLayer",Yc="dismissableLayer.update",BC="dismissableLayer.pointerDownOutside",zC="dismissableLayer.focusOutside",jp,Lg=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Gs=d.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...c}=e,u=d.useContext(Lg),[m,f]=d.useState(null),p=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,C]=d.useState({}),x=Pe(t,P=>f(P)),h=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=h.indexOf(v),g=m?h.indexOf(m):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,b=g>=y,N=UC(P=>{const j=P.target,D=[...u.branches].some(M=>M.contains(j));!b||D||(o==null||o(P),a==null||a(P),P.defaultPrevented||l==null||l())},p),S=VC(P=>{const j=P.target;[...u.branches].some(M=>M.contains(j))||(s==null||s(P),a==null||a(P),P.defaultPrevented||l==null||l())},p);return LC(P=>{g===u.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},p),d.useEffect(()=>{if(m)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(jp=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(m)),u.layers.add(m),kp(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=jp)}},[m,p,n,u]),d.useEffect(()=>()=>{m&&(u.layers.delete(m),u.layersWithOutsidePointerEventsDisabled.delete(m),kp())},[m,u]),d.useEffect(()=>{const P=()=>C({});return document.addEventListener(Yc,P),()=>document.removeEventListener(Yc,P)},[]),i.jsx(ge.div,{...c,ref:x,style:{pointerEvents:w?b?"auto":"none":void 0,...e.style},onFocusCapture:ce(e.onFocusCapture,S.onFocusCapture),onBlurCapture:ce(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:ce(e.onPointerDownCapture,N.onPointerDownCapture)})});Gs.displayName=$C;var FC="DismissableLayerBranch",$g=d.forwardRef((e,t)=>{const n=d.useContext(Lg),r=d.useRef(null),o=Pe(t,r);return d.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),i.jsx(ge.div,{...e,ref:o})});$g.displayName=FC;function UC(e,t=globalThis==null?void 0:globalThis.document){const n=Ut(e),r=d.useRef(!1),o=d.useRef(()=>{});return d.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let c=function(){Bg(BC,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=c,t.addEventListener("click",o.current,{once:!0})):c()}else t.removeEventListener("click",o.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",s),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function VC(e,t=globalThis==null?void 0:globalThis.document){const n=Ut(e),r=d.useRef(!1);return d.useEffect(()=>{const o=s=>{s.target&&!r.current&&Bg(zC,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function kp(){const e=new CustomEvent(Yc);document.dispatchEvent(e)}function Bg(e,t,n,{discrete:r}){const o=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?Ag(o,s):o.dispatchEvent(s)}var HC=Gs,WC=$g,xt=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},KC="Portal",Va=d.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[o,s]=d.useState(!1);xt(()=>s(!0),[]);const a=n||o&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?Yw.createPortal(i.jsx(ge.div,{...r,ref:t}),a):null});Va.displayName=KC;function YC(e,t){return d.useReducer((n,r)=>t[n][r]??n,e)}var Zr=e=>{const{present:t,children:n}=e,r=GC(t),o=typeof n=="function"?n({present:r.isPresent}):d.Children.only(n),s=Pe(r.ref,XC(o));return typeof n=="function"||r.isPresent?d.cloneElement(o,{ref:s}):null};Zr.displayName="Presence";function GC(e){const[t,n]=d.useState(),r=d.useRef({}),o=d.useRef(e),s=d.useRef("none"),a=e?"mounted":"unmounted",[l,c]=YC(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const u=yi(r.current);s.current=l==="mounted"?u:"none"},[l]),xt(()=>{const u=r.current,m=o.current;if(m!==e){const p=s.current,C=yi(u);e?c("MOUNT"):C==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(m&&p!==C?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,c]),xt(()=>{if(t){let u;const m=t.ownerDocument.defaultView??window,f=C=>{const h=yi(r.current).includes(C.animationName);if(C.target===t&&h&&(c("ANIMATION_END"),!o.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},p=C=>{C.target===t&&(s.current=yi(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{m.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:d.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function yi(e){return(e==null?void 0:e.animationName)||"none"}function XC(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Wr({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=QC({defaultProp:t,onChange:n}),s=e!==void 0,a=s?e:r,l=Ut(n),c=d.useCallback(u=>{if(s){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else o(u)},[s,e,o,l]);return[a,c]}function QC({defaultProp:e,onChange:t}){const n=d.useState(e),[r]=n,o=d.useRef(r),s=Ut(t);return d.useEffect(()=>{o.current!==r&&(s(r),o.current=r)},[r,o,s]),n}var qC="VisuallyHidden",Xs=d.forwardRef((e,t)=>i.jsx(ge.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Xs.displayName=qC;var ZC=Xs,Md="ToastProvider",[Ed,JC,eb]=kd("Toast"),[zg,Gj]=qn("Toast",[eb]),[tb,Ha]=zg(Md),Fg=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:s=50,children:a}=e,[l,c]=d.useState(null),[u,m]=d.useState(0),f=d.useRef(!1),p=d.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Md}\`. Expected non-empty \`string\`.`),i.jsx(Ed.Provider,{scope:t,children:i.jsx(tb,{scope:t,label:n,duration:r,swipeDirection:o,swipeThreshold:s,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:d.useCallback(()=>m(C=>C+1),[]),onToastRemove:d.useCallback(()=>m(C=>C-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:a})})};Fg.displayName=Md;var Ug="ToastViewport",nb=["F8"],Gc="toast.viewportPause",Xc="toast.viewportResume",Vg=d.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=nb,label:o="Notifications ({hotkey})",...s}=e,a=Ha(Ug,n),l=JC(n),c=d.useRef(null),u=d.useRef(null),m=d.useRef(null),f=d.useRef(null),p=Pe(t,f,a.onViewportChange),C=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=a.toastCount>0;d.useEffect(()=>{const v=y=>{var w;r.length!==0&&r.every(b=>y[b]||y.code===b)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),d.useEffect(()=>{const v=c.current,y=f.current;if(x&&v&&y){const g=()=>{if(!a.isClosePausedRef.current){const S=new CustomEvent(Gc);y.dispatchEvent(S),a.isClosePausedRef.current=!0}},w=()=>{if(a.isClosePausedRef.current){const S=new CustomEvent(Xc);y.dispatchEvent(S),a.isClosePausedRef.current=!1}},b=S=>{!v.contains(S.relatedTarget)&&w()},N=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",g),v.addEventListener("focusout",b),v.addEventListener("pointermove",g),v.addEventListener("pointerleave",N),window.addEventListener("blur",g),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",g),v.removeEventListener("focusout",b),v.removeEventListener("pointermove",g),v.removeEventListener("pointerleave",N),window.removeEventListener("blur",g),window.removeEventListener("focus",w)}}},[x,a.isClosePausedRef]);const h=d.useCallback(({tabbingDirection:v})=>{const g=l().map(w=>{const b=w.ref.current,N=[b,...hb(b)];return v==="forwards"?N:N.reverse()});return(v==="forwards"?g.reverse():g).flat()},[l]);return d.useEffect(()=>{const v=f.current;if(v){const y=g=>{var N,S,P;const w=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!w){const j=document.activeElement,D=g.shiftKey;if(g.target===v&&D){(N=u.current)==null||N.focus();return}const T=h({tabbingDirection:D?"backwards":"forwards"}),O=T.findIndex(B=>B===j);zl(T.slice(O+1))?g.preventDefault():D?(S=u.current)==null||S.focus():(P=m.current)==null||P.focus()}};return v.addEventListener("keydown",y),()=>v.removeEventListener("keydown",y)}},[l,h]),i.jsxs(WC,{ref:c,role:"region","aria-label":o.replace("{hotkey}",C),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&i.jsx(Qc,{ref:u,onFocusFromOutsideViewport:()=>{const v=h({tabbingDirection:"forwards"});zl(v)}}),i.jsx(Ed.Slot,{scope:n,children:i.jsx(ge.ol,{tabIndex:-1,...s,ref:p})}),x&&i.jsx(Qc,{ref:m,onFocusFromOutsideViewport:()=>{const v=h({tabbingDirection:"backwards"});zl(v)}})]})});Vg.displayName=Ug;var Hg="ToastFocusProxy",Qc=d.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=e,s=Ha(Hg,n);return i.jsx(Xs,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=s.viewport)!=null&&u.contains(l))&&r()}})});Qc.displayName=Hg;var Wa="Toast",rb="toast.swipeStart",ob="toast.swipeMove",sb="toast.swipeCancel",ib="toast.swipeEnd",Wg=d.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:s,...a}=e,[l=!0,c]=Wr({prop:r,defaultProp:o,onChange:s});return i.jsx(Zr,{present:n||l,children:i.jsx(cb,{open:l,...a,ref:t,onClose:()=>c(!1),onPause:Ut(e.onPause),onResume:Ut(e.onResume),onSwipeStart:ce(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ce(e.onSwipeMove,u=>{const{x:m,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ce(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ce(e.onSwipeEnd,u=>{const{x:m,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});Wg.displayName=Wa;var[ab,lb]=zg(Wa,{onClose(){}}),cb=d.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:s,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:m,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:C,...x}=e,h=Ha(Wa,n),[v,y]=d.useState(null),g=Pe(t,B=>y(B)),w=d.useRef(null),b=d.useRef(null),N=o||h.duration,S=d.useRef(0),P=d.useRef(N),j=d.useRef(0),{onToastAdd:D,onToastRemove:M}=h,A=Ut(()=>{var k;(v==null?void 0:v.contains(document.activeElement))&&((k=h.viewport)==null||k.focus()),a()}),T=d.useCallback(B=>{!B||B===1/0||(window.clearTimeout(j.current),S.current=new Date().getTime(),j.current=window.setTimeout(A,B))},[A]);d.useEffect(()=>{const B=h.viewport;if(B){const k=()=>{T(P.current),u==null||u()},F=()=>{const Y=new Date().getTime()-S.current;P.current=P.current-Y,window.clearTimeout(j.current),c==null||c()};return B.addEventListener(Gc,F),B.addEventListener(Xc,k),()=>{B.removeEventListener(Gc,F),B.removeEventListener(Xc,k)}}},[h.viewport,N,c,u,T]),d.useEffect(()=>{s&&!h.isClosePausedRef.current&&T(N)},[s,N,h.isClosePausedRef,T]),d.useEffect(()=>(D(),()=>M()),[D,M]);const O=d.useMemo(()=>v?Zg(v):null,[v]);return h.viewport?i.jsxs(i.Fragment,{children:[O&&i.jsx(ub,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:O}),i.jsx(ab,{scope:n,onClose:A,children:un.createPortal(i.jsx(Ed.ItemSlot,{scope:n,children:i.jsx(HC,{asChild:!0,onEscapeKeyDown:ce(l,()=>{h.isFocusedToastEscapeKeyDownRef.current||A(),h.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(ge.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":h.swipeDirection,...x,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ce(e.onKeyDown,B=>{B.key==="Escape"&&(l==null||l(B.nativeEvent),B.nativeEvent.defaultPrevented||(h.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:ce(e.onPointerDown,B=>{B.button===0&&(w.current={x:B.clientX,y:B.clientY})}),onPointerMove:ce(e.onPointerMove,B=>{if(!w.current)return;const k=B.clientX-w.current.x,F=B.clientY-w.current.y,Y=!!b.current,E=["left","right"].includes(h.swipeDirection),L=["left","up"].includes(h.swipeDirection)?Math.min:Math.max,U=E?L(0,k):0,H=E?0:L(0,F),G=B.pointerType==="touch"?10:2,oe={x:U,y:H},$={originalEvent:B,delta:oe};Y?(b.current=oe,xi(ob,f,$,{discrete:!1})):Mp(oe,h.swipeDirection,G)?(b.current=oe,xi(rb,m,$,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(k)>G||Math.abs(F)>G)&&(w.current=null)}),onPointerUp:ce(e.onPointerUp,B=>{const k=b.current,F=B.target;if(F.hasPointerCapture(B.pointerId)&&F.releasePointerCapture(B.pointerId),b.current=null,w.current=null,k){const Y=B.currentTarget,E={originalEvent:B,delta:k};Mp(k,h.swipeDirection,h.swipeThreshold)?xi(ib,C,E,{discrete:!0}):xi(sb,p,E,{discrete:!0}),Y.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),h.viewport)})]}):null}),ub=e=>{const{__scopeToast:t,children:n,...r}=e,o=Ha(Wa,t),[s,a]=d.useState(!1),[l,c]=d.useState(!1);return pb(()=>a(!0)),d.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(Va,{asChild:!0,children:i.jsx(Xs,{...r,children:s&&i.jsxs(i.Fragment,{children:[o.label," ",n]})})})},db="ToastTitle",Kg=d.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return i.jsx(ge.div,{...r,ref:t})});Kg.displayName=db;var fb="ToastDescription",Yg=d.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return i.jsx(ge.div,{...r,ref:t})});Yg.displayName=fb;var Gg="ToastAction",Xg=d.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?i.jsx(qg,{altText:n,asChild:!0,children:i.jsx(Id,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Gg}\`. Expected non-empty \`string\`.`),null)});Xg.displayName=Gg;var Qg="ToastClose",Id=d.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,o=lb(Qg,n);return i.jsx(qg,{asChild:!0,children:i.jsx(ge.button,{type:"button",...r,ref:t,onClick:ce(e.onClick,o.onClose)})})});Id.displayName=Qg;var qg=d.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...o}=e;return i.jsx(ge.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...o,ref:t})});function Zg(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),mb(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!o)if(s){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...Zg(r))}}),t}function xi(e,t,n,{discrete:r}){const o=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?Ag(o,s):o.dispatchEvent(s)}var Mp=(e,t,n=0)=>{const r=Math.abs(e.x),o=Math.abs(e.y),s=r>o;return t==="left"||t==="right"?s&&r>n:!s&&o>n};function pb(e=()=>{}){const t=Ut(e);xt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function mb(e){return e.nodeType===e.ELEMENT_NODE}function hb(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function zl(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var gb=Fg,Jg=Vg,ey=Wg,ty=Kg,ny=Yg,ry=Xg,oy=Id;function sy(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=sy(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function iy(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=sy(e))&&(r&&(r+=" "),r+=t);return r}const Ep=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ip=iy,Dd=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Ip(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:s}=t,a=Object.keys(o).map(u=>{const m=n==null?void 0:n[u],f=s==null?void 0:s[u];if(m===null)return null;const p=Ep(m)||Ep(f);return o[u][p]}),l=n&&Object.entries(n).reduce((u,m)=>{let[f,p]=m;return p===void 0||(u[f]=p),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,m)=>{let{class:f,className:p,...C}=m;return Object.entries(C).every(x=>{let[h,v]=x;return Array.isArray(v)?v.includes({...s,...l}[h]):{...s,...l}[h]===v})?[...u,f,p]:u},[]);return Ip(e,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ay=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=d.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:s,iconNode:a,...l},c)=>d.createElement("svg",{ref:c,...xb,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:ay("lucide",o),...l},[...a.map(([u,m])=>d.createElement(u,m)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=(e,t)=>{const n=d.forwardRef(({className:r,...o},s)=>d.createElement(vb,{ref:s,iconNode:t,className:ay(`lucide-${yb(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=Ie("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=Ie("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=Ie("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=Ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=Ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=Ie("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=Ie("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=Ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=Ie("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=Ie("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=Ie("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=Ie("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=Ie("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=Ie("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=Ie("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=Ie("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=Ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=Ie("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=Ie("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=Ie("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=Ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=Ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=Ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=Ie("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=Ie("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=Ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),_d="-",Db=e=>{const t=Rb(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const l=a.split(_d);return l[0]===""&&l.length!==1&&l.shift(),my(l,t)||Tb(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},my=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?my(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const s=e.join(_d);return(a=t.validators.find(({validator:l})=>l(s)))==null?void 0:a.classGroupId},Rp=/^\[(.+)\]$/,Tb=e=>{if(Rp.test(e)){const t=Rp.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Rb=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return _b(Object.entries(e.classGroups),n).forEach(([s,a])=>{Jc(a,r,s,t)}),r},Jc=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const s=o===""?t:Op(t,o);s.classGroupId=n;return}if(typeof o=="function"){if(Ob(o)){Jc(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([s,a])=>{Jc(a,Op(t,s),n,r)})})},Op=(e,t)=>{let n=e;return t.split(_d).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Ob=e=>e.isThemeGetter,_b=(e,t)=>t?e.map(([n,r])=>{const o=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,l])=>[t+a,l])):s);return[n,o]}):e,Ab=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(s,a)=>{n.set(s,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return o(s,a),a},set(s,a){n.has(s)?n.set(s,a):o(s,a)}}},hy="!",Lb=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],s=t.length,a=l=>{const c=[];let u=0,m=0,f;for(let v=0;v<l.length;v++){let y=l[v];if(u===0){if(y===o&&(r||l.slice(v,v+s)===t)){c.push(l.slice(m,v)),m=v+s;continue}if(y==="/"){f=v;continue}}y==="["?u++:y==="]"&&u--}const p=c.length===0?l:l.substring(m),C=p.startsWith(hy),x=C?p.substring(1):p,h=f&&f>m?f-m:void 0;return{modifiers:c,hasImportantModifier:C,baseClassName:x,maybePostfixModifierPosition:h}};return n?l=>n({className:l,parseClassName:a}):a},$b=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},Bb=e=>({cache:Ab(e.cacheSize),parseClassName:Lb(e),...Db(e)}),zb=/\s+/,Fb=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,s=[],a=e.trim().split(zb);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:m,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:C}=n(u);let x=!!C,h=r(x?p.substring(0,C):p);if(!h){if(!x){l=u+(l.length>0?" "+l:l);continue}if(h=r(p),!h){l=u+(l.length>0?" "+l:l);continue}x=!1}const v=$b(m).join(":"),y=f?v+hy:v,g=y+h;if(s.includes(g))continue;s.push(g);const w=o(h,x);for(let b=0;b<w.length;++b){const N=w[b];s.push(y+N)}l=u+(l.length>0?" "+l:l)}return l};function Ub(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=gy(t))&&(r&&(r+=" "),r+=n);return r}const gy=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=gy(e[r]))&&(n&&(n+=" "),n+=t);return n};function Vb(e,...t){let n,r,o,s=a;function a(c){const u=t.reduce((m,f)=>f(m),e());return n=Bb(u),r=n.cache.get,o=n.cache.set,s=l,l(c)}function l(c){const u=r(c);if(u)return u;const m=Fb(c,n);return o(c,m),m}return function(){return s(Ub.apply(null,arguments))}}const Te=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},yy=/^\[(?:([a-z-]+):)?(.+)\]$/i,Hb=/^\d+\/\d+$/,Wb=new Set(["px","full","screen"]),Kb=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Yb=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Gb=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Xb=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Qb=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Mn=e=>No(e)||Wb.has(e)||Hb.test(e),tr=e=>Uo(e,"length",oS),No=e=>!!e&&!Number.isNaN(Number(e)),Fl=e=>Uo(e,"number",No),os=e=>!!e&&Number.isInteger(Number(e)),qb=e=>e.endsWith("%")&&No(e.slice(0,-1)),he=e=>yy.test(e),nr=e=>Kb.test(e),Zb=new Set(["length","size","percentage"]),Jb=e=>Uo(e,Zb,xy),eS=e=>Uo(e,"position",xy),tS=new Set(["image","url"]),nS=e=>Uo(e,tS,iS),rS=e=>Uo(e,"",sS),ss=()=>!0,Uo=(e,t,n)=>{const r=yy.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},oS=e=>Yb.test(e)&&!Gb.test(e),xy=()=>!1,sS=e=>Xb.test(e),iS=e=>Qb.test(e),aS=()=>{const e=Te("colors"),t=Te("spacing"),n=Te("blur"),r=Te("brightness"),o=Te("borderColor"),s=Te("borderRadius"),a=Te("borderSpacing"),l=Te("borderWidth"),c=Te("contrast"),u=Te("grayscale"),m=Te("hueRotate"),f=Te("invert"),p=Te("gap"),C=Te("gradientColorStops"),x=Te("gradientColorStopPositions"),h=Te("inset"),v=Te("margin"),y=Te("opacity"),g=Te("padding"),w=Te("saturate"),b=Te("scale"),N=Te("sepia"),S=Te("skew"),P=Te("space"),j=Te("translate"),D=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",he,t],T=()=>[he,t],O=()=>["",Mn,tr],B=()=>["auto",No,he],k=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],E=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",he],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[No,he];return{cacheSize:500,separator:":",theme:{colors:[ss],spacing:[Mn,tr],blur:["none","",nr,he],brightness:H(),borderColor:[e],borderRadius:["none","","full",nr,he],borderSpacing:T(),borderWidth:O(),contrast:H(),grayscale:L(),hueRotate:H(),invert:L(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[qb,tr],inset:A(),margin:A(),opacity:H(),padding:T(),saturate:H(),scale:H(),sepia:L(),skew:H(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",he]}],container:["container"],columns:[{columns:[nr]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...k(),he]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[h]}],"inset-x":[{"inset-x":[h]}],"inset-y":[{"inset-y":[h]}],start:[{start:[h]}],end:[{end:[h]}],top:[{top:[h]}],right:[{right:[h]}],bottom:[{bottom:[h]}],left:[{left:[h]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",os,he]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",he]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",os,he]}],"grid-cols":[{"grid-cols":[ss]}],"col-start-end":[{col:["auto",{span:["full",os,he]},he]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[ss]}],"row-start-end":[{row:["auto",{span:[os,he]},he]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",he]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",he]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...E()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...E(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...E(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",he,t]}],"min-w":[{"min-w":[he,t,"min","max","fit"]}],"max-w":[{"max-w":[he,t,"none","full","min","max","fit","prose",{screen:[nr]},nr]}],h:[{h:[he,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[he,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[he,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[he,t,"auto","min","max","fit"]}],"font-size":[{text:["base",nr,tr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Fl]}],"font-family":[{font:[ss]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",he]}],"line-clamp":[{"line-clamp":["none",No,Fl]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Mn,he]}],"list-image":[{"list-image":["none",he]}],"list-style-type":[{list:["none","disc","decimal",he]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Mn,tr]}],"underline-offset":[{"underline-offset":["auto",Mn,he]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...k(),eS]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Jb]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},nS]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[C]}],"gradient-via":[{via:[C]}],"gradient-to":[{to:[C]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:F()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[Mn,he]}],"outline-w":[{outline:[Mn,tr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Mn,tr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",nr,rS]}],"shadow-color":[{shadow:[ss]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",nr,he]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",he]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",he]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",he]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[os,he]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",he]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Mn,tr,Fl]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},lS=Vb(aS);function we(...e){return lS(iy(e))}const cS=gb,vy=d.forwardRef(({className:e,...t},n)=>i.jsx(Jg,{ref:n,className:we("fixed bottom-4 left-2 z-[100] flex max-h-screen w-full max-w-[280px] flex-col-reverse gap-1 p-2",e),...t}));vy.displayName=Jg.displayName;const uS=Dd("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-2 pr-6 shadow-lg transition-all opacity-60 data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-left-full data-[state=open]:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),wy=d.forwardRef(({className:e,variant:t,...n},r)=>i.jsx(ey,{ref:r,className:we(uS({variant:t}),e),...n}));wy.displayName=ey.displayName;const dS=d.forwardRef(({className:e,...t},n)=>i.jsx(ry,{ref:n,className:we("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));dS.displayName=ry.displayName;const Cy=d.forwardRef(({className:e,...t},n)=>i.jsx(oy,{ref:n,className:we("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(Od,{className:"h-4 w-4"})}));Cy.displayName=oy.displayName;const by=d.forwardRef(({className:e,...t},n)=>i.jsx(ty,{ref:n,className:we("text-xs font-semibold",e),...t}));by.displayName=ty.displayName;const Sy=d.forwardRef(({className:e,...t},n)=>i.jsx(ny,{ref:n,className:we("text-xs opacity-90",e),...t}));Sy.displayName=ny.displayName;function fS(){const{toasts:e}=jd();return i.jsxs(cS,{children:[e.map(function({id:t,title:n,description:r,action:o,...s}){return i.jsxs(wy,{...s,children:[i.jsxs("div",{className:"grid gap-1",children:[n&&i.jsx(by,{children:n}),r&&i.jsx(Sy,{children:r})]}),o,i.jsx(Cy,{})]},t)}),i.jsx(vy,{})]})}var pS=xm[" useId ".trim().toString()]||(()=>{}),mS=0;function Po(e){const[t,n]=d.useState(pS());return xt(()=>{n(r=>r??String(mS++))},[e]),t?`radix-${t}`:""}const hS=["top","right","bottom","left"],Sr=Math.min,Lt=Math.max,ma=Math.round,vi=Math.floor,Nn=e=>({x:e,y:e}),gS={left:"right",right:"left",bottom:"top",top:"bottom"},yS={start:"end",end:"start"};function eu(e,t,n){return Lt(e,Sr(t,n))}function Gn(e,t){return typeof e=="function"?e(t):e}function Xn(e){return e.split("-")[0]}function Vo(e){return e.split("-")[1]}function Ad(e){return e==="x"?"y":"x"}function Ld(e){return e==="y"?"height":"width"}function Nr(e){return["top","bottom"].includes(Xn(e))?"y":"x"}function $d(e){return Ad(Nr(e))}function xS(e,t,n){n===void 0&&(n=!1);const r=Vo(e),o=$d(e),s=Ld(o);let a=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=ha(a)),[a,ha(a)]}function vS(e){const t=ha(e);return[tu(e),t,tu(t)]}function tu(e){return e.replace(/start|end/g,t=>yS[t])}function wS(e,t,n){const r=["left","right"],o=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?s:a;default:return[]}}function CS(e,t,n,r){const o=Vo(e);let s=wS(Xn(e),n==="start",r);return o&&(s=s.map(a=>a+"-"+o),t&&(s=s.concat(s.map(tu)))),s}function ha(e){return e.replace(/left|right|bottom|top/g,t=>gS[t])}function bS(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ny(e){return typeof e!="number"?bS(e):{top:e,right:e,bottom:e,left:e}}function ga(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function _p(e,t,n){let{reference:r,floating:o}=e;const s=Nr(t),a=$d(t),l=Ld(a),c=Xn(t),u=s==="y",m=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,p=r[l]/2-o[l]/2;let C;switch(c){case"top":C={x:m,y:r.y-o.height};break;case"bottom":C={x:m,y:r.y+r.height};break;case"right":C={x:r.x+r.width,y:f};break;case"left":C={x:r.x-o.width,y:f};break;default:C={x:r.x,y:r.y}}switch(Vo(t)){case"start":C[a]-=p*(n&&u?-1:1);break;case"end":C[a]+=p*(n&&u?-1:1);break}return C}const SS=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:a}=n,l=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:m,y:f}=_p(u,r,c),p=r,C={},x=0;for(let h=0;h<l.length;h++){const{name:v,fn:y}=l[h],{x:g,y:w,data:b,reset:N}=await y({x:m,y:f,initialPlacement:r,placement:p,strategy:o,middlewareData:C,rects:u,platform:a,elements:{reference:e,floating:t}});m=g??m,f=w??f,C={...C,[v]:{...C[v],...b}},N&&x<=50&&(x++,typeof N=="object"&&(N.placement&&(p=N.placement),N.rects&&(u=N.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:o}):N.rects),{x:m,y:f}=_p(u,p,c)),h=-1)}return{x:m,y:f,placement:p,strategy:o,middlewareData:C}};async function Bs(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:s,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:m="viewport",elementContext:f="floating",altBoundary:p=!1,padding:C=0}=Gn(t,e),x=Ny(C),v=l[p?f==="floating"?"reference":"floating":f],y=ga(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(v)))==null||n?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:m,strategy:c})),g=f==="floating"?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),b=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},N=ga(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:w,strategy:c}):g);return{top:(y.top-N.top+x.top)/b.y,bottom:(N.bottom-y.bottom+x.bottom)/b.y,left:(y.left-N.left+x.left)/b.x,right:(N.right-y.right+x.right)/b.x}}const NS=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:s,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:m=0}=Gn(e,t)||{};if(u==null)return{};const f=Ny(m),p={x:n,y:r},C=$d(o),x=Ld(C),h=await a.getDimensions(u),v=C==="y",y=v?"top":"left",g=v?"bottom":"right",w=v?"clientHeight":"clientWidth",b=s.reference[x]+s.reference[C]-p[C]-s.floating[x],N=p[C]-s.reference[C],S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let P=S?S[w]:0;(!P||!await(a.isElement==null?void 0:a.isElement(S)))&&(P=l.floating[w]||s.floating[x]);const j=b/2-N/2,D=P/2-h[x]/2-1,M=Sr(f[y],D),A=Sr(f[g],D),T=M,O=P-h[x]-A,B=P/2-h[x]/2+j,k=eu(T,B,O),F=!c.arrow&&Vo(o)!=null&&B!==k&&s.reference[x]/2-(B<T?M:A)-h[x]/2<0,Y=F?B<T?B-T:B-O:0;return{[C]:p[C]+Y,data:{[C]:k,centerOffset:B-k-Y,...F&&{alignmentOffset:Y}},reset:F}}}),PS=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:s,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:m=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:h=!0,...v}=Gn(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=Xn(o),g=Nr(l),w=Xn(l)===l,b=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=p||(w||!h?[ha(l)]:vS(l)),S=x!=="none";!p&&S&&N.push(...CS(l,h,x,b));const P=[l,...N],j=await Bs(t,v),D=[];let M=((r=s.flip)==null?void 0:r.overflows)||[];if(m&&D.push(j[y]),f){const B=xS(o,a,b);D.push(j[B[0]],j[B[1]])}if(M=[...M,{placement:o,overflows:D}],!D.every(B=>B<=0)){var A,T;const B=(((A=s.flip)==null?void 0:A.index)||0)+1,k=P[B];if(k)return{data:{index:B,overflows:M},reset:{placement:k}};let F=(T=M.filter(Y=>Y.overflows[0]<=0).sort((Y,E)=>Y.overflows[1]-E.overflows[1])[0])==null?void 0:T.placement;if(!F)switch(C){case"bestFit":{var O;const Y=(O=M.filter(E=>{if(S){const L=Nr(E.placement);return L===g||L==="y"}return!0}).map(E=>[E.placement,E.overflows.filter(L=>L>0).reduce((L,U)=>L+U,0)]).sort((E,L)=>E[1]-L[1])[0])==null?void 0:O[0];Y&&(F=Y);break}case"initialPlacement":F=l;break}if(o!==F)return{reset:{placement:F}}}return{}}}};function Ap(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Lp(e){return hS.some(t=>e[t]>=0)}const jS=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=Gn(e,t);switch(r){case"referenceHidden":{const s=await Bs(t,{...o,elementContext:"reference"}),a=Ap(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Lp(a)}}}case"escaped":{const s=await Bs(t,{...o,altBoundary:!0}),a=Ap(s,n.floating);return{data:{escapedOffsets:a,escaped:Lp(a)}}}default:return{}}}}};async function kS(e,t){const{placement:n,platform:r,elements:o}=e,s=await(r.isRTL==null?void 0:r.isRTL(o.floating)),a=Xn(n),l=Vo(n),c=Nr(n)==="y",u=["left","top"].includes(a)?-1:1,m=s&&c?-1:1,f=Gn(t,e);let{mainAxis:p,crossAxis:C,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(C=l==="end"?x*-1:x),c?{x:C*m,y:p*u}:{x:p*u,y:C*m}}const MS=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:s,placement:a,middlewareData:l}=t,c=await kS(t,e);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:o+c.x,y:s+c.y,data:{...c,placement:a}}}}},ES=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:l={fn:v=>{let{x:y,y:g}=v;return{x:y,y:g}}},...c}=Gn(e,t),u={x:n,y:r},m=await Bs(t,c),f=Nr(Xn(o)),p=Ad(f);let C=u[p],x=u[f];if(s){const v=p==="y"?"top":"left",y=p==="y"?"bottom":"right",g=C+m[v],w=C-m[y];C=eu(g,C,w)}if(a){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",g=x+m[v],w=x-m[y];x=eu(g,x,w)}const h=l.fn({...t,[p]:C,[f]:x});return{...h,data:{x:h.x-n,y:h.y-r,enabled:{[p]:s,[f]:a}}}}}},IS=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:s,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Gn(e,t),m={x:n,y:r},f=Nr(o),p=Ad(f);let C=m[p],x=m[f];const h=Gn(l,t),v=typeof h=="number"?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(c){const w=p==="y"?"height":"width",b=s.reference[p]-s.floating[w]+v.mainAxis,N=s.reference[p]+s.reference[w]-v.mainAxis;C<b?C=b:C>N&&(C=N)}if(u){var y,g;const w=p==="y"?"width":"height",b=["top","left"].includes(Xn(o)),N=s.reference[f]-s.floating[w]+(b&&((y=a.offset)==null?void 0:y[f])||0)+(b?0:v.crossAxis),S=s.reference[f]+s.reference[w]+(b?0:((g=a.offset)==null?void 0:g[f])||0)-(b?v.crossAxis:0);x<N?x=N:x>S&&(x=S)}return{[p]:C,[f]:x}}}},DS=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:s,platform:a,elements:l}=t,{apply:c=()=>{},...u}=Gn(e,t),m=await Bs(t,u),f=Xn(o),p=Vo(o),C=Nr(o)==="y",{width:x,height:h}=s.floating;let v,y;f==="top"||f==="bottom"?(v=f,y=p===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,v=p==="end"?"top":"bottom");const g=h-m.top-m.bottom,w=x-m.left-m.right,b=Sr(h-m[v],g),N=Sr(x-m[y],w),S=!t.middlewareData.shift;let P=b,j=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(j=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(P=g),S&&!p){const M=Lt(m.left,0),A=Lt(m.right,0),T=Lt(m.top,0),O=Lt(m.bottom,0);C?j=x-2*(M!==0||A!==0?M+A:Lt(m.left,m.right)):P=h-2*(T!==0||O!==0?T+O:Lt(m.top,m.bottom))}await c({...t,availableWidth:j,availableHeight:P});const D=await a.getDimensions(l.floating);return x!==D.width||h!==D.height?{reset:{rects:!0}}:{}}}};function Ya(){return typeof window<"u"}function Ho(e){return Py(e)?(e.nodeName||"").toLowerCase():"#document"}function zt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function jn(e){var t;return(t=(Py(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Py(e){return Ya()?e instanceof Node||e instanceof zt(e).Node:!1}function dn(e){return Ya()?e instanceof Element||e instanceof zt(e).Element:!1}function Pn(e){return Ya()?e instanceof HTMLElement||e instanceof zt(e).HTMLElement:!1}function $p(e){return!Ya()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof zt(e).ShadowRoot}function Qs(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=fn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function TS(e){return["table","td","th"].includes(Ho(e))}function Ga(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Bd(e){const t=zd(),n=dn(e)?fn(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function RS(e){let t=Pr(e);for(;Pn(t)&&!Lo(t);){if(Bd(t))return t;if(Ga(t))return null;t=Pr(t)}return null}function zd(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Lo(e){return["html","body","#document"].includes(Ho(e))}function fn(e){return zt(e).getComputedStyle(e)}function Xa(e){return dn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Pr(e){if(Ho(e)==="html")return e;const t=e.assignedSlot||e.parentNode||$p(e)&&e.host||jn(e);return $p(t)?t.host:t}function jy(e){const t=Pr(e);return Lo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Pn(t)&&Qs(t)?t:jy(t)}function zs(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=jy(e),s=o===((r=e.ownerDocument)==null?void 0:r.body),a=zt(o);if(s){const l=nu(a);return t.concat(a,a.visualViewport||[],Qs(o)?o:[],l&&n?zs(l):[])}return t.concat(o,zs(o,[],n))}function nu(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ky(e){const t=fn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Pn(e),s=o?e.offsetWidth:n,a=o?e.offsetHeight:r,l=ma(n)!==s||ma(r)!==a;return l&&(n=s,r=a),{width:n,height:r,$:l}}function Fd(e){return dn(e)?e:e.contextElement}function jo(e){const t=Fd(e);if(!Pn(t))return Nn(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:s}=ky(t);let a=(s?ma(n.width):n.width)/r,l=(s?ma(n.height):n.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const OS=Nn(0);function My(e){const t=zt(e);return!zd()||!t.visualViewport?OS:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function _S(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==zt(e)?!1:t}function Kr(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=Fd(e);let a=Nn(1);t&&(r?dn(r)&&(a=jo(r)):a=jo(e));const l=_S(s,n,r)?My(s):Nn(0);let c=(o.left+l.x)/a.x,u=(o.top+l.y)/a.y,m=o.width/a.x,f=o.height/a.y;if(s){const p=zt(s),C=r&&dn(r)?zt(r):r;let x=p,h=nu(x);for(;h&&r&&C!==x;){const v=jo(h),y=h.getBoundingClientRect(),g=fn(h),w=y.left+(h.clientLeft+parseFloat(g.paddingLeft))*v.x,b=y.top+(h.clientTop+parseFloat(g.paddingTop))*v.y;c*=v.x,u*=v.y,m*=v.x,f*=v.y,c+=w,u+=b,x=zt(h),h=nu(x)}}return ga({width:m,height:f,x:c,y:u})}function Ud(e,t){const n=Xa(e).scrollLeft;return t?t.left+n:Kr(jn(e)).left+n}function Ey(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:Ud(e,r)),s=r.top+t.scrollTop;return{x:o,y:s}}function AS(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const s=o==="fixed",a=jn(r),l=t?Ga(t.floating):!1;if(r===a||l&&s)return n;let c={scrollLeft:0,scrollTop:0},u=Nn(1);const m=Nn(0),f=Pn(r);if((f||!f&&!s)&&((Ho(r)!=="body"||Qs(a))&&(c=Xa(r)),Pn(r))){const C=Kr(r);u=jo(r),m.x=C.x+r.clientLeft,m.y=C.y+r.clientTop}const p=a&&!f&&!s?Ey(a,c,!0):Nn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+m.x+p.x,y:n.y*u.y-c.scrollTop*u.y+m.y+p.y}}function LS(e){return Array.from(e.getClientRects())}function $S(e){const t=jn(e),n=Xa(e),r=e.ownerDocument.body,o=Lt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Lt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Ud(e);const l=-n.scrollTop;return fn(r).direction==="rtl"&&(a+=Lt(t.clientWidth,r.clientWidth)-o),{width:o,height:s,x:a,y:l}}function BS(e,t){const n=zt(e),r=jn(e),o=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,l=0,c=0;if(o){s=o.width,a=o.height;const u=zd();(!u||u&&t==="fixed")&&(l=o.offsetLeft,c=o.offsetTop)}return{width:s,height:a,x:l,y:c}}function zS(e,t){const n=Kr(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,s=Pn(e)?jo(e):Nn(1),a=e.clientWidth*s.x,l=e.clientHeight*s.y,c=o*s.x,u=r*s.y;return{width:a,height:l,x:c,y:u}}function Bp(e,t,n){let r;if(t==="viewport")r=BS(e,n);else if(t==="document")r=$S(jn(e));else if(dn(t))r=zS(t,n);else{const o=My(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return ga(r)}function Iy(e,t){const n=Pr(e);return n===t||!dn(n)||Lo(n)?!1:fn(n).position==="fixed"||Iy(n,t)}function FS(e,t){const n=t.get(e);if(n)return n;let r=zs(e,[],!1).filter(l=>dn(l)&&Ho(l)!=="body"),o=null;const s=fn(e).position==="fixed";let a=s?Pr(e):e;for(;dn(a)&&!Lo(a);){const l=fn(a),c=Bd(a);!c&&l.position==="fixed"&&(o=null),(s?!c&&!o:!c&&l.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Qs(a)&&!c&&Iy(e,a))?r=r.filter(m=>m!==a):o=l,a=Pr(a)}return t.set(e,r),r}function US(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const a=[...n==="clippingAncestors"?Ga(t)?[]:FS(t,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,m)=>{const f=Bp(t,m,o);return u.top=Lt(f.top,u.top),u.right=Sr(f.right,u.right),u.bottom=Sr(f.bottom,u.bottom),u.left=Lt(f.left,u.left),u},Bp(t,l,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function VS(e){const{width:t,height:n}=ky(e);return{width:t,height:n}}function HS(e,t,n){const r=Pn(t),o=jn(t),s=n==="fixed",a=Kr(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=Nn(0);if(r||!r&&!s)if((Ho(t)!=="body"||Qs(o))&&(l=Xa(t)),r){const p=Kr(t,!0,s,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else o&&(c.x=Ud(o));const u=o&&!r&&!s?Ey(o,l):Nn(0),m=a.left+l.scrollLeft-c.x-u.x,f=a.top+l.scrollTop-c.y-u.y;return{x:m,y:f,width:a.width,height:a.height}}function Ul(e){return fn(e).position==="static"}function zp(e,t){if(!Pn(e)||fn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return jn(e)===n&&(n=n.ownerDocument.body),n}function Dy(e,t){const n=zt(e);if(Ga(e))return n;if(!Pn(e)){let o=Pr(e);for(;o&&!Lo(o);){if(dn(o)&&!Ul(o))return o;o=Pr(o)}return n}let r=zp(e,t);for(;r&&TS(r)&&Ul(r);)r=zp(r,t);return r&&Lo(r)&&Ul(r)&&!Bd(r)?n:r||RS(e)||n}const WS=async function(e){const t=this.getOffsetParent||Dy,n=this.getDimensions,r=await n(e.floating);return{reference:HS(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function KS(e){return fn(e).direction==="rtl"}const YS={convertOffsetParentRelativeRectToViewportRelativeRect:AS,getDocumentElement:jn,getClippingRect:US,getOffsetParent:Dy,getElementRects:WS,getClientRects:LS,getDimensions:VS,getScale:jo,isElement:dn,isRTL:KS};function Ty(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function GS(e,t){let n=null,r;const o=jn(e);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:m,top:f,width:p,height:C}=u;if(l||t(),!p||!C)return;const x=vi(f),h=vi(o.clientWidth-(m+p)),v=vi(o.clientHeight-(f+C)),y=vi(m),w={rootMargin:-x+"px "+-h+"px "+-v+"px "+-y+"px",threshold:Lt(0,Sr(1,c))||1};let b=!0;function N(S){const P=S[0].intersectionRatio;if(P!==c){if(!b)return a();P?a(!1,P):r=setTimeout(()=>{a(!1,1e-7)},1e3)}P===1&&!Ty(u,e.getBoundingClientRect())&&a(),b=!1}try{n=new IntersectionObserver(N,{...w,root:o.ownerDocument})}catch{n=new IntersectionObserver(N,w)}n.observe(e)}return a(!0),s}function XS(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Fd(e),m=o||s?[...u?zs(u):[],...zs(t)]:[];m.forEach(y=>{o&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const f=u&&l?GS(u,n):null;let p=-1,C=null;a&&(C=new ResizeObserver(y=>{let[g]=y;g&&g.target===u&&C&&(C.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=C)==null||w.observe(t)})),n()}),u&&!c&&C.observe(u),C.observe(t));let x,h=c?Kr(e):null;c&&v();function v(){const y=Kr(e);h&&!Ty(h,y)&&n(),h=y,x=requestAnimationFrame(v)}return n(),()=>{var y;m.forEach(g=>{o&&g.removeEventListener("scroll",n),s&&g.removeEventListener("resize",n)}),f==null||f(),(y=C)==null||y.disconnect(),C=null,c&&cancelAnimationFrame(x)}}const QS=MS,qS=ES,ZS=PS,JS=DS,e2=jS,Fp=NS,t2=IS,n2=(e,t,n)=>{const r=new Map,o={platform:YS,...n},s={...o.platform,_c:r};return SS(e,t,{...o,platform:s})};var zi=typeof document<"u"?d.useLayoutEffect:d.useEffect;function ya(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!ya(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const s=o[r];if(!(s==="_owner"&&e.$$typeof)&&!ya(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Ry(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Up(e,t){const n=Ry(e);return Math.round(t*n)/n}function Vl(e){const t=d.useRef(e);return zi(()=>{t.current=e}),t}function r2(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:s,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[m,f]=d.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,C]=d.useState(r);ya(p,r)||C(r);const[x,h]=d.useState(null),[v,y]=d.useState(null),g=d.useCallback(E=>{E!==S.current&&(S.current=E,h(E))},[]),w=d.useCallback(E=>{E!==P.current&&(P.current=E,y(E))},[]),b=s||x,N=a||v,S=d.useRef(null),P=d.useRef(null),j=d.useRef(m),D=c!=null,M=Vl(c),A=Vl(o),T=Vl(u),O=d.useCallback(()=>{if(!S.current||!P.current)return;const E={placement:t,strategy:n,middleware:p};A.current&&(E.platform=A.current),n2(S.current,P.current,E).then(L=>{const U={...L,isPositioned:T.current!==!1};B.current&&!ya(j.current,U)&&(j.current=U,un.flushSync(()=>{f(U)}))})},[p,t,n,A,T]);zi(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,f(E=>({...E,isPositioned:!1})))},[u]);const B=d.useRef(!1);zi(()=>(B.current=!0,()=>{B.current=!1}),[]),zi(()=>{if(b&&(S.current=b),N&&(P.current=N),b&&N){if(M.current)return M.current(b,N,O);O()}},[b,N,O,M,D]);const k=d.useMemo(()=>({reference:S,floating:P,setReference:g,setFloating:w}),[g,w]),F=d.useMemo(()=>({reference:b,floating:N}),[b,N]),Y=d.useMemo(()=>{const E={position:n,left:0,top:0};if(!F.floating)return E;const L=Up(F.floating,m.x),U=Up(F.floating,m.y);return l?{...E,transform:"translate("+L+"px, "+U+"px)",...Ry(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:U}},[n,l,F.floating,m.x,m.y]);return d.useMemo(()=>({...m,update:O,refs:k,elements:F,floatingStyles:Y}),[m,O,k,F,Y])}const o2=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Fp({element:r.current,padding:o}).fn(n):{}:r?Fp({element:r,padding:o}).fn(n):{}}}},s2=(e,t)=>({...QS(e),options:[e,t]}),i2=(e,t)=>({...qS(e),options:[e,t]}),a2=(e,t)=>({...t2(e),options:[e,t]}),l2=(e,t)=>({...ZS(e),options:[e,t]}),c2=(e,t)=>({...JS(e),options:[e,t]}),u2=(e,t)=>({...e2(e),options:[e,t]}),d2=(e,t)=>({...o2(e),options:[e,t]});var f2="Arrow",Oy=d.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...s}=e;return i.jsx(ge.svg,{...s,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});Oy.displayName=f2;var p2=Oy;function Qa(e){const[t,n]=d.useState(void 0);return xt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const s=o[0];let a,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;n({width:a,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Vd="Popper",[_y,qa]=qn(Vd),[m2,Ay]=_y(Vd),Ly=e=>{const{__scopePopper:t,children:n}=e,[r,o]=d.useState(null);return i.jsx(m2,{scope:t,anchor:r,onAnchorChange:o,children:n})};Ly.displayName=Vd;var $y="PopperAnchor",By=d.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,s=Ay($y,n),a=d.useRef(null),l=Pe(t,a);return d.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:i.jsx(ge.div,{...o,ref:l})});By.displayName=$y;var Hd="PopperContent",[h2,g2]=_y(Hd),zy=d.forwardRef((e,t)=>{var X,de,z,I,R,_;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:s="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:m=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:C="optimized",onPlaced:x,...h}=e,v=Ay(Hd,n),[y,g]=d.useState(null),w=Pe(t,V=>g(V)),[b,N]=d.useState(null),S=Qa(b),P=(S==null?void 0:S.width)??0,j=(S==null?void 0:S.height)??0,D=r+(s!=="center"?"-"+s:""),M=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},A=Array.isArray(u)?u:[u],T=A.length>0,O={padding:M,boundary:A.filter(x2),altBoundary:T},{refs:B,floatingStyles:k,placement:F,isPositioned:Y,middlewareData:E}=r2({strategy:"fixed",placement:D,whileElementsMounted:(...V)=>XS(...V,{animationFrame:C==="always"}),elements:{reference:v.anchor},middleware:[s2({mainAxis:o+j,alignmentAxis:a}),c&&i2({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?a2():void 0,...O}),c&&l2({...O}),c2({...O,apply:({elements:V,rects:q,availableWidth:se,availableHeight:fe})=>{const{width:ue,height:je}=q.reference,De=V.floating.style;De.setProperty("--radix-popper-available-width",`${se}px`),De.setProperty("--radix-popper-available-height",`${fe}px`),De.setProperty("--radix-popper-anchor-width",`${ue}px`),De.setProperty("--radix-popper-anchor-height",`${je}px`)}}),b&&d2({element:b,padding:l}),v2({arrowWidth:P,arrowHeight:j}),p&&u2({strategy:"referenceHidden",...O})]}),[L,U]=Vy(F),H=Ut(x);xt(()=>{Y&&(H==null||H())},[Y,H]);const G=(X=E.arrow)==null?void 0:X.x,oe=(de=E.arrow)==null?void 0:de.y,$=((z=E.arrow)==null?void 0:z.centerOffset)!==0,[ne,ye]=d.useState();return xt(()=>{y&&ye(window.getComputedStyle(y).zIndex)},[y]),i.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...k,transform:Y?k.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ne,"--radix-popper-transform-origin":[(I=E.transformOrigin)==null?void 0:I.x,(R=E.transformOrigin)==null?void 0:R.y].join(" "),...((_=E.hide)==null?void 0:_.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(h2,{scope:n,placedSide:L,onArrowChange:N,arrowX:G,arrowY:oe,shouldHideArrow:$,children:i.jsx(ge.div,{"data-side":L,"data-align":U,...h,ref:w,style:{...h.style,animation:Y?void 0:"none"}})})})});zy.displayName=Hd;var Fy="PopperArrow",y2={top:"bottom",right:"left",bottom:"top",left:"right"},Uy=d.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,s=g2(Fy,r),a=y2[s.placedSide];return i.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:i.jsx(p2,{...o,ref:n,style:{...o.style,display:"block"}})})});Uy.displayName=Fy;function x2(e){return e!==null}var v2=e=>({name:"transformOrigin",options:e,fn(t){var v,y,g;const{placement:n,rects:r,middlewareData:o}=t,a=((v=o.arrow)==null?void 0:v.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,m]=Vy(n),f={start:"0%",center:"50%",end:"100%"}[m],p=(((y=o.arrow)==null?void 0:y.x)??0)+l/2,C=(((g=o.arrow)==null?void 0:g.y)??0)+c/2;let x="",h="";return u==="bottom"?(x=a?f:`${p}px`,h=`${-c}px`):u==="top"?(x=a?f:`${p}px`,h=`${r.floating.height+c}px`):u==="right"?(x=`${-c}px`,h=a?f:`${C}px`):u==="left"&&(x=`${r.floating.width+c}px`,h=a?f:`${C}px`),{data:{x,y:h}}}});function Vy(e){const[t,n="center"]=e.split("-");return[t,n]}var w2=Ly,Hy=By,Wy=zy,Ky=Uy,[Za,Xj]=qn("Tooltip",[qa]),Wd=qa(),Yy="TooltipProvider",C2=700,Vp="tooltip.open",[b2,Gy]=Za(Yy),Xy=e=>{const{__scopeTooltip:t,delayDuration:n=C2,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:s}=e,a=d.useRef(!0),l=d.useRef(!1),c=d.useRef(0);return d.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),i.jsx(b2,{scope:t,isOpenDelayedRef:a,delayDuration:n,onOpen:d.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:d.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:d.useCallback(u=>{l.current=u},[]),disableHoverableContent:o,children:s})};Xy.displayName=Yy;var Qy="Tooltip",[Qj,Ja]=Za(Qy),ru="TooltipTrigger",S2=d.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Ja(ru,n),s=Gy(ru,n),a=Wd(n),l=d.useRef(null),c=Pe(t,l,o.onTriggerChange),u=d.useRef(!1),m=d.useRef(!1),f=d.useCallback(()=>u.current=!1,[]);return d.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),i.jsx(Hy,{asChild:!0,...a,children:i.jsx(ge.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:c,onPointerMove:ce(e.onPointerMove,p=>{p.pointerType!=="touch"&&!m.current&&!s.isPointerInTransitRef.current&&(o.onTriggerEnter(),m.current=!0)}),onPointerLeave:ce(e.onPointerLeave,()=>{o.onTriggerLeave(),m.current=!1}),onPointerDown:ce(e.onPointerDown,()=>{o.open&&o.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ce(e.onFocus,()=>{u.current||o.onOpen()}),onBlur:ce(e.onBlur,o.onClose),onClick:ce(e.onClick,o.onClose)})})});S2.displayName=ru;var N2="TooltipPortal",[qj,P2]=Za(N2,{forceMount:void 0}),$o="TooltipContent",qy=d.forwardRef((e,t)=>{const n=P2($o,e.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...s}=e,a=Ja($o,e.__scopeTooltip);return i.jsx(Zr,{present:r||a.open,children:a.disableHoverableContent?i.jsx(Zy,{side:o,...s,ref:t}):i.jsx(j2,{side:o,...s,ref:t})})}),j2=d.forwardRef((e,t)=>{const n=Ja($o,e.__scopeTooltip),r=Gy($o,e.__scopeTooltip),o=d.useRef(null),s=Pe(t,o),[a,l]=d.useState(null),{trigger:c,onClose:u}=n,m=o.current,{onPointerInTransitChange:f}=r,p=d.useCallback(()=>{l(null),f(!1)},[f]),C=d.useCallback((x,h)=>{const v=x.currentTarget,y={x:x.clientX,y:x.clientY},g=D2(y,v.getBoundingClientRect()),w=T2(y,g),b=R2(h.getBoundingClientRect()),N=_2([...w,...b]);l(N),f(!0)},[f]);return d.useEffect(()=>()=>p(),[p]),d.useEffect(()=>{if(c&&m){const x=v=>C(v,m),h=v=>C(v,c);return c.addEventListener("pointerleave",x),m.addEventListener("pointerleave",h),()=>{c.removeEventListener("pointerleave",x),m.removeEventListener("pointerleave",h)}}},[c,m,C,p]),d.useEffect(()=>{if(a){const x=h=>{const v=h.target,y={x:h.clientX,y:h.clientY},g=(c==null?void 0:c.contains(v))||(m==null?void 0:m.contains(v)),w=!O2(y,a);g?p():w&&(p(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,m,a,u,p]),i.jsx(Zy,{...e,ref:s})}),[k2,M2]=Za(Qy,{isInside:!1}),E2=TC("TooltipContent"),Zy=d.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:s,onPointerDownOutside:a,...l}=e,c=Ja($o,n),u=Wd(n),{onClose:m}=c;return d.useEffect(()=>(document.addEventListener(Vp,m),()=>document.removeEventListener(Vp,m)),[m]),d.useEffect(()=>{if(c.trigger){const f=p=>{const C=p.target;C!=null&&C.contains(c.trigger)&&m()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,m]),i.jsx(Gs,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:m,children:i.jsxs(Wy,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(E2,{children:r}),i.jsx(k2,{scope:n,isInside:!0,children:i.jsx(ZC,{id:c.contentId,role:"tooltip",children:o||r})})]})})});qy.displayName=$o;var Jy="TooltipArrow",I2=d.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Wd(n);return M2(Jy,n).isInside?null:i.jsx(Ky,{...o,...r,ref:t})});I2.displayName=Jy;function D2(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,o,s)){case s:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function T2(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function R2(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}function O2(e,t){const{x:n,y:r}=e;let o=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const l=t[s].x,c=t[s].y,u=t[a].x,m=t[a].y;c>r!=m>r&&n<(u-l)*(r-c)/(m-c)+l&&(o=!o)}return o}function _2(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),A2(t)}function A2(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const o=e[r];for(;t.length>=2;){const s=t[t.length-1],a=t[t.length-2];if((s.x-a.x)*(o.y-a.y)>=(s.y-a.y)*(o.x-a.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const o=e[r];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(o.y-a.y)>=(s.y-a.y)*(o.x-a.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var L2=Xy,e0=qy;const $2=L2,B2=d.forwardRef(({className:e,sideOffset:t=4,...n},r)=>i.jsx(e0,{ref:r,sideOffset:t,className:we("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));B2.displayName=e0.displayName;const t0=d.createContext(void 0);function z2({children:e}){const[t,n]=d.useState(()=>{try{const r=localStorage.getItem("midi-router-toast-enabled");return r?JSON.parse(r):!0}catch{return!0}});return d.useEffect(()=>{localStorage.setItem("midi-router-toast-enabled",JSON.stringify(t))},[t]),i.jsx(t0.Provider,{value:{toastNotificationsEnabled:t,setToastNotificationsEnabled:n},children:e})}function n0(){const e=d.useContext(t0);if(e===void 0)throw new Error("useSettings must be used within a SettingsProvider");return e}const r0=d.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:we("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));r0.displayName="Card";const F2=d.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:we("flex flex-col space-y-1.5 p-6",e),...t}));F2.displayName="CardHeader";const U2=d.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:we("text-2xl font-semibold leading-none tracking-tight",e),...t}));U2.displayName="CardTitle";const V2=d.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:we("text-sm text-muted-foreground",e),...t}));V2.displayName="CardDescription";const o0=d.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:we("p-6 pt-0",e),...t}));o0.displayName="CardContent";const H2=d.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:we("flex items-center p-6 pt-0",e),...t}));H2.displayName="CardFooter";function W2(){return i.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:i.jsx(r0,{className:"w-full max-w-md mx-4",children:i.jsxs(o0,{className:"pt-6",children:[i.jsxs("div",{className:"flex mb-4 gap-2",children:[i.jsx(bb,{className:"h-8 w-8 text-red-500"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),i.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function Hp(e,t){let n="port w-4 h-4 rounded-full cursor-pointer";return e.type==="input"?n+=" port-input":e.type==="output"&&(n+=" port-output"),t.hasConnection&&(n+=" port-connected",e.type==="output"&&(n+=" port-output-connected")),t.isActive&&(n+=" port-active"),t.isSelected&&(n+=" port-selected"),n}const Pa=class Pa{constructor(){this.connections=[],this.blocks=[],this.inputHandlers=new Map,this.connectionMap=new Map,this.messageCounter=0,this.isProcessing=!1,this.pendingMessages=[]}static getInstance(){return this.instance||(this.instance=new Pa),this.instance}updateConnections(t,n){this.connections=[...t],this.blocks=[...n],this.rebuildConnectionMap()}rebuildConnectionMap(){this.connectionMap.clear(),this.connections.forEach(t=>{const n=t.fromPort,r=t.toPort;this.connectionMap.has(n)||this.connectionMap.set(n,[]),this.connectionMap.get(n).push(r)})}registerInputHandler(t,n){this.inputHandlers.set(t,n)}unregisterInputHandler(t){this.inputHandlers.delete(t)}routeMessage(t){this.pendingMessages.push(t),this.isProcessing||this.processMessageQueue()}processMessageQueue(){this.isProcessing=!0,this.pendingMessages.length;try{for(;this.pendingMessages.length>0;){const t=this.pendingMessages.shift();this.processSingleMessage(t)}}finally{this.isProcessing=!1}}processSingleMessage(t){const{blockId:n,portId:r,message:o,messageId:s,visitedBlocks:a}=t,l=s||`msg_${++this.messageCounter}_${Date.now()}`,c=a||new Set;c.add(n),(this.connectionMap.get(r)||[]).forEach(m=>{const f=this.blocks.find(x=>x.ports.some(h=>h.id===m));if(!f){console.warn(`Target block not found for input port: ${m}`);return}if(c.has(f.id)){console.warn(`Loop detected: skipping route to ${f.id}`);return}const p=this.inputHandlers.get(f.id);if(!p){console.warn(`No input handler registered for block: ${f.id}`);return}const C={messageId:l,sourceBlockId:n,sourcePortId:r,targetBlockId:f.id,targetPortId:m,message:{...o},timestamp:Date.now(),visitedBlocks:new Set(c)};try{p(C)}catch(x){console.error(`Error routing MIDI message to block ${f.id}:`,x)}})}getRoutingStats(){return{totalConnections:this.connections.length,totalBlocks:this.blocks.length,registeredHandlers:this.inputHandlers.size,connectionMap:Object.fromEntries(this.connectionMap),messagesProcessed:this.messageCounter}}reset(){this.connections=[],this.blocks=[],this.inputHandlers.clear(),this.connectionMap.clear(),this.messageCounter=0,this.isProcessing=!1,this.pendingMessages=[]}};Pa.instance=null;let ou=Pa;const Fi=ou.getInstance(),K2=({className:e="w-4 h-4",strokeWidth:t=1.5})=>i.jsxs("svg",{className:e,viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:t,children:[i.jsx("rect",{x:"1",y:"4",width:"14",height:"8",rx:"0.5",fill:"none"}),i.jsx("line",{x1:"3",y1:"4",x2:"3",y2:"12",strokeWidth:"0.5"}),i.jsx("line",{x1:"5",y1:"4",x2:"5",y2:"12",strokeWidth:"0.5"}),i.jsx("line",{x1:"7",y1:"4",x2:"7",y2:"12",strokeWidth:"0.5"}),i.jsx("line",{x1:"9",y1:"4",x2:"9",y2:"12",strokeWidth:"0.5"}),i.jsx("line",{x1:"11",y1:"4",x2:"11",y2:"12",strokeWidth:"0.5"}),i.jsx("line",{x1:"13",y1:"4",x2:"13",y2:"12",strokeWidth:"0.5"}),i.jsx("rect",{x:"2.5",y:"4",width:"1",height:"4",fill:"currentColor",strokeWidth:"0"}),i.jsx("rect",{x:"4.5",y:"4",width:"1",height:"4",fill:"currentColor",strokeWidth:"0"}),i.jsx("rect",{x:"8.5",y:"4",width:"1",height:"4",fill:"currentColor",strokeWidth:"0"}),i.jsx("rect",{x:"10.5",y:"4",width:"1",height:"4",fill:"currentColor",strokeWidth:"0"}),i.jsx("rect",{x:"12.5",y:"4",width:"1",height:"4",fill:"currentColor",strokeWidth:"0"})]}),Y2=({className:e="w-4 h-4",strokeWidth:t=1.5})=>i.jsxs("svg",{className:e,viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:t,children:[i.jsx("rect",{x:"2",y:"3",width:"12",height:"8",rx:"1"}),i.jsx("path",{d:"M2 7h12M2 9h12",strokeWidth:.8}),i.jsx("path",{d:"M6 11v2M10 11v2M4 13h8"})]}),G2=({className:e="w-4 h-4",strokeWidth:t=1.5})=>i.jsxs("svg",{className:e,viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:t,children:[i.jsx("path",{d:"M3 4h10l-3 3v4l-4 1v-5l-3-3z"}),i.jsx("path",{d:"M3 4l3 3M13 4l-3 3",strokeWidth:1})]}),X2=({className:e="w-4 h-4",strokeWidth:t=1.5})=>i.jsxs("svg",{className:e,viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:t,children:[i.jsx("path",{d:"M4 2v12M8 2v12M12 2v12"}),i.jsx("rect",{x:"3",y:"5",width:"2",height:"2",rx:"0.5"}),i.jsx("rect",{x:"7",y:"7",width:"2",height:"2",rx:"0.5"}),i.jsx("rect",{x:"11",y:"4",width:"2",height:"2",rx:"0.5"})]}),Wp=({className:e="w-4 h-4",strokeWidth:t=1.5})=>i.jsxs("svg",{className:e,viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:t,children:[i.jsx("path",{d:"M2 8c1.5-3 3-3 4.5 0s3 3 4.5 0s3-3 4.5 0"}),i.jsx("circle",{cx:"2",cy:"8",r:"0.5",fill:"currentColor"}),i.jsx("circle",{cx:"14",cy:"8",r:"0.5",fill:"currentColor"})]}),Q2=({className:e="w-4 h-4",strokeWidth:t=1.5})=>i.jsxs("svg",{className:e,viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:t,children:[i.jsx("path",{d:"M3 8h3M6 8h3M9 8h3"}),i.jsx("circle",{cx:"4.5",cy:"8",r:"1",strokeWidth:1}),i.jsx("circle",{cx:"7.5",cy:"8",r:"1",strokeWidth:.8,opacity:"0.7"}),i.jsx("circle",{cx:"10.5",cy:"8",r:"1",strokeWidth:.6,opacity:"0.4"})]}),Kp=({className:e="w-4 h-4",strokeWidth:t=1.5})=>i.jsxs("svg",{className:e,viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:t,children:[i.jsx("path",{d:"M4 2h6l2 2v9a1 1 0 01-1 1H4a1 1 0 01-1-1V3a1 1 0 011-1z"}),i.jsx("path",{d:"M10 2v2h2M6 7h4M6 9h4M6 11h2",strokeWidth:1})]}),q2=({className:e="w-4 h-4",strokeWidth:t=1.5})=>i.jsxs("svg",{className:e,viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:t,children:[i.jsx("circle",{cx:"8",cy:"8",r:"5"}),i.jsx("path",{d:"M6 8h4M8 6v4",strokeWidth:1}),i.jsx("circle",{cx:"8",cy:"8",r:"1.5",fill:"none",strokeWidth:1})]}),Z2=({className:e="w-4 h-4",strokeWidth:t=1.5})=>i.jsxs("svg",{className:e,viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:t,children:[i.jsx("circle",{cx:"8",cy:"8",r:"5"}),i.jsx("path",{d:"M6 8l2-2v1h4v2h-4v1l-2-2z",fill:"currentColor",strokeWidth:.5})]}),J2=({className:e="w-4 h-4",strokeWidth:t=1.5})=>i.jsxs("svg",{className:e,viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:t,children:[i.jsx("polyline",{points:"2,12 6,8 10,10 14,4"}),i.jsx("polyline",{points:"10,4 14,4 14,8"})]}),Yp={piano:K2,monitor:Y2,filter:G2,mixer:X2,wave:Wp,delay:Q2,document:Kp,input:q2,output:Z2,template:Kp,oscillator:Wp,"trending-up":J2},s0=({name:e,color:t="current",className:n="w-4 h-4",strokeWidth:r=1.5})=>{const o=Yp[e];if(!o)return console.warn(`Icon "${e}" not found in registry`),Yp.document({className:n,strokeWidth:r});const s=`${n} ${t!=="current"?`text-${t}`:""} drop-shadow-glow`;return i.jsx(o,{className:s,strokeWidth:r})};function i0(e){const[t,n]=d.useState({}),r=d.useRef(new Map);return d.useCallback((o,s)=>{n(a=>{if(s===a[o])return a;if(s)return{...a,[o]:!0};{const l={...a};return delete l[o],l}})},[]),d.useEffect(()=>{const o=(s,a)=>{n(l=>{if(a===l[s])return l;if(a)return{...l,[s]:!0};{const c={...l};return delete c[s],c}})};return e.forEach(s=>{r.current.set(s,o),be.registerPortActivityHandler(s,o)}),()=>{e.forEach(s=>{be.unregisterPortActivityHandler(s),r.current.delete(s)})}},[e]),t}const Oe=class Oe{constructor(){this.data={}}static setConfigModalOpen(t){Oe.isConfigModalOpen=t}static getConfigModalOpen(){return Oe.isConfigModalOpen}useInstanceData(t){const n=this.blockId,r=this.constructor.name;Oe.instanceRegistries.has(r)||Oe.instanceRegistries.set(r,new Map);const o=Oe.instanceRegistries.get(r);return o.has(n)||o.set(n,t),o.get(n)}static cleanupInstance(t){Array.from(this.instanceRegistries.values()).forEach(n=>{n.delete(t)})}static setPortActive(t,n=!0){const r=this.portActivityTimers.get(t);r&&(clearTimeout(r),this.portActivityTimers.delete(t));const o=this.activePortUpdateHandlers.get(t);if(o&&o(t,n),n){const s=setTimeout(()=>{this.portActivityTimers.delete(t);const a=this.activePortUpdateHandlers.get(t);a&&a(t,!1)},100);this.portActivityTimers.set(t,s)}}static registerPortActivityHandler(t,n){this.activePortUpdateHandlers.set(t,n)}static unregisterPortActivityHandler(t){this.activePortUpdateHandlers.delete(t);const n=this.portActivityTimers.get(t);n&&(clearTimeout(n),this.portActivityTimers.delete(t))}emitMidiMessage(t,n,r,o){Oe.setPortActive(n,!0);const s={blockId:t,portId:n,message:r,messageId:o==null?void 0:o.messageId,visitedBlocks:o==null?void 0:o.visitedBlocks};Fi.routeMessage(s)}handleRoutedMidiMessage(t){Oe.setPortActive(t.targetPortId,!0);const n=t.targetPortId.split("-").pop();this.blockId=t.targetBlockId;const r=this.processMidiMessage(t.message,n);if(r){const s=this.constructor.portConfig.outputs,a=r.targetPorts||s.map(c=>c.name);(r.messages||(r.message?[r.message]:[])).forEach((c,u)=>{a.forEach(m=>{if(!s.some(C=>C.name===m)){console.warn(`Block ${t.targetBlockId}: Output port '${m}' does not exist`);return}const p=`${t.targetBlockId}-${m}`;this.emitMidiMessage(t.targetBlockId,p,c,t)})})}}static getType(){return this.title.toLowerCase().replace(/\s+/g,"").replace(/[^a-z0-9]/g,"")}static generatePorts(t){const n=[];return this.portConfig.inputs.forEach(r=>{n.push({id:`${t}-${r.name}`,type:"input",blockId:t,position:{x:0,y:0}})}),this.portConfig.outputs.forEach(r=>{n.push({id:`${t}-${r.name}`,type:"output",blockId:t,position:{x:0,y:0}})}),n}static getPortPosition(t,n){return this.getSimplePortPosition(t,n)}static getDOMPortPosition(t,n){const r=document.querySelector(`[data-port-id="${n}"]`),o=document.getElementById("blocks-container");if(r&&o){const s=r.getBoundingClientRect(),a=o.getBoundingClientRect(),l=s.left+s.width/2,c=s.top+s.height/2,m=window.getComputedStyle(o).transform;let f=1,p=0,C=0;if(m&&m!=="none"){const v=m.match(/matrix\(([^)]+)\)/);if(v){const y=v[1].split(",").map(g=>parseFloat(g.trim()));f=y[0],p=y[4],C=y[5]}}const x=(l-a.left-p)/f,h=(c-a.top-C)/f;return t.type==="KeyboardVisualizerBlock"&&console.log(`[${this.name}] DOM coordinate conversion:`,{screenCoords:{x:l,y:c},canvasRect:{left:a.left,top:a.top},transform:{scale:f,translateX:p,translateY:C},finalPosition:{x,y:h}}),{x,y:h}}return this.getSimplePortPosition(t,n)}static getContentElement(t){let n=t.querySelector(".block-content");if(!n&&this.contentSelector&&(n=t.querySelector(this.contentSelector)),!n){const r=['[class*="space-y-3"]','[class*="space-y-2"]',".space-y-2.mb-4",".space-y-3",".space-y-2"];for(const o of r)if(n=t.querySelector(o),n)break}return n}static getSimplePortPosition(t,n){var w;const r=this.calculateBlockWidth?this.calculateBlockWidth(t):this.width;this.height;const o=(w=t.ports)==null?void 0:w.find(b=>b.id===n),s=(o==null?void 0:o.type)==="output",l=t.ports.filter(b=>b.type===(o==null?void 0:o.type)).findIndex(b=>b.id===n),c=16,u=24,m=12,f=16;Math.max(this.portConfig.inputs.length,this.portConfig.outputs.length);let p=60;const C=document.querySelector(`[data-block-id="${t.id}"]`);if(C){const b=this.getContentElement(C);b&&(p=b.scrollHeight)}p===60&&(this.name==="FilterBlock"?p=112:this.name==="MixerBlock"?p=108:this.name==="KeyboardVisualizerBlock"?p=200:p=64);const x=c+u+m+p+f,h=24,v=x+l*h+11,y=8,g={x:s?r-c-y-1:c+y+1,y:v-5};return t.type==="KeyboardVisualizerBlock"&&console.log(`[${this.name}] Simple port position calculation:`,{blockId:t.id,portId:n,blockWidth:r,staticWidth:this.width,blockHeight:this.height,padding:c,headerHeight:u,headerMargin:m,actualContentHeight:p,contentMargin:f,portsStartY:x,portIndex:l,portSpacing:h,portCenterY:v,isOutput:s,portRadius:y,finalPosition:g,calculations:{x:s?`${r} - ${c} - ${y} - 1 = ${g.x}`:`${c} + ${y} + 1 = ${g.x}`,y:`${x} + ${l} * ${h} + 11 - 5 = ${g.y}`}}),g}static getDefaultConfig(){return{}}static calculateBlockHeight(t){const n=this.portConfig.inputs.length,r=this.portConfig.outputs.length,o=Math.max(n,r),s=16,a=24,l=12,c=16,u=o*24,m=16;let f=this.height-s-a-l-c-24-m;if(t)try{const C=document.querySelector(`[data-block-id="${t}"]`),x=C&&this.getContentElement(C);if(x){const h=x.getBoundingClientRect();f=Math.max(f,h.height)}}catch{}const p=s+a+l+f+c+u+m;return Math.max(this.height,p)}static createComponent(){const t=this;return function(r){const{block:o,onRemove:s,onMouseDown:a,onPortMouseDown:l,onPortMouseUp:c,onPortClick:u,connections:m=[],activePortIds:f=new Set,selectedPortForConnection:p,isSelected:C=!1,onResize:x}=r,[h,v]=d.useState(null),[y,g]=d.useState(t.calculateBlockHeight()),w=We.useRef(null),b=We.useRef(null),N=We.useRef(null),S=We.useRef(null);We.useEffect(()=>{S.current=Object.create(t.prototype);const k=F=>{S.current&&S.current.handleRoutedMidiMessage(F)};return Fi.registerInputHandler(o.id,k),()=>{Fi.unregisterInputHandler(o.id)}},[o.id]),We.useEffect(()=>{if(S.current){const k=S.current.constructor.name;Oe.instanceRegistries.has(k)||Oe.instanceRegistries.set(k,new Map);const F=Oe.instanceRegistries.get(k);if(!F.has(o.id))F.set(o.id,{isSelected:C});else{const Y=F.get(o.id);Y&&typeof Y=="object"&&(Y.isSelected=C)}}},[C,o.id]),We.useEffect(()=>{if(!(!b.current||!x))return N.current=new ResizeObserver(k=>{for(const F of k){const{width:Y,height:E}=F.contentRect;x({width:Y,height:E})}}),N.current.observe(b.current),()=>{N.current&&(N.current.disconnect(),N.current=null)}},[x]),We.useEffect(()=>{const k=()=>{if(w.current){const Y=Math.max(t.portConfig.inputs.length,t.portConfig.outputs.length),E=16,L=24,U=12,H=16,G=Y*24,oe=8,$=w.current.scrollHeight,ne=E+L+U+$+H+G+oe;g(Math.max(t.height,ne))}};k();const F=new ResizeObserver(k);return w.current&&F.observe(w.current),()=>F.disconnect()},[]);const P=o.ports.filter(k=>k.type==="input"),j=o.ports.filter(k=>k.type==="output"),D=We.useMemo(()=>[...P,...j].map(k=>k.id),[P.length,j.length,o.id]),M=i0(D),A=k=>{k.stopPropagation(),s(o.id)},T=k=>{const F=m.some(E=>E.fromPort===k||E.toPort===k),Y=f.has(k)||M[k]||!1;return{hasConnection:F,isActive:Y,isHovered:h===k,isSelected:p===k}},O=Object.create(t.prototype);O.blockId=o.id;const B=k=>{o.config={...o.config,...k},g(t.calculateBlockHeight(o.id))};return i.jsxs("div",{ref:b,className:`glass-block rounded-xl p-4 absolute block-hover cursor-move select-none ${C?"block-selected":""}`,style:{left:o.position.x,top:o.position.y,width:t.calculateBlockWidth?t.calculateBlockWidth(o):t.width,height:y},onMouseDown:a,"data-block-id":o.id,children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(s0,{name:t.icon,color:t.iconColor||t.color+"-400",className:"w-4 h-4"}),i.jsx("h3",{className:"text-sm font-medium text-gray-200",children:t.title})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[t.renderHeaderButtons&&t.renderHeaderButtons(o,B),i.jsx("button",{className:"text-gray-400 hover:text-gray-200 text-xs transition-colors p-2 -m-2 touch-manipulation",onClick:A,onTouchStart:k=>k.stopPropagation(),onTouchEnd:k=>k.stopPropagation(),style:{touchAction:"manipulation"},children:i.jsx(Od,{className:"w-3 h-3"})})]})]}),i.jsx("div",{ref:w,className:"space-y-2 mb-4",children:O.renderContent(o)}),i.jsxs("div",{className:"relative",style:{height:`${Math.max(P.length,j.length)*24}px`},children:[i.jsx("div",{className:"absolute left-0 top-0",children:P.map((k,F)=>{const Y=T(k.id),E=t.portConfig.inputs[F],L=F*24;return i.jsxs("div",{className:"absolute flex items-center",style:{top:`${L}px`,left:0},children:[i.jsx("div",{className:Hp(k,Y),onMouseDown:U=>{U.stopPropagation(),"ontouchstart"in window||navigator.maxTouchPoints>0||l(k.id,U)},onMouseUp:U=>{U.stopPropagation(),"ontouchstart"in window||navigator.maxTouchPoints>0||c(k.id,U)},onClick:U=>{console.log("Input port clicked:",k.id),U.preventDefault(),U.stopPropagation(),u&&u(k.id,U)},onMouseEnter:()=>v(k.id),onMouseLeave:()=>v(null),onTouchStart:U=>{U.stopPropagation(),l(k.id,U)},onTouchEnd:U=>{U.stopPropagation(),c(k.id,U)},"data-port-type":"input","data-port-id":k.id,style:{touchAction:"none"}}),i.jsx("span",{className:"ml-2 text-xs text-gray-400 select-none whitespace-nowrap overflow-hidden",style:{maxWidth:`${t.width/2-40}px`},children:(E==null?void 0:E.label)||k.id.split("-").pop()})]},k.id)})}),i.jsx("div",{className:"absolute right-0 top-0",children:j.map((k,F)=>{const Y=T(k.id),E=t.portConfig.outputs[F],L=F*24;return i.jsxs("div",{className:"absolute flex items-center justify-end",style:{top:`${L}px`,right:0},children:[i.jsx("span",{className:"mr-2 text-xs text-gray-400 select-none text-right whitespace-nowrap overflow-hidden",style:{maxWidth:`${t.width/2-40}px`},children:(E==null?void 0:E.label)||k.id.split("-").pop()}),i.jsx("div",{className:Hp(k,Y),onMouseDown:U=>{U.stopPropagation(),"ontouchstart"in window||navigator.maxTouchPoints>0||l(k.id,U)},onMouseUp:U=>{U.stopPropagation(),"ontouchstart"in window||navigator.maxTouchPoints>0||c(k.id,U)},onClick:U=>{console.log("Output port clicked:",k.id),U.preventDefault(),U.stopPropagation(),u&&u(k.id,U)},onMouseEnter:()=>v(k.id),onMouseLeave:()=>v(null),onTouchStart:U=>{U.stopPropagation(),l(k.id,U)},onTouchEnd:U=>{U.stopPropagation(),c(k.id,U)},"data-port-type":"output","data-port-id":k.id,style:{touchAction:"none"}})]},k.id)})})]})]})}}triggerUpdate(){var n;const t=this.constructor.getType();(n=Oe.observers.get(t))==null||n.forEach(r=>r({}))}useAutoUpdate(){const[,t]=We.useState({}),n=this.constructor.getType();We.useEffect(()=>(Oe.observers.has(n)||Oe.observers.set(n,new Set),Oe.observers.get(n).add(t),()=>{var r;(r=Oe.observers.get(n))==null||r.delete(t)}),[n,t])}};Oe.width=190,Oe.height=120,Oe.color="orange",Oe.isConfigModalOpen=!1,Oe.instanceRegistries=new Map,Oe.portActivityTimers=new Map,Oe.activePortUpdateHandlers=new Map,Oe.observers=new Map;let be=Oe;const a0=Object.freeze(Object.defineProperty({__proto__:null,BaseBlockClass:be},Symbol.toStringTag,{value:"Module"}));var eN="Label",l0=d.forwardRef((e,t)=>i.jsx(ge.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));l0.displayName=eN;var c0=l0;const tN=Dd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ve=d.forwardRef(({className:e,...t},n)=>i.jsx(c0,{ref:n,className:we(tN(),e),...t}));ve.displayName=c0.displayName;const rt=d.forwardRef(({className:e,type:t,...n},r)=>i.jsx("input",{type:t,className:we("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));rt.displayName="Input";var Hl="focusScope.autoFocusOnMount",Wl="focusScope.autoFocusOnUnmount",Gp={bubbles:!1,cancelable:!0},nN="FocusScope",Kd=d.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...a}=e,[l,c]=d.useState(null),u=Ut(o),m=Ut(s),f=d.useRef(null),p=Pe(t,h=>c(h)),C=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(r){let h=function(w){if(C.paused||!l)return;const b=w.target;l.contains(b)?f.current=b:rr(f.current,{select:!0})},v=function(w){if(C.paused||!l)return;const b=w.relatedTarget;b!==null&&(l.contains(b)||rr(f.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&rr(l)};document.addEventListener("focusin",h),document.addEventListener("focusout",v);const g=new MutationObserver(y);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",v),g.disconnect()}}},[r,l,C.paused]),d.useEffect(()=>{if(l){Qp.add(C);const h=document.activeElement;if(!l.contains(h)){const y=new CustomEvent(Hl,Gp);l.addEventListener(Hl,u),l.dispatchEvent(y),y.defaultPrevented||(rN(lN(u0(l)),{select:!0}),document.activeElement===h&&rr(l))}return()=>{l.removeEventListener(Hl,u),setTimeout(()=>{const y=new CustomEvent(Wl,Gp);l.addEventListener(Wl,m),l.dispatchEvent(y),y.defaultPrevented||rr(h??document.body,{select:!0}),l.removeEventListener(Wl,m),Qp.remove(C)},0)}}},[l,u,m,C]);const x=d.useCallback(h=>{if(!n&&!r||C.paused)return;const v=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,y=document.activeElement;if(v&&y){const g=h.currentTarget,[w,b]=oN(g);w&&b?!h.shiftKey&&y===b?(h.preventDefault(),n&&rr(w,{select:!0})):h.shiftKey&&y===w&&(h.preventDefault(),n&&rr(b,{select:!0})):y===g&&h.preventDefault()}},[n,r,C.paused]);return i.jsx(ge.div,{tabIndex:-1,...a,ref:p,onKeyDown:x})});Kd.displayName=nN;function rN(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(rr(r,{select:t}),document.activeElement!==n)return}function oN(e){const t=u0(e),n=Xp(t,e),r=Xp(t.reverse(),e);return[n,r]}function u0(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Xp(e,t){for(const n of e)if(!sN(n,{upTo:t}))return n}function sN(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function iN(e){return e instanceof HTMLInputElement&&"select"in e}function rr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&iN(e)&&t&&e.select()}}var Qp=aN();function aN(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=qp(e,t),e.unshift(t)},remove(t){var n;e=qp(e,t),(n=e[0])==null||n.resume()}}}function qp(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function lN(e){return e.filter(t=>t.tagName!=="A")}var Kl=0;function d0(){d.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Zp()),document.body.insertAdjacentElement("beforeend",e[1]??Zp()),Kl++,()=>{Kl===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Kl--}},[])}function Zp(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Cn=function(){return Cn=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Cn.apply(this,arguments)};function f0(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function cN(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var Ui="right-scroll-bar-position",Vi="width-before-scroll-bar",uN="with-scroll-bars-hidden",dN="--removed-body-scroll-bar-size";function Yl(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function fN(e,t){var n=d.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var pN=typeof window<"u"?d.useLayoutEffect:d.useEffect,Jp=new WeakMap;function mN(e,t){var n=fN(null,function(r){return e.forEach(function(o){return Yl(o,r)})});return pN(function(){var r=Jp.get(n);if(r){var o=new Set(r),s=new Set(e),a=n.current;o.forEach(function(l){s.has(l)||Yl(l,null)}),s.forEach(function(l){o.has(l)||Yl(l,a)})}Jp.set(n,e)},[e]),n}function hN(e){return e}function gN(e,t){t===void 0&&(t=hN);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var a=t(s,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(s),a=n}var c=function(){var m=a;a=[],m.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(m){a.push(m),u()},filter:function(m){return a=a.filter(m),n}}}};return o}function yN(e){e===void 0&&(e={});var t=gN(null);return t.options=Cn({async:!0,ssr:!1},e),t}var p0=function(e){var t=e.sideCar,n=f0(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return d.createElement(r,Cn({},n))};p0.isSideCarExport=!0;function xN(e,t){return e.useMedium(t),p0}var m0=yN(),Gl=function(){},el=d.forwardRef(function(e,t){var n=d.useRef(null),r=d.useState({onScrollCapture:Gl,onWheelCapture:Gl,onTouchMoveCapture:Gl}),o=r[0],s=r[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,m=e.enabled,f=e.shards,p=e.sideCar,C=e.noIsolation,x=e.inert,h=e.allowPinchZoom,v=e.as,y=v===void 0?"div":v,g=e.gapMode,w=f0(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=p,N=mN([n,t]),S=Cn(Cn({},w),o);return d.createElement(d.Fragment,null,m&&d.createElement(b,{sideCar:m0,removeScrollBar:u,shards:f,noIsolation:C,inert:x,setCallbacks:s,allowPinchZoom:!!h,lockRef:n,gapMode:g}),a?d.cloneElement(d.Children.only(l),Cn(Cn({},S),{ref:N})):d.createElement(y,Cn({},S,{className:c,ref:N}),l))});el.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};el.classNames={fullWidth:Vi,zeroRight:Ui};var vN=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function wN(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=vN();return t&&e.setAttribute("nonce",t),e}function CN(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function bN(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var SN=function(){var e=0,t=null;return{add:function(n){e==0&&(t=wN())&&(CN(t,n),bN(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},NN=function(){var e=SN();return function(t,n){d.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},h0=function(){var e=NN(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},PN={left:0,top:0,right:0,gap:0},Xl=function(e){return parseInt(e||"",10)||0},jN=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Xl(n),Xl(r),Xl(o)]},kN=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return PN;var t=jN(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},MN=h0(),ko="data-scroll-locked",EN=function(e,t,n,r){var o=e.left,s=e.top,a=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(uN,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(ko,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ui,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Vi,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Ui," .").concat(Ui,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Vi," .").concat(Vi,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ko,`] {
    `).concat(dN,": ").concat(l,`px;
  }
`)},em=function(){var e=parseInt(document.body.getAttribute(ko)||"0",10);return isFinite(e)?e:0},IN=function(){d.useEffect(function(){return document.body.setAttribute(ko,(em()+1).toString()),function(){var e=em()-1;e<=0?document.body.removeAttribute(ko):document.body.setAttribute(ko,e.toString())}},[])},DN=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;IN();var s=d.useMemo(function(){return kN(o)},[o]);return d.createElement(MN,{styles:EN(s,!t,o,n?"":"!important")})},su=!1;if(typeof window<"u")try{var wi=Object.defineProperty({},"passive",{get:function(){return su=!0,!0}});window.addEventListener("test",wi,wi),window.removeEventListener("test",wi,wi)}catch{su=!1}var no=su?{passive:!1}:!1,TN=function(e){return e.tagName==="TEXTAREA"},g0=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!TN(e)&&n[t]==="visible")},RN=function(e){return g0(e,"overflowY")},ON=function(e){return g0(e,"overflowX")},tm=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=y0(e,r);if(o){var s=x0(e,r),a=s[1],l=s[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},_N=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},AN=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},y0=function(e,t){return e==="v"?RN(t):ON(t)},x0=function(e,t){return e==="v"?_N(t):AN(t)},LN=function(e,t){return e==="h"&&t==="rtl"?-1:1},$N=function(e,t,n,r,o){var s=LN(e,window.getComputedStyle(t).direction),a=s*r,l=n.target,c=t.contains(l),u=!1,m=a>0,f=0,p=0;do{var C=x0(e,l),x=C[0],h=C[1],v=C[2],y=h-v-s*x;(x||y)&&y0(e,l)&&(f+=y,p+=x),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(m&&(Math.abs(f)<1||!o)||!m&&(Math.abs(p)<1||!o))&&(u=!0),u},Ci=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},nm=function(e){return[e.deltaX,e.deltaY]},rm=function(e){return e&&"current"in e?e.current:e},BN=function(e,t){return e[0]===t[0]&&e[1]===t[1]},zN=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},FN=0,ro=[];function UN(e){var t=d.useRef([]),n=d.useRef([0,0]),r=d.useRef(),o=d.useState(FN++)[0],s=d.useState(h0)[0],a=d.useRef(e);d.useEffect(function(){a.current=e},[e]),d.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var h=cN([e.lockRef.current],(e.shards||[]).map(rm),!0).filter(Boolean);return h.forEach(function(v){return v.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),h.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var l=d.useCallback(function(h,v){if("touches"in h&&h.touches.length===2||h.type==="wheel"&&h.ctrlKey)return!a.current.allowPinchZoom;var y=Ci(h),g=n.current,w="deltaX"in h?h.deltaX:g[0]-y[0],b="deltaY"in h?h.deltaY:g[1]-y[1],N,S=h.target,P=Math.abs(w)>Math.abs(b)?"h":"v";if("touches"in h&&P==="h"&&S.type==="range")return!1;var j=tm(P,S);if(!j)return!0;if(j?N=P:(N=P==="v"?"h":"v",j=tm(P,S)),!j)return!1;if(!r.current&&"changedTouches"in h&&(w||b)&&(r.current=N),!N)return!0;var D=r.current||N;return $N(D,v,h,D==="h"?w:b,!0)},[]),c=d.useCallback(function(h){var v=h;if(!(!ro.length||ro[ro.length-1]!==s)){var y="deltaY"in v?nm(v):Ci(v),g=t.current.filter(function(N){return N.name===v.type&&(N.target===v.target||v.target===N.shadowParent)&&BN(N.delta,y)})[0];if(g&&g.should){v.cancelable&&v.preventDefault();return}if(!g){var w=(a.current.shards||[]).map(rm).filter(Boolean).filter(function(N){return N.contains(v.target)}),b=w.length>0?l(v,w[0]):!a.current.noIsolation;b&&v.cancelable&&v.preventDefault()}}},[]),u=d.useCallback(function(h,v,y,g){var w={name:h,delta:v,target:y,should:g,shadowParent:VN(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(b){return b!==w})},1)},[]),m=d.useCallback(function(h){n.current=Ci(h),r.current=void 0},[]),f=d.useCallback(function(h){u(h.type,nm(h),h.target,l(h,e.lockRef.current))},[]),p=d.useCallback(function(h){u(h.type,Ci(h),h.target,l(h,e.lockRef.current))},[]);d.useEffect(function(){return ro.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,no),document.addEventListener("touchmove",c,no),document.addEventListener("touchstart",m,no),function(){ro=ro.filter(function(h){return h!==s}),document.removeEventListener("wheel",c,no),document.removeEventListener("touchmove",c,no),document.removeEventListener("touchstart",m,no)}},[]);var C=e.removeScrollBar,x=e.inert;return d.createElement(d.Fragment,null,x?d.createElement(s,{styles:zN(o)}):null,C?d.createElement(DN,{gapMode:e.gapMode}):null)}function VN(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const HN=xN(m0,UN);var Yd=d.forwardRef(function(e,t){return d.createElement(el,Cn({},e,{ref:t,sideCar:HN}))});Yd.classNames=el.classNames;var WN=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},oo=new WeakMap,bi=new WeakMap,Si={},Ql=0,v0=function(e){return e&&(e.host||v0(e.parentNode))},KN=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=v0(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},YN=function(e,t,n,r){var o=KN(t,Array.isArray(e)?e:[e]);Si[n]||(Si[n]=new WeakMap);var s=Si[n],a=[],l=new Set,c=new Set(o),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};o.forEach(u);var m=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))m(p);else try{var C=p.getAttribute(r),x=C!==null&&C!=="false",h=(oo.get(p)||0)+1,v=(s.get(p)||0)+1;oo.set(p,h),s.set(p,v),a.push(p),h===1&&x&&bi.set(p,!0),v===1&&p.setAttribute(n,"true"),x||p.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",p,y)}})};return m(t),l.clear(),Ql++,function(){a.forEach(function(f){var p=oo.get(f)-1,C=s.get(f)-1;oo.set(f,p),s.set(f,C),p||(bi.has(f)||f.removeAttribute(r),bi.delete(f)),C||f.removeAttribute(n)}),Ql--,Ql||(oo=new WeakMap,oo=new WeakMap,bi=new WeakMap,Si={})}},w0=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=WN(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),YN(r,o,n,"aria-hidden")):function(){return null}},Gd="Dialog",[C0,Zj]=qn(Gd),[GN,pn]=C0(Gd),b0=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:s,modal:a=!0}=e,l=d.useRef(null),c=d.useRef(null),[u=!1,m]=Wr({prop:r,defaultProp:o,onChange:s});return i.jsx(GN,{scope:t,triggerRef:l,contentRef:c,contentId:Po(),titleId:Po(),descriptionId:Po(),open:u,onOpenChange:m,onOpenToggle:d.useCallback(()=>m(f=>!f),[m]),modal:a,children:n})};b0.displayName=Gd;var S0="DialogTrigger",N0=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=pn(S0,n),s=Pe(t,o.triggerRef);return i.jsx(ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":qd(o.open),...r,ref:s,onClick:ce(e.onClick,o.onOpenToggle)})});N0.displayName=S0;var Xd="DialogPortal",[XN,P0]=C0(Xd,{forceMount:void 0}),j0=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,s=pn(Xd,t);return i.jsx(XN,{scope:t,forceMount:n,children:d.Children.map(r,a=>i.jsx(Zr,{present:n||s.open,children:i.jsx(Va,{asChild:!0,container:o,children:a})}))})};j0.displayName=Xd;var xa="DialogOverlay",k0=d.forwardRef((e,t)=>{const n=P0(xa,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=pn(xa,e.__scopeDialog);return s.modal?i.jsx(Zr,{present:r||s.open,children:i.jsx(qN,{...o,ref:t})}):null});k0.displayName=xa;var QN=Ao("DialogOverlay.RemoveScroll"),qN=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=pn(xa,n);return i.jsx(Yd,{as:QN,allowPinchZoom:!0,shards:[o.contentRef],children:i.jsx(ge.div,{"data-state":qd(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Yr="DialogContent",M0=d.forwardRef((e,t)=>{const n=P0(Yr,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=pn(Yr,e.__scopeDialog);return i.jsx(Zr,{present:r||s.open,children:s.modal?i.jsx(ZN,{...o,ref:t}):i.jsx(JN,{...o,ref:t})})});M0.displayName=Yr;var ZN=d.forwardRef((e,t)=>{const n=pn(Yr,e.__scopeDialog),r=d.useRef(null),o=Pe(t,n.contentRef,r);return d.useEffect(()=>{const s=r.current;if(s)return w0(s)},[]),i.jsx(E0,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ce(e.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ce(e.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&s.preventDefault()}),onFocusOutside:ce(e.onFocusOutside,s=>s.preventDefault())})}),JN=d.forwardRef((e,t)=>{const n=pn(Yr,e.__scopeDialog),r=d.useRef(!1),o=d.useRef(!1);return i.jsx(E0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const a=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),E0=d.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:s,...a}=e,l=pn(Yr,n),c=d.useRef(null),u=Pe(t,c);return d0(),i.jsxs(i.Fragment,{children:[i.jsx(Kd,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:s,children:i.jsx(Gs,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":qd(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(eP,{titleId:l.titleId}),i.jsx(nP,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Qd="DialogTitle",I0=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=pn(Qd,n);return i.jsx(ge.h2,{id:o.titleId,...r,ref:t})});I0.displayName=Qd;var D0="DialogDescription",T0=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=pn(D0,n);return i.jsx(ge.p,{id:o.descriptionId,...r,ref:t})});T0.displayName=D0;var R0="DialogClose",O0=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=pn(R0,n);return i.jsx(ge.button,{type:"button",...r,ref:t,onClick:ce(e.onClick,()=>o.onOpenChange(!1))})});O0.displayName=R0;function qd(e){return e?"open":"closed"}var _0="DialogTitleWarning",[Jj,A0]=MC(_0,{contentName:Yr,titleName:Qd,docsSlug:"dialog"}),eP=({titleId:e})=>{const t=A0(_0),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return d.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},tP="DialogDescriptionWarning",nP=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${A0(tP).contentName}}.`;return d.useEffect(()=>{var s;const o=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},rP=b0,oP=N0,sP=j0,L0=k0,$0=M0,B0=I0,z0=T0,iP=O0;const vt=rP,Kt=oP,aP=sP,F0=d.forwardRef(({className:e,...t},n)=>i.jsx(L0,{ref:n,className:we("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));F0.displayName=L0.displayName;const at=d.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(aP,{children:[i.jsx(F0,{}),i.jsxs($0,{ref:r,className:we("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,i.jsxs(iP,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(Od,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));at.displayName=$0.displayName;const lt=({className:e,...t})=>i.jsx("div",{className:we("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});lt.displayName="DialogHeader";const Zd=({className:e,...t})=>i.jsx("div",{className:we("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Zd.displayName="DialogFooter";const ct=d.forwardRef(({className:e,...t},n)=>i.jsx(B0,{ref:n,className:we("text-lg font-semibold leading-none tracking-tight",e),...t}));ct.displayName=B0.displayName;const qs=d.forwardRef(({className:e,...t},n)=>i.jsx(z0,{ref:n,className:we("text-sm text-muted-foreground",e),...t}));qs.displayName=z0.displayName;const Ze={0:{number:0,name:"Bank Select MSB",category:"System",aliases:["Bank Select","Bank MSB"]},1:{number:1,name:"Modulation Wheel",category:"Control",aliases:["Mod Wheel","Modulation","Mod"]},2:{number:2,name:"Breath Controller",category:"Control",aliases:["Breath","BC"]},3:{number:3,name:"CC 3 (Undefined)",category:"Undefined"},4:{number:4,name:"Foot Controller",category:"Control",aliases:["Foot Pedal","Foot"]},5:{number:5,name:"Portamento Time",category:"Control",aliases:["Portamento","Glide Time"]},6:{number:6,name:"Data Entry MSB",category:"System",aliases:["Data Entry","Data MSB"]},7:{number:7,name:"Volume",category:"Control",aliases:["Main Volume","Channel Volume"]},8:{number:8,name:"Balance",category:"Control"},9:{number:9,name:"CC 9 (Undefined)",category:"Undefined"},10:{number:10,name:"Pan",category:"Control",aliases:["Panning","Stereo Pan"]},11:{number:11,name:"Expression",category:"Control",aliases:["Expression Pedal"]},12:{number:12,name:"Effect Controller 1",category:"Effects",aliases:["Effect 1","FX 1"]},13:{number:13,name:"Effect Controller 2",category:"Effects",aliases:["Effect 2","FX 2"]},14:{number:14,name:"CC 14 (Undefined)",category:"Undefined"},15:{number:15,name:"CC 15 (Undefined)",category:"Undefined"},16:{number:16,name:"General Purpose 1",category:"Control",aliases:["GP 1","General 1"]},17:{number:17,name:"General Purpose 2",category:"Control",aliases:["GP 2","General 2"]},18:{number:18,name:"General Purpose 3",category:"Control",aliases:["GP 3","General 3"]},19:{number:19,name:"General Purpose 4",category:"Control",aliases:["GP 4","General 4"]},20:{number:20,name:"CC 20 (Undefined)",category:"Undefined"},21:{number:21,name:"CC 21 (Undefined)",category:"Undefined"},22:{number:22,name:"CC 22 (Undefined)",category:"Undefined"},23:{number:23,name:"CC 23 (Undefined)",category:"Undefined"},24:{number:24,name:"CC 24 (Undefined)",category:"Undefined"},25:{number:25,name:"CC 25 (Undefined)",category:"Undefined"},26:{number:26,name:"CC 26 (Undefined)",category:"Undefined"},27:{number:27,name:"CC 27 (Undefined)",category:"Undefined"},28:{number:28,name:"CC 28 (Undefined)",category:"Undefined"},29:{number:29,name:"CC 29 (Undefined)",category:"Undefined"},30:{number:30,name:"CC 30 (Undefined)",category:"Undefined"},31:{number:31,name:"CC 31 (Undefined)",category:"Undefined"},32:{number:32,name:"Bank Select LSB",category:"System",aliases:["Bank LSB"]},33:{number:33,name:"Modulation Wheel LSB",category:"Control",aliases:["Mod Wheel LSB","Modulation LSB"]},34:{number:34,name:"Breath Controller LSB",category:"Control",aliases:["Breath LSB"]},35:{number:35,name:"CC 35 (Undefined LSB)",category:"Undefined"},36:{number:36,name:"Foot Controller LSB",category:"Control",aliases:["Foot Pedal LSB"]},37:{number:37,name:"Portamento Time LSB",category:"Control",aliases:["Portamento LSB"]},38:{number:38,name:"Data Entry LSB",category:"System",aliases:["Data LSB"]},39:{number:39,name:"Volume LSB",category:"Control",aliases:["Main Volume LSB"]},40:{number:40,name:"Balance LSB",category:"Control"},41:{number:41,name:"CC 41 (Undefined LSB)",category:"Undefined"},42:{number:42,name:"Pan LSB",category:"Control",aliases:["Panning LSB"]},43:{number:43,name:"Expression LSB",category:"Control",aliases:["Expression Pedal LSB"]},44:{number:44,name:"Effect Controller 1 LSB",category:"Effects",aliases:["Effect 1 LSB"]},45:{number:45,name:"Effect Controller 2 LSB",category:"Effects",aliases:["Effect 2 LSB"]},46:{number:46,name:"CC 46 (Undefined LSB)",category:"Undefined"},47:{number:47,name:"CC 47 (Undefined LSB)",category:"Undefined"},48:{number:48,name:"General Purpose 1 LSB",category:"Control",aliases:["GP 1 LSB"]},49:{number:49,name:"General Purpose 2 LSB",category:"Control",aliases:["GP 2 LSB"]},50:{number:50,name:"General Purpose 3 LSB",category:"Control",aliases:["GP 3 LSB"]},51:{number:51,name:"General Purpose 4 LSB",category:"Control",aliases:["GP 4 LSB"]},52:{number:52,name:"CC 52 (Undefined LSB)",category:"Undefined"},53:{number:53,name:"CC 53 (Undefined LSB)",category:"Undefined"},54:{number:54,name:"CC 54 (Undefined LSB)",category:"Undefined"},55:{number:55,name:"CC 55 (Undefined LSB)",category:"Undefined"},56:{number:56,name:"CC 56 (Undefined LSB)",category:"Undefined"},57:{number:57,name:"CC 57 (Undefined LSB)",category:"Undefined"},58:{number:58,name:"CC 58 (Undefined LSB)",category:"Undefined"},59:{number:59,name:"CC 59 (Undefined LSB)",category:"Undefined"},60:{number:60,name:"CC 60 (Undefined LSB)",category:"Undefined"},61:{number:61,name:"CC 61 (Undefined LSB)",category:"Undefined"},62:{number:62,name:"CC 62 (Undefined LSB)",category:"Undefined"},63:{number:63,name:"CC 63 (Undefined LSB)",category:"Undefined"},64:{number:64,name:"Sustain Pedal",category:"Switch",aliases:["Sustain","Damper Pedal","Hold"]},65:{number:65,name:"Portamento On/Off",category:"Switch",aliases:["Portamento","Glide On/Off"]},66:{number:66,name:"Sostenuto Pedal",category:"Switch",aliases:["Sostenuto"]},67:{number:67,name:"Soft Pedal",category:"Switch",aliases:["Soft","Una Corda"]},68:{number:68,name:"Legato Pedal",category:"Switch",aliases:["Legato"]},69:{number:69,name:"Hold 2 Pedal",category:"Switch",aliases:["Hold 2","Freeze"]},70:{number:70,name:"Sound Variation",category:"Sound",aliases:["Sound Ctrl 1","Variation"]},71:{number:71,name:"Filter Resonance",category:"Sound",aliases:["Resonance","Timbre","Harmonic Content"]},72:{number:72,name:"Sound Release",category:"Sound",aliases:["Release Time","Sound Ctrl 3"]},73:{number:73,name:"Sound Attack",category:"Sound",aliases:["Attack Time","Sound Ctrl 4"]},74:{number:74,name:"Filter Cutoff",category:"Sound",aliases:["Cutoff","Brightness","Sound Ctrl 5"]},75:{number:75,name:"Sound Control 6",category:"Sound",aliases:["Sound Ctrl 6"]},76:{number:76,name:"Sound Control 7",category:"Sound",aliases:["Sound Ctrl 7"]},77:{number:77,name:"Sound Control 8",category:"Sound",aliases:["Sound Ctrl 8"]},78:{number:78,name:"Sound Control 9",category:"Sound",aliases:["Sound Ctrl 9"]},79:{number:79,name:"Sound Control 10",category:"Sound",aliases:["Sound Ctrl 10"]},80:{number:80,name:"General Purpose 5",category:"Control",aliases:["GP 5","General 5"]},81:{number:81,name:"General Purpose 6",category:"Control",aliases:["GP 6","General 6"]},82:{number:82,name:"General Purpose 7",category:"Control",aliases:["GP 7","General 7"]},83:{number:83,name:"General Purpose 8",category:"Control",aliases:["GP 8","General 8"]},84:{number:84,name:"Portamento Control",category:"Control",aliases:["Portamento Ctrl"]},85:{number:85,name:"CC 85 (Undefined)",category:"Undefined"},86:{number:86,name:"CC 86 (Undefined)",category:"Undefined"},87:{number:87,name:"CC 87 (Undefined)",category:"Undefined"},88:{number:88,name:"High Resolution Velocity Prefix",category:"System",aliases:["Velocity Prefix"]},89:{number:89,name:"CC 89 (Undefined)",category:"Undefined"},90:{number:90,name:"CC 90 (Undefined)",category:"Undefined"},91:{number:91,name:"Reverb Level",category:"Effects",aliases:["Reverb","Reverb Send"]},92:{number:92,name:"Tremolo Level",category:"Effects",aliases:["Tremolo","Tremolo Depth"]},93:{number:93,name:"Chorus Level",category:"Effects",aliases:["Chorus","Chorus Send"]},94:{number:94,name:"Celeste Level",category:"Effects",aliases:["Celeste","Detune"]},95:{number:95,name:"Phaser Level",category:"Effects",aliases:["Phaser","Phaser Depth"]},96:{number:96,name:"Data Button Increment",category:"System",aliases:["Data Inc","Data +1"]},97:{number:97,name:"Data Button Decrement",category:"System",aliases:["Data Dec","Data -1"]},98:{number:98,name:"Non-Registered Parameter LSB",category:"System",aliases:["NRPN LSB"]},99:{number:99,name:"Non-Registered Parameter MSB",category:"System",aliases:["NRPN MSB"]},100:{number:100,name:"Registered Parameter LSB",category:"System",aliases:["RPN LSB"]},101:{number:101,name:"Registered Parameter MSB",category:"System",aliases:["RPN MSB"]},102:{number:102,name:"CC 102 (Undefined)",category:"Undefined"},103:{number:103,name:"CC 103 (Undefined)",category:"Undefined"},104:{number:104,name:"CC 104 (Undefined)",category:"Undefined"},105:{number:105,name:"CC 105 (Undefined)",category:"Undefined"},106:{number:106,name:"CC 106 (Undefined)",category:"Undefined"},107:{number:107,name:"CC 107 (Undefined)",category:"Undefined"},108:{number:108,name:"CC 108 (Undefined)",category:"Undefined"},109:{number:109,name:"CC 109 (Undefined)",category:"Undefined"},110:{number:110,name:"CC 110 (Undefined)",category:"Undefined"},111:{number:111,name:"CC 111 (Undefined)",category:"Undefined"},112:{number:112,name:"CC 112 (Undefined)",category:"Undefined"},113:{number:113,name:"CC 113 (Undefined)",category:"Undefined"},114:{number:114,name:"CC 114 (Undefined)",category:"Undefined"},115:{number:115,name:"CC 115 (Undefined)",category:"Undefined"},116:{number:116,name:"CC 116 (Undefined)",category:"Undefined"},117:{number:117,name:"CC 117 (Undefined)",category:"Undefined"},118:{number:118,name:"CC 118 (Undefined)",category:"Undefined"},119:{number:119,name:"CC 119 (Undefined)",category:"Undefined"},120:{number:120,name:"All Sound Off",category:"Channel Mode",aliases:["Sound Off"]},121:{number:121,name:"All Controllers Off",category:"Channel Mode",aliases:["Reset Controllers"]},122:{number:122,name:"Local Keyboard",category:"Channel Mode",aliases:["Local Control"]},123:{number:123,name:"All Notes Off",category:"Channel Mode",aliases:["Notes Off"]},124:{number:124,name:"Omni Mode Off",category:"Channel Mode",aliases:["Omni Off"]},125:{number:125,name:"Omni Mode On",category:"Channel Mode",aliases:["Omni On"]},126:{number:126,name:"Mono Operation",category:"Channel Mode",aliases:["Mono Mode"]},127:{number:127,name:"Poly Operation",category:"Channel Mode",aliases:["Poly Mode"]}};function Gr(e){if(!e.trim())return Object.values(Ze);const t=e.toLowerCase().trim(),n=[];return Object.values(Ze).forEach(r=>{var s,a,l;let o=0;r.number.toString()===t?o=1e3:r.name.toLowerCase()===t?o=900:(s=r.aliases)!=null&&s.some(c=>c.toLowerCase()===t)?o=850:r.number.toString().startsWith(t)?o=800:r.name.toLowerCase().startsWith(t)?o=700:(a=r.aliases)!=null&&a.some(c=>c.toLowerCase().startsWith(t))?o=650:r.number.toString().includes(t)?o=600:r.name.toLowerCase().includes(t)?o=500:(l=r.aliases)!=null&&l.some(c=>c.toLowerCase().includes(t))&&(o=450),o>0&&n.push({cc:r,priority:o})}),n.sort((r,o)=>r.priority!==o.priority?o.priority-r.priority:r.cc.number-o.cc.number),n.map(r=>r.cc)}const In=class In extends be{static getDefaultConfig(){return{selectedCC:1}}static renderHeaderButtons(t,n){const[r,o]=d.useState(!1),[,s]=d.useState({}),[a,l]=d.useState(""),c=t.config.selectedCC??1,u=Ze[c]||{name:`CC ${c}`,category:"Custom"},m=Gr(a);return i.jsxs(vt,{open:r,onOpenChange:f=>{o(f),be.setConfigModalOpen(f)},children:[i.jsx(Kt,{asChild:!0,children:i.jsx("button",{className:"text-gray-400 hover:text-gray-200 text-xs transition-colors p-2 -m-2 touch-manipulation",onClick:f=>f.stopPropagation(),onTouchStart:f=>f.stopPropagation(),onTouchEnd:f=>f.stopPropagation(),style:{touchAction:"manipulation"},children:i.jsx(Wt,{className:"w-3 h-3"})})}),i.jsxs(at,{className:"glass-panel border border-white/20 backdrop-blur-xl bg-gray-700/60 max-w-lg",onInteractOutside:f=>f.preventDefault(),onMouseDown:f=>f.stopPropagation(),onMouseMove:f=>f.stopPropagation(),onMouseUp:f=>f.stopPropagation(),onTouchStart:f=>f.stopPropagation(),onTouchMove:f=>f.stopPropagation(),onTouchEnd:f=>f.stopPropagation(),children:[i.jsxs(lt,{children:[i.jsx(ct,{className:"text-gray-100",children:"CC Solo Configuration"}),i.jsx(qs,{className:"text-gray-400",children:"Select which CC number to allow through, blocking all others."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{children:[i.jsx(ve,{className:"text-sm text-gray-300 mb-2 block",children:"CC Number to Solo"}),i.jsxs("div",{className:"space-y-2 relative",children:[i.jsx(rt,{placeholder:"Search CC numbers...",value:a,onChange:f=>{l(f.target.value)},onKeyDown:f=>{f.stopPropagation(),f.key==="Escape"&&l("")},className:"bg-gray-800/50 border-white/20 backdrop-blur-sm text-sm"}),a&&m.length>0&&i.jsx("div",{className:"absolute top-full left-0 right-0 z-50 bg-gray-800 border border-white/20 rounded-md shadow-lg max-h-48 overflow-y-auto",children:m.map(f=>i.jsxs("div",{className:"px-3 py-2 hover:bg-gray-700 cursor-pointer text-xs flex items-center justify-between",onClick:()=>{t.config.selectedCC=f.number,n==null||n({selectedCC:f.number}),l(""),s({}),typeof window<"u"&&window.dispatchEvent(new CustomEvent("block-config-changed",{detail:{blockId:t.id,config:{selectedCC:f.number}}}))},children:[i.jsx("span",{className:"font-mono",children:f.number.toString().padStart(3,"0")}),i.jsx("span",{className:"ml-2",children:f.name})]},f.number))}),i.jsx("div",{className:"bg-gray-700/50 border border-white/10 rounded px-3 py-2 text-sm",children:i.jsxs("span",{className:"text-gray-300 font-medium",children:["CC ",c.toString().padStart(3,"0"),i.jsxs("span",{className:"ml-2 text-gray-400 text-xs",children:["(",u.name,")"]})]})})]})]}),i.jsx("div",{className:"flex justify-end pt-3 border-t border-white/10",children:i.jsx("button",{onClick:()=>o(!1),className:"px-4 py-1.5 text-sm bg-orange-500 hover:bg-orange-600 text-white rounded transition-colors font-medium",children:"OK"})})]})]})]})}renderContent(t,n){const[,r]=d.useState({}),o=this.useInstanceData({config:{}});o.config=t.config,d.useEffect(()=>{const l=c=>{var u;((u=c.detail)==null?void 0:u.blockId)===t.id&&r({})};return window.addEventListener("block-config-changed",l),()=>{window.removeEventListener("block-config-changed",l)}},[t.id]);const s=t.config.selectedCC??1,a=Ze[s]||{name:`CC ${s}`,category:"Custom"};return i.jsx("div",{className:"p-3 space-y-3",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs text-gray-400",children:"Soloing"}),i.jsxs("div",{className:"text-sm font-medium text-orange-400 truncate pb-1",children:["CC ",s.toString().padStart(3,"0")," - ",a.name]})]})})}processMidiMessage(t,n){var o;const r=this.useInstanceData({config:{}});if(t.data[0]>=176&&t.data[0]<=191){const s=t.data[1],a=((o=r.config)==null?void 0:o.selectedCC)??1;return s===a?{message:t,targetPorts:["midi_out"]}:null}return{message:t,targetPorts:["midi_out"]}}};In.title="CC Solo",In.icon="filter",In.description="Allow only a specific CC number to pass through, blocking all others",In.width=200,In.height=120,In.color="orange",In.portConfig={inputs:[{name:"midi_in",label:"MIDI In"}],outputs:[{name:"midi_out",label:"MIDI Out"}]};let iu=In;const U0=Object.freeze(Object.defineProperty({__proto__:null,CCSoloBlock:iu},Symbol.toStringTag,{value:"Module"}));class mn{static parseMidiMessage(t){if(t.length===0)throw new Error("Empty MIDI data");const n=t[0],r=n&15,o=n&240,s=Array.from(t.slice(1));let a="unknown";if(o>=128&&o<=239)switch(o){case 128:a="noteOff";break;case 144:a=s[1]===0?"noteOff":"noteOn";break;case 160:a="polyphonicKeyPressure";break;case 176:a="controlChange";break;case 192:a="programChange";break;case 208:a="channelPressure";break;case 224:a="pitchBend";break}else if(n>=240)switch(n){case 240:a="systemExclusive";break;case 241:a="midiTimeCodeQuarterFrame";break;case 242:a="songPositionPointer";break;case 243:a="songSelect";break;case 246:a="tuneRequest";break;case 247:a="endOfExclusive";break;case 248:a="timingClock";break;case 250:a="start";break;case 251:a="continue";break;case 252:a="stop";break;case 254:a="activeSensing";break;case 255:a="reset";break}return{type:a,channel:r,status:n,dataBytes:s}}static createMidiMessage(t,n,...r){let o;switch(t){case"noteOff":o=128;break;case"noteOn":o=144;break;case"polyphonicKeyPressure":o=160;break;case"controlChange":o=176;break;case"programChange":o=192;break;case"channelPressure":o=208;break;case"pitchBend":o=224;break;case"systemExclusive":o=240;break;case"midiTimeCodeQuarterFrame":o=241;break;case"songPositionPointer":o=242;break;case"songSelect":o=243;break;case"tuneRequest":o=246;break;case"endOfExclusive":o=247;break;case"timingClock":o=248;break;case"start":o=250;break;case"continue":o=251;break;case"stop":o=252;break;case"activeSensing":o=254;break;case"reset":o=255;break;default:throw new Error(`Unknown MIDI message type: ${t}`)}return o>=128&&o<=239&&(o|=n&15),new Uint8Array([o,...r])}static getNoteFromNumber(t){const n=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],r=Math.floor(t/12)-1;return`${n[t%12]}${r}`}static getNumberFromNote(t){const n={C:0,"C#":1,DB:1,D:2,"D#":3,EB:3,E:4,F:5,"F#":6,GB:6,G:7,"G#":8,AB:8,A:9,"A#":10,BB:10,B:11},r=t.match(/^([A-G][#B]?)(-?\d+)$/i);if(!r)throw new Error(`Invalid note name: ${t}`);const[,o,s]=r,a=parseInt(s),l=n[o.toUpperCase()];if(l===void 0)throw new Error(`Invalid note: ${o}`);return(a+1)*12+l}static pitchBendToSemitones(t,n,r=2){return((n<<7|t)-8192)/8192*r}static semitonesToPitchBend(t,n=2){const r=t/n*8192,o=Math.max(0,Math.min(16383,Math.round(r+8192)));return{lsb:o&127,msb:o>>7&127}}static isMessageType(t,n){try{return this.parseMidiMessage(t).type===n}catch{return!1}}static filterMessagesByType(t,n){return t.filter(r=>this.isMessageType(r.data,n))}}class V0{static format(t,n={}){const r=t.data[0],o=(r&15)+1,s=r&240;let a="Unknown",l="";if(r>=240){switch(r){case 248:a="Clock",l="";break;case 250:a="Start",l="";break;case 251:a="Continue",l="";break;case 252:a="Stop",l="";break;case 254:a="Active",l="";break;case 255:a="Reset",l="";break;default:a="System",l=`0x${r.toString(16).toUpperCase()}`}return n.format==="compact"?a:`${a}${l?` ${l}`:""}`}else{switch(s){case 144:if(t.data.length>=3){const u=t.data[1],m=t.data[2];m===0?(a="Note Off",l=`Note:${u} Vel:${m}`):(a="Note On",l=`Note:${u} Vel:${m}`)}break;case 128:t.data.length>=3&&(a="Note Off",l=`Note:${t.data[1]} Vel:${t.data[2]}`);break;case 176:t.data.length>=3&&(a="Control Change",l=`CC:${t.data[1]} Val:${t.data[2]}`);break;case 192:t.data.length>=2&&(a="Program Change",l=`Program:${t.data[1]}`);break;case 224:if(t.data.length>=3){const u=t.data[2]<<7|t.data[1];a="Pitch Bend",l=`Value:${u}`}break;case 160:t.data.length>=3&&(a="Aftertouch",l=`Note:${t.data[1]} Press:${t.data[2]}`);break;case 208:t.data.length>=2&&(a="Channel Pressure",l=`Val:${t.data[1]}`);break;default:a="Other",l=`Cmd:0x${s.toString(16).toUpperCase()}`}let c="";if(n.includeChannel!==!1&&(c+=`Ch${o}: `),c+=a,l&&(c+=` ${l}`),n.includeHex){const u=this.toHex(t);c+=` [${u}]`}return c}}static formatDetailed(t){const n=new Date().toLocaleTimeString(),r=t.data[0],o=(r&15)+1,s=r&240,a=this.toHex(t);let l="",c="",u="";if(r>=240)switch(u="--",r){case 248:l="Clock",c="";break;case 250:l="Start",c="";break;case 251:l="Continue",c="";break;case 252:l="Stop",c="";break;case 254:l="Active",c="";break;case 255:l="Reset",c="";break;default:l="System",c=`0x${r.toString(16).toUpperCase()}`}else switch(u=o.toString().padStart(2," "),s){case 144:if(t.data.length>=3){const h=t.data[1],v=t.data[2];v===0?(l="Note Off",c=`Note:${h} Vel:${v}`):(l="Note On",c=`Note:${h} Vel:${v}`)}break;case 128:t.data.length>=3&&(l="Note Off",c=`Note:${t.data[1]} Vel:${t.data[2]}`);break;case 176:t.data.length>=3&&(l="CC",c=`CC:${t.data[1]} Val:${t.data[2]}`);break;case 192:t.data.length>=2&&(l="Program",c=`Prog:${t.data[1]}`);break;case 224:if(t.data.length>=3){const h=t.data[2]<<7|t.data[1];l="Pitch",c=`Val:${h}`}break;case 160:t.data.length>=3&&(l="Aftertouch",c=`Note:${t.data[1]} Press:${t.data[2]}`);break;case 208:t.data.length>=2&&(l="Pressure",c=`Val:${t.data[1]}`);break;default:l="Unknown",c=`Cmd:0x${s.toString(16).toUpperCase()}`}const m=n.padEnd(12," "),f=u.padEnd(3," "),p=l.padEnd(12," "),C=c.padEnd(25," ");return{formatted:`${m} ${f} ${p} ${C} ${a}`,columns:{time:n,channel:u,type:l,data:c,raw:a}}}static toHex(t){return Array.from(t.data).map(n=>n.toString(16).toUpperCase().padStart(2,"0")).join(" ")}static getChannel(t){const n=t.data[0];return n>=240?0:(n&15)+1}static getMessageType(t){const n=t.data[0],r=n&240;if(n>=240)switch(n){case 248:return"Clock";case 250:return"Start";case 251:return"Continue";case 252:return"Stop";case 254:return"Active Sensing";case 255:return"Reset";default:return"System"}else switch(r){case 128:return"Note Off";case 144:return t.data[2]===0?"Note Off":"Note On";case 160:return"Aftertouch";case 176:return"Control Change";case 192:return"Program Change";case 208:return"Channel Pressure";case 224:return"Pitch Bend";default:return"Unknown"}}}function va(e,[t,n]){return Math.min(n,Math.max(t,e))}var lP=d.createContext(void 0);function H0(e){const t=d.useContext(lP);return e||t||"ltr"}function tl(e){const t=d.useRef({value:e,previous:e});return d.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var cP=[" ","Enter","ArrowUp","ArrowDown"],uP=[" ","Enter"],Zs="Select",[nl,rl,dP]=kd(Zs),[Wo,ek]=qn(Zs,[dP,qa]),ol=qa(),[fP,Er]=Wo(Zs),[pP,mP]=Wo(Zs),W0=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:s,value:a,defaultValue:l,onValueChange:c,dir:u,name:m,autoComplete:f,disabled:p,required:C,form:x}=e,h=ol(t),[v,y]=d.useState(null),[g,w]=d.useState(null),[b,N]=d.useState(!1),S=H0(u),[P=!1,j]=Wr({prop:r,defaultProp:o,onChange:s}),[D,M]=Wr({prop:a,defaultProp:l,onChange:c}),A=d.useRef(null),T=v?x||!!v.closest("form"):!0,[O,B]=d.useState(new Set),k=Array.from(O).map(F=>F.props.value).join(";");return i.jsx(w2,{...h,children:i.jsxs(fP,{required:C,scope:t,trigger:v,onTriggerChange:y,valueNode:g,onValueNodeChange:w,valueNodeHasChildren:b,onValueNodeHasChildrenChange:N,contentId:Po(),value:D,onValueChange:M,open:P,onOpenChange:j,dir:S,triggerPointerDownPosRef:A,disabled:p,children:[i.jsx(nl.Provider,{scope:t,children:i.jsx(pP,{scope:e.__scopeSelect,onNativeOptionAdd:d.useCallback(F=>{B(Y=>new Set(Y).add(F))},[]),onNativeOptionRemove:d.useCallback(F=>{B(Y=>{const E=new Set(Y);return E.delete(F),E})},[]),children:n})}),T?i.jsxs(gx,{"aria-hidden":!0,required:C,tabIndex:-1,name:m,autoComplete:f,value:D,onChange:F=>M(F.target.value),disabled:p,form:x,children:[D===void 0?i.jsx("option",{value:""}):null,Array.from(O)]},k):null]})})};W0.displayName=Zs;var K0="SelectTrigger",Y0=d.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,s=ol(n),a=Er(K0,n),l=a.disabled||r,c=Pe(t,a.onTriggerChange),u=rl(n),m=d.useRef("touch"),[f,p,C]=yx(h=>{const v=u().filter(w=>!w.disabled),y=v.find(w=>w.value===a.value),g=xx(v,h,y);g!==void 0&&a.onValueChange(g.value)}),x=h=>{l||(a.onOpenChange(!0),C()),h&&(a.triggerPointerDownPosRef.current={x:Math.round(h.pageX),y:Math.round(h.pageY)})};return i.jsx(Hy,{asChild:!0,...s,children:i.jsx(ge.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":hx(a.value)?"":void 0,...o,ref:c,onClick:ce(o.onClick,h=>{h.currentTarget.focus(),m.current!=="mouse"&&x(h)}),onPointerDown:ce(o.onPointerDown,h=>{m.current=h.pointerType;const v=h.target;v.hasPointerCapture(h.pointerId)&&v.releasePointerCapture(h.pointerId),h.button===0&&h.ctrlKey===!1&&h.pointerType==="mouse"&&(x(h),h.preventDefault())}),onKeyDown:ce(o.onKeyDown,h=>{const v=f.current!=="";!(h.ctrlKey||h.altKey||h.metaKey)&&h.key.length===1&&p(h.key),!(v&&h.key===" ")&&cP.includes(h.key)&&(x(),h.preventDefault())})})})});Y0.displayName=K0;var G0="SelectValue",X0=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:s,placeholder:a="",...l}=e,c=Er(G0,n),{onValueNodeHasChildrenChange:u}=c,m=s!==void 0,f=Pe(t,c.onValueNodeChange);return xt(()=>{u(m)},[u,m]),i.jsx(ge.span,{...l,ref:f,style:{pointerEvents:"none"},children:hx(c.value)?i.jsx(i.Fragment,{children:a}):s})});X0.displayName=G0;var hP="SelectIcon",Q0=d.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return i.jsx(ge.span,{"aria-hidden":!0,...o,ref:t,children:r||""})});Q0.displayName=hP;var gP="SelectPortal",q0=e=>i.jsx(Va,{asChild:!0,...e});q0.displayName=gP;var Xr="SelectContent",Z0=d.forwardRef((e,t)=>{const n=Er(Xr,e.__scopeSelect),[r,o]=d.useState();if(xt(()=>{o(new DocumentFragment)},[]),!n.open){const s=r;return s?un.createPortal(i.jsx(J0,{scope:e.__scopeSelect,children:i.jsx(nl.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),s):null}return i.jsx(ex,{...e,ref:t})});Z0.displayName=Xr;var en=10,[J0,Ir]=Wo(Xr),yP="SelectContentImpl",xP=Ao("SelectContent.RemoveScroll"),ex=d.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:s,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:m,arrowPadding:f,collisionBoundary:p,collisionPadding:C,sticky:x,hideWhenDetached:h,avoidCollisions:v,...y}=e,g=Er(Xr,n),[w,b]=d.useState(null),[N,S]=d.useState(null),P=Pe(t,X=>b(X)),[j,D]=d.useState(null),[M,A]=d.useState(null),T=rl(n),[O,B]=d.useState(!1),k=d.useRef(!1);d.useEffect(()=>{if(w)return w0(w)},[w]),d0();const F=d.useCallback(X=>{const[de,...z]=T().map(_=>_.ref.current),[I]=z.slice(-1),R=document.activeElement;for(const _ of X)if(_===R||(_==null||_.scrollIntoView({block:"nearest"}),_===de&&N&&(N.scrollTop=0),_===I&&N&&(N.scrollTop=N.scrollHeight),_==null||_.focus(),document.activeElement!==R))return},[T,N]),Y=d.useCallback(()=>F([j,w]),[F,j,w]);d.useEffect(()=>{O&&Y()},[O,Y]);const{onOpenChange:E,triggerPointerDownPosRef:L}=g;d.useEffect(()=>{if(w){let X={x:0,y:0};const de=I=>{var R,_;X={x:Math.abs(Math.round(I.pageX)-(((R=L.current)==null?void 0:R.x)??0)),y:Math.abs(Math.round(I.pageY)-(((_=L.current)==null?void 0:_.y)??0))}},z=I=>{X.x<=10&&X.y<=10?I.preventDefault():w.contains(I.target)||E(!1),document.removeEventListener("pointermove",de),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",z,{capture:!0})}}},[w,E,L]),d.useEffect(()=>{const X=()=>E(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[E]);const[U,H]=yx(X=>{const de=T().filter(R=>!R.disabled),z=de.find(R=>R.ref.current===document.activeElement),I=xx(de,X,z);I&&setTimeout(()=>I.ref.current.focus())}),G=d.useCallback((X,de,z)=>{const I=!k.current&&!z;(g.value!==void 0&&g.value===de||I)&&(D(X),I&&(k.current=!0))},[g.value]),oe=d.useCallback(()=>w==null?void 0:w.focus(),[w]),$=d.useCallback((X,de,z)=>{const I=!k.current&&!z;(g.value!==void 0&&g.value===de||I)&&A(X)},[g.value]),ne=r==="popper"?au:tx,ye=ne===au?{side:l,sideOffset:c,align:u,alignOffset:m,arrowPadding:f,collisionBoundary:p,collisionPadding:C,sticky:x,hideWhenDetached:h,avoidCollisions:v}:{};return i.jsx(J0,{scope:n,content:w,viewport:N,onViewportChange:S,itemRefCallback:G,selectedItem:j,onItemLeave:oe,itemTextRefCallback:$,focusSelectedItem:Y,selectedItemText:M,position:r,isPositioned:O,searchRef:U,children:i.jsx(Yd,{as:xP,allowPinchZoom:!0,children:i.jsx(Kd,{asChild:!0,trapped:g.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:ce(o,X=>{var de;(de=g.trigger)==null||de.focus({preventScroll:!0}),X.preventDefault()}),children:i.jsx(Gs,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:i.jsx(ne,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:X=>X.preventDefault(),...y,...ye,onPlaced:()=>B(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:ce(y.onKeyDown,X=>{const de=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!de&&X.key.length===1&&H(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let I=T().filter(R=>!R.disabled).map(R=>R.ref.current);if(["ArrowUp","End"].includes(X.key)&&(I=I.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const R=X.target,_=I.indexOf(R);I=I.slice(_+1)}setTimeout(()=>F(I)),X.preventDefault()}})})})})})})});ex.displayName=yP;var vP="SelectItemAlignedPosition",tx=d.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,s=Er(Xr,n),a=Ir(Xr,n),[l,c]=d.useState(null),[u,m]=d.useState(null),f=Pe(t,P=>m(P)),p=rl(n),C=d.useRef(!1),x=d.useRef(!0),{viewport:h,selectedItem:v,selectedItemText:y,focusSelectedItem:g}=a,w=d.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&h&&v&&y){const P=s.trigger.getBoundingClientRect(),j=u.getBoundingClientRect(),D=s.valueNode.getBoundingClientRect(),M=y.getBoundingClientRect();if(s.dir!=="rtl"){const R=M.left-j.left,_=D.left-R,V=P.left-_,q=P.width+V,se=Math.max(q,j.width),fe=window.innerWidth-en,ue=va(_,[en,Math.max(en,fe-se)]);l.style.minWidth=q+"px",l.style.left=ue+"px"}else{const R=j.right-M.right,_=window.innerWidth-D.right-R,V=window.innerWidth-P.right-_,q=P.width+V,se=Math.max(q,j.width),fe=window.innerWidth-en,ue=va(_,[en,Math.max(en,fe-se)]);l.style.minWidth=q+"px",l.style.right=ue+"px"}const A=p(),T=window.innerHeight-en*2,O=h.scrollHeight,B=window.getComputedStyle(u),k=parseInt(B.borderTopWidth,10),F=parseInt(B.paddingTop,10),Y=parseInt(B.borderBottomWidth,10),E=parseInt(B.paddingBottom,10),L=k+F+O+E+Y,U=Math.min(v.offsetHeight*5,L),H=window.getComputedStyle(h),G=parseInt(H.paddingTop,10),oe=parseInt(H.paddingBottom,10),$=P.top+P.height/2-en,ne=T-$,ye=v.offsetHeight/2,X=v.offsetTop+ye,de=k+F+X,z=L-de;if(de<=$){const R=A.length>0&&v===A[A.length-1].ref.current;l.style.bottom="0px";const _=u.clientHeight-h.offsetTop-h.offsetHeight,V=Math.max(ne,ye+(R?oe:0)+_+Y),q=de+V;l.style.height=q+"px"}else{const R=A.length>0&&v===A[0].ref.current;l.style.top="0px";const V=Math.max($,k+h.offsetTop+(R?G:0)+ye)+z;l.style.height=V+"px",h.scrollTop=de-$+h.offsetTop}l.style.margin=`${en}px 0`,l.style.minHeight=U+"px",l.style.maxHeight=T+"px",r==null||r(),requestAnimationFrame(()=>C.current=!0)}},[p,s.trigger,s.valueNode,l,u,h,v,y,s.dir,r]);xt(()=>w(),[w]);const[b,N]=d.useState();xt(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const S=d.useCallback(P=>{P&&x.current===!0&&(w(),g==null||g(),x.current=!1)},[w,g]);return i.jsx(CP,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:C,onScrollButtonChange:S,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:i.jsx(ge.div,{...o,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});tx.displayName=vP;var wP="SelectPopperPosition",au=d.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=en,...s}=e,a=ol(n);return i.jsx(Wy,{...a,...s,ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});au.displayName=wP;var[CP,Jd]=Wo(Xr,{}),lu="SelectViewport",nx=d.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...o}=e,s=Ir(lu,n),a=Jd(lu,n),l=Pe(t,s.onViewportChange),c=d.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(nl.Slot,{scope:n,children:i.jsx(ge.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:ce(o.onScroll,u=>{const m=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=a;if(p!=null&&p.current&&f){const C=Math.abs(c.current-m.scrollTop);if(C>0){const x=window.innerHeight-en*2,h=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),y=Math.max(h,v);if(y<x){const g=y+C,w=Math.min(x,g),b=g-w;f.style.height=w+"px",f.style.bottom==="0px"&&(m.scrollTop=b>0?b:0,f.style.justifyContent="flex-end")}}}c.current=m.scrollTop})})})]})});nx.displayName=lu;var rx="SelectGroup",[bP,SP]=Wo(rx),NP=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Po();return i.jsx(bP,{scope:n,id:o,children:i.jsx(ge.div,{role:"group","aria-labelledby":o,...r,ref:t})})});NP.displayName=rx;var ox="SelectLabel",sx=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=SP(ox,n);return i.jsx(ge.div,{id:o.id,...r,ref:t})});sx.displayName=ox;var wa="SelectItem",[PP,ix]=Wo(wa),ax=d.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:s,...a}=e,l=Er(wa,n),c=Ir(wa,n),u=l.value===r,[m,f]=d.useState(s??""),[p,C]=d.useState(!1),x=Pe(t,g=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,g,r,o)}),h=Po(),v=d.useRef("touch"),y=()=>{o||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(PP,{scope:n,value:r,disabled:o,textId:h,isSelected:u,onItemTextChange:d.useCallback(g=>{f(w=>w||((g==null?void 0:g.textContent)??"").trim())},[]),children:i.jsx(nl.ItemSlot,{scope:n,value:r,disabled:o,textValue:m,children:i.jsx(ge.div,{role:"option","aria-labelledby":h,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...a,ref:x,onFocus:ce(a.onFocus,()=>C(!0)),onBlur:ce(a.onBlur,()=>C(!1)),onClick:ce(a.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:ce(a.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:ce(a.onPointerDown,g=>{v.current=g.pointerType}),onPointerMove:ce(a.onPointerMove,g=>{var w;v.current=g.pointerType,o?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ce(a.onPointerLeave,g=>{var w;g.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:ce(a.onKeyDown,g=>{var b;((b=c.searchRef)==null?void 0:b.current)!==""&&g.key===" "||(uP.includes(g.key)&&y(),g.key===" "&&g.preventDefault())})})})})});ax.displayName=wa;var us="SelectItemText",lx=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...s}=e,a=Er(us,n),l=Ir(us,n),c=ix(us,n),u=mP(us,n),[m,f]=d.useState(null),p=Pe(t,y=>f(y),c.onItemTextChange,y=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,y,c.value,c.disabled)}),C=m==null?void 0:m.textContent,x=d.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:C},c.value),[c.disabled,c.value,C]),{onNativeOptionAdd:h,onNativeOptionRemove:v}=u;return xt(()=>(h(x),()=>v(x)),[h,v,x]),i.jsxs(i.Fragment,{children:[i.jsx(ge.span,{id:c.textId,...s,ref:p}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?un.createPortal(s.children,a.valueNode):null]})});lx.displayName=us;var cx="SelectItemIndicator",ux=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return ix(cx,n).isSelected?i.jsx(ge.span,{"aria-hidden":!0,...r,ref:t}):null});ux.displayName=cx;var cu="SelectScrollUpButton",dx=d.forwardRef((e,t)=>{const n=Ir(cu,e.__scopeSelect),r=Jd(cu,e.__scopeSelect),[o,s]=d.useState(!1),a=Pe(t,r.onScrollButtonChange);return xt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),o?i.jsx(px,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});dx.displayName=cu;var uu="SelectScrollDownButton",fx=d.forwardRef((e,t)=>{const n=Ir(uu,e.__scopeSelect),r=Jd(uu,e.__scopeSelect),[o,s]=d.useState(!1),a=Pe(t,r.onScrollButtonChange);return xt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,m=Math.ceil(c.scrollTop)<u;s(m)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),o?i.jsx(px,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});fx.displayName=uu;var px=d.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=e,s=Ir("SelectScrollButton",n),a=d.useRef(null),l=rl(n),c=d.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return d.useEffect(()=>()=>c(),[c]),xt(()=>{var m;const u=l().find(f=>f.ref.current===document.activeElement);(m=u==null?void 0:u.ref.current)==null||m.scrollIntoView({block:"nearest"})},[l]),i.jsx(ge.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:ce(o.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:ce(o.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:ce(o.onPointerLeave,()=>{c()})})}),jP="SelectSeparator",mx=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return i.jsx(ge.div,{"aria-hidden":!0,...r,ref:t})});mx.displayName=jP;var du="SelectArrow",kP=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=ol(n),s=Er(du,n),a=Ir(du,n);return s.open&&a.position==="popper"?i.jsx(Ky,{...o,...r,ref:t}):null});kP.displayName=du;function hx(e){return e===""||e===void 0}var gx=d.forwardRef((e,t)=>{const{value:n,...r}=e,o=d.useRef(null),s=Pe(t,o),a=tl(n);return d.useEffect(()=>{const l=o.current,c=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==n&&m){const f=new Event("change",{bubbles:!0});m.call(l,n),l.dispatchEvent(f)}},[a,n]),i.jsx(Xs,{asChild:!0,children:i.jsx("select",{...r,ref:s,defaultValue:n})})});gx.displayName="BubbleSelect";function yx(e){const t=Ut(e),n=d.useRef(""),r=d.useRef(0),o=d.useCallback(a=>{const l=n.current+a;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=d.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,s]}function xx(e,t,n){const o=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let a=MP(e,Math.max(s,0));o.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(o.toLowerCase()));return c!==n?c:void 0}function MP(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var EP=W0,vx=Y0,IP=X0,DP=Q0,TP=q0,wx=Z0,RP=nx,Cx=sx,bx=ax,OP=lx,_P=ux,Sx=dx,Nx=fx,Px=mx;const ht=EP,gt=IP,ot=d.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(vx,{ref:r,className:we("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,i.jsx(DP,{asChild:!0,children:i.jsx(Td,{className:"h-4 w-4 opacity-50"})})]}));ot.displayName=vx.displayName;const jx=d.forwardRef(({className:e,...t},n)=>i.jsx(Sx,{ref:n,className:we("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Cb,{className:"h-4 w-4"})}));jx.displayName=Sx.displayName;const kx=d.forwardRef(({className:e,...t},n)=>i.jsx(Nx,{ref:n,className:we("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Td,{className:"h-4 w-4"})}));kx.displayName=Nx.displayName;const st=d.forwardRef(({className:e,children:t,position:n="popper",...r},o)=>i.jsx(TP,{children:i.jsxs(wx,{ref:o,className:we("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[i.jsx(jx,{}),i.jsx(RP,{className:we("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(kx,{})]})}));st.displayName=wx.displayName;const AP=d.forwardRef(({className:e,...t},n)=>i.jsx(Cx,{ref:n,className:we("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));AP.displayName=Cx.displayName;const Le=d.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(bx,{ref:r,className:we("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(_P,{children:i.jsx(cy,{className:"h-4 w-4"})})}),i.jsx(OP,{children:t})]}));Le.displayName=bx.displayName;const LP=d.forwardRef(({className:e,...t},n)=>i.jsx(Px,{ref:n,className:we("-mx-1 my-1 h-px bg-muted",e),...t}));LP.displayName=Px.displayName;const Dn=class Dn extends be{static getDefaultConfig(){return{channel:-1,ccNumber:1}}static renderHeaderButtons(t,n){var f;const[r,o]=d.useState(!1),[,s]=d.useState({}),[a,l]=d.useState(""),c=t.config.channel??-1,u=t.config.ccNumber||1,m=Gr(a);return i.jsxs(vt,{open:r,onOpenChange:p=>{o(p),be.setConfigModalOpen(p)},children:[i.jsx(Kt,{asChild:!0,children:i.jsx("button",{className:"text-gray-400 hover:text-gray-200 text-xs transition-colors p-2 -m-2 touch-manipulation",onClick:p=>p.stopPropagation(),onTouchStart:p=>p.stopPropagation(),onTouchEnd:p=>p.stopPropagation(),style:{touchAction:"manipulation"},children:i.jsx(Wt,{className:"w-3 h-3"})})}),i.jsxs(at,{className:"glass-panel border border-white/20 backdrop-blur-xl bg-gray-700/60 max-w-md",onInteractOutside:p=>p.preventDefault(),onMouseDown:p=>p.stopPropagation(),onMouseMove:p=>p.stopPropagation(),onMouseUp:p=>p.stopPropagation(),onTouchStart:p=>p.stopPropagation(),onTouchMove:p=>p.stopPropagation(),onTouchEnd:p=>p.stopPropagation(),children:[i.jsxs(lt,{children:[i.jsx(ct,{className:"text-gray-100",children:"CC Visualizer Configuration"}),i.jsx(qs,{className:"text-gray-400",children:"Configure MIDI channel and CC number for visualization display."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{children:[i.jsx(ve,{className:"text-sm text-gray-300 mb-2 block",children:"MIDI Channel"}),i.jsxs(ht,{value:String(c),onValueChange:p=>{const C=p==="-1"?-1:parseInt(p);t.config.channel=C,n==null||n({channel:C}),s({})},children:[i.jsx(ot,{className:"bg-gray-800/50 border-white/20 backdrop-blur-sm",children:i.jsx(gt,{})}),i.jsxs(st,{children:[i.jsx(Le,{value:"-1",children:"Any Channel"}),Array.from({length:16},(p,C)=>C+1).map(p=>i.jsxs(Le,{value:String(p),children:["Channel ",p]},p))]})]})]}),i.jsxs("div",{children:[i.jsx(ve,{className:"text-sm text-gray-300 mb-2 block",children:"CC Number"}),i.jsxs("div",{className:"space-y-2 relative",children:[i.jsx(rt,{placeholder:"Search CC numbers...",value:a,onChange:p=>{l(p.target.value)},onKeyDown:p=>{p.stopPropagation(),p.key==="Escape"&&l("")},className:"bg-gray-800/50 border-white/20 backdrop-blur-sm text-sm"}),a&&m.length>0&&i.jsx("div",{className:"absolute top-full left-0 right-0 z-50 bg-gray-800 border border-white/20 rounded-md shadow-lg max-h-48 overflow-y-auto",children:m.map(p=>i.jsxs("div",{className:"px-3 py-2 hover:bg-gray-700 cursor-pointer text-xs flex items-center justify-between",onClick:()=>{t.config.ccNumber=p.number,n==null||n({ccNumber:p.number}),l(""),s({})},children:[i.jsx("span",{className:"font-mono",children:p.number.toString().padStart(3,"0")}),i.jsx("span",{className:"ml-2",children:p.name})]},p.number))}),i.jsx("div",{className:"bg-gray-700/50 border border-white/10 rounded px-3 py-2 text-sm",children:i.jsxs("span",{className:"text-gray-300 font-medium",children:["CC ",u.toString().padStart(3,"0"),i.jsxs("span",{className:"ml-2 text-gray-400 text-xs",children:["(",((f=Ze[u])==null?void 0:f.name)||"Unknown",")"]})]})})]})]}),i.jsx("div",{className:"flex justify-end pt-3 border-t border-white/10",children:i.jsx("button",{onClick:()=>o(!1),className:"px-4 py-1.5 text-sm bg-cyan-500 hover:bg-cyan-600 text-white rounded transition-colors font-medium",children:"OK"})})]})]})]})}processMidiMessage(t,n){var p,C;const r=this.useInstanceData({currentValue:0,lastUpdateTime:0,blockConfig:null}),o=mn.parseMidiMessage(t.data);if(o.type!=="controlChange"||o.dataBytes.length<2)return null;const s=(o.status&15)+1,a=o.dataBytes[0],l=o.dataBytes[1],c=((p=r.blockConfig)==null?void 0:p.channel)??-1,u=((C=r.blockConfig)==null?void 0:C.ccNumber)||1;return(c===-1||s===c)&&a===u&&(r.currentValue=l,r.lastUpdateTime=Date.now()),null}renderContent(t,n){var m;const r=this.useInstanceData({currentValue:0,lastUpdateTime:0,blockConfig:null});r.blockConfig=t.config;const o=t.config.channel??-1,s=t.config.ccNumber||1,a=((m=Ze[s])==null?void 0:m.name)||`CC ${s}`,l=r.currentValue/127*100,c=r.lastUpdateTime>0?(Date.now()-r.lastUpdateTime)/1e3:null,u=Array.from({length:20},(f,p)=>{const C=p/19*100,x=l>=C;let h="bg-teal-500";return C>75?h="bg-purple-500":C>50&&(h="bg-cyan-400"),{isActive:x,color:h,opacity:x?"opacity-100":"opacity-20"}});return i.jsxs("div",{className:"flex flex-col h-full",onMouseDown:f=>f.stopPropagation(),children:[i.jsxs("div",{className:"text-center mb-3",children:[i.jsx("div",{className:"text-xs text-gray-300 mb-1",children:a}),i.jsx("div",{className:"text-xs text-gray-400",children:o===-1?"Any Channel":`Channel ${o}`})]}),i.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[i.jsx("div",{className:"relative w-full h-8 bg-gray-800/30 rounded-sm border border-gray-600/50 mb-2",children:i.jsx("div",{className:"absolute inset-0 flex p-0.5 gap-0.5",children:u.map((f,p)=>i.jsx("div",{className:`flex-1 rounded-sm transition-all duration-100 ${f.color} ${f.opacity}`},p))})}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("div",{className:"text-lg font-mono text-cyan-300",children:r.currentValue}),i.jsx("div",{className:"text-xs text-gray-400",children:c!==null&&c<60?`${c.toFixed(1)}s ago`:r.lastUpdateTime>0?"Received data":"Waiting..."})]})]})]})}};Dn.title="CC Visualizer",Dn.icon="monitor",Dn.description="Display CC values as a horizontal level meter",Dn.width=280,Dn.height=120,Dn.color="cyan",Dn.portConfig={inputs:[{name:"midi_in",label:"MIDI In"}],outputs:[]};let fu=Dn;const Mx=Object.freeze(Object.defineProperty({__proto__:null,CCVisualizerBlock:fu},Symbol.toStringTag,{value:"Module"})),Tn=class Tn extends be{static getDefaultConfig(){return{ccNumber:1,channel:1,initialValue:64,throttleMs:10}}static renderHeaderButtons(t,n){var C;const[r,o]=d.useState(!1),[,s]=d.useState({}),[a,l]=d.useState(""),c=t.config.ccNumber||1,u=t.config.channel||1,m=t.config.initialValue||64,f=t.config.throttleMs||10,p=Gr(a);return i.jsxs(vt,{open:r,onOpenChange:x=>{o(x),be.setConfigModalOpen(x)},children:[i.jsx(Kt,{asChild:!0,children:i.jsx("button",{className:"text-gray-400 hover:text-gray-200 text-xs transition-colors p-2 -m-2 touch-manipulation",onClick:x=>x.stopPropagation(),onTouchStart:x=>x.stopPropagation(),onTouchEnd:x=>x.stopPropagation(),style:{touchAction:"manipulation"},children:i.jsx(Wt,{className:"w-3 h-3"})})}),i.jsxs(at,{className:"glass-panel border border-white/20 backdrop-blur-xl bg-gray-700/60 max-w-md",onInteractOutside:x=>x.preventDefault(),onMouseDown:x=>x.stopPropagation(),onMouseMove:x=>x.stopPropagation(),onMouseUp:x=>x.stopPropagation(),onTouchStart:x=>x.stopPropagation(),onTouchMove:x=>x.stopPropagation(),onTouchEnd:x=>x.stopPropagation(),children:[i.jsxs(lt,{children:[i.jsx(ct,{className:"text-gray-100",children:"CC Generator Configuration"}),i.jsx(qs,{className:"text-gray-400",children:"Configure MIDI channel, CC number, and generation parameters for this block."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{children:[i.jsx(ve,{className:"text-sm text-gray-300 mb-2 block",children:"MIDI Channel"}),i.jsxs(ht,{value:String(u),onValueChange:x=>{t.config.channel=parseInt(x),n==null||n({channel:parseInt(x)}),s({})},children:[i.jsx(ot,{className:"bg-gray-800/50 border-white/20 backdrop-blur-sm",children:i.jsx(gt,{})}),i.jsx(st,{children:Array.from({length:16},(x,h)=>h+1).map(x=>i.jsxs(Le,{value:String(x),children:["Channel ",x]},x))})]})]}),i.jsxs("div",{children:[i.jsx(ve,{className:"text-sm text-gray-300 mb-2 block",children:"Control Change Number"}),i.jsxs("div",{className:"space-y-2 relative",children:[i.jsx(rt,{placeholder:"Search CC numbers...",value:a,onChange:x=>{l(x.target.value)},onKeyDown:x=>{x.stopPropagation(),x.key==="Escape"&&l("")},className:"bg-gray-800/50 border-white/20 backdrop-blur-sm text-sm"}),a&&p.length>0&&i.jsx("div",{className:"absolute top-full left-0 right-0 z-50 bg-gray-800 border border-white/20 rounded-md shadow-lg max-h-48 overflow-y-auto",children:p.map(x=>i.jsxs("div",{className:"px-3 py-2 hover:bg-gray-700 cursor-pointer text-xs flex items-center justify-between",onClick:()=>{t.config.ccNumber=x.number,n==null||n({ccNumber:x.number}),l(""),s({})},children:[i.jsx("span",{className:"font-mono",children:x.number.toString().padStart(3,"0")}),i.jsx("span",{className:"ml-2",children:x.name})]},x.number))}),i.jsx("div",{className:"bg-gray-700/50 border border-white/10 rounded px-3 py-2 text-sm",children:i.jsxs("span",{className:"text-gray-300 font-medium",children:["CC ",c.toString().padStart(3,"0"),i.jsxs("span",{className:"ml-2 text-gray-400 text-xs",children:["(",((C=Ze[c])==null?void 0:C.name)||"Unknown",")"]})]})})]})]}),i.jsxs("div",{children:[i.jsx(ve,{className:"text-sm text-gray-300 mb-2 block",children:"Initial Value (0-127)"}),i.jsx(rt,{type:"number",min:"0",max:"127",value:m,onChange:x=>{const h=Math.max(0,Math.min(127,parseInt(x.target.value)||0));t.config.initialValue=h,n==null||n({initialValue:h}),s({})},className:"bg-gray-800/50 border-white/20 backdrop-blur-sm"})]}),i.jsxs("div",{children:[i.jsx(ve,{className:"text-sm text-gray-300 mb-2 block",children:"Rate Limit (1-100ms)"}),i.jsx(rt,{type:"number",min:"1",max:"100",value:f,onChange:x=>{const h=Math.max(1,Math.min(100,parseInt(x.target.value)||10));t.config.throttleMs=h,n==null||n({throttleMs:h}),s({})},className:"bg-gray-800/50 border-white/20 backdrop-blur-sm"}),i.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Max ",Math.round(1e3/f)," messages/second"]})]}),i.jsx("div",{className:"flex justify-end pt-3 border-t border-white/10",children:i.jsx("button",{onClick:()=>o(!1),className:"px-4 py-1.5 text-sm bg-emerald-500 hover:bg-emerald-600 text-white rounded transition-colors font-medium",children:"OK"})})]})]})]})}processMidiMessage(t,n){return null}renderContent(t,n){var C;const r=this.useInstanceData({currentValue:t.config.initialValue||64,lastSentValue:-1,lastSendTime:0}),o=d.useRef(null),s=t.config.ccNumber||1,a=t.config.channel||1,l=t.config.throttleMs||10,c=t.config.initialValue||64,u=((C=Ze[s])==null?void 0:C.name)||`CC ${s}`,m=d.useCallback(x=>{const h=Date.now();if(h-r.lastSendTime<l||x===r.lastSentValue)return;const v=`${t.id}-midi_out`,y=new Uint8Array([176|a-1,s,x]);this.emitMidiMessage(t.id,v,{data:y,timestamp:h}),r.lastSentValue=x,r.lastSendTime=h},[t.id,s,a,l,r]),f=d.useCallback(x=>{const h=parseInt(x.target.value);r.currentValue=h,m(h)},[r,m]),p=d.useCallback(x=>{x.stopPropagation(),r.currentValue=c,o.current&&(o.current.value=String(c)),m(c)},[r,c,m]);return i.jsxs("div",{className:"space-y-3",onMouseDown:x=>x.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-xs text-gray-300",children:[i.jsx("div",{className:"font-semibold",children:u}),i.jsxs("div",{className:"text-gray-400",children:["Ch ",a]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"text-sm font-mono text-gray-200 bg-gray-800/50 px-2 py-1 rounded",children:r.currentValue}),i.jsx("button",{onClick:p,className:"text-gray-400 hover:text-gray-200 p-1 transition-colors",title:"Reset to initial value",children:i.jsx(Eb,{className:"w-3 h-3"})})]})]}),i.jsxs("div",{className:"px-1",children:[i.jsx("input",{ref:o,type:"range",min:"0",max:"127",value:r.currentValue,onChange:f,className:"w-full h-2 rounded-lg appearance-none cursor-pointer slider-emerald",style:{background:r.currentValue===0?"#374151":`linear-gradient(to right, #10b981 0%, #10b981 ${r.currentValue/127*100}%, #374151 ${r.currentValue/127*100}%, #374151 100%)`},onMouseDown:x=>x.stopPropagation(),onMouseMove:x=>x.stopPropagation(),onMouseUp:x=>x.stopPropagation()}),i.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[i.jsx("span",{children:"0"}),i.jsx("span",{children:"64"}),i.jsx("span",{children:"127"})]})]})]})}};Tn.title="CC Generator",Tn.icon="mixer",Tn.description="Generate MIDI Control Change messages with configurable CC number and channel",Tn.width=280,Tn.height=160,Tn.color="emerald",Tn.portConfig={inputs:[],outputs:[{name:"midi_out",label:"MIDI Out"}]};let pu=Tn;const Ex=Object.freeze(Object.defineProperty({__proto__:null,ControlChangeGeneratorBlock:pu},Symbol.toStringTag,{value:"Module"}));function Ca({value:e,onValueChange:t,min:n,max:r,step:o=1,className:s,disabled:a=!1}){const l=d.useRef(null),[c,u]=d.useState(null),[m,f]=d.useState(0),[p,C]=d.useState(e),x=d.useRef(e);d.useEffect(()=>{const[P,j]=e,[D,M]=x.current,A=[60,64,63],T=A.includes(P)&&D<=30,O=A.includes(j)&&M>=90,B=P>40&&D<=20,k=j<80&&M>=100;T||O||B||k||P<n||P>r||j<n||j>r||P>j?(C(x.current),t(x.current)):(C(e),x.current=e)},[e,n,r,t]);const[h,v]=p,y=d.useCallback(P=>{if(!l.current)return n;const j=l.current.getBoundingClientRect();let D=(P-j.left)/j.width;D<=.005&&(D=0),D>=.995&&(D=1),D=Math.max(0,Math.min(1,D));const M=n+D*(r-n);let A=Math.round(M/o)*o;return D===0&&(A=n),D===1&&(A=r),A>=r-.5&&(A=r),A<=n+.5&&(A=n),Math.max(n,Math.min(r,A))},[n,r,o]),g=d.useCallback((P,j)=>{var T;if(a)return;j.preventDefault(),u(P);const D=P==="min"?h:v,M=y(j.clientX),A=D-M;f(A),(T=l.current)==null||T.getBoundingClientRect()},[a,h,v,y]),w=d.useCallback(P=>{if(!c||!l.current)return;P.preventDefault(),l.current.getBoundingClientRect();let j=h,D=v;if(c==="min"){const T=y(P.clientX)+m,O=Math.max(n,Math.min(r,T));(O===60||O===64)&&h<=30?j=h:j=Math.min(O,v)}else if(c==="max"){const T=y(P.clientX)+m,O=Math.max(n,Math.min(r,T));(O===60||O===64)&&v>=90?D=v:D=Math.max(O,h)}j===60&&h<30&&(j=h),D===60&&v>90&&(D=v);const M=[j,D];C(M),x.current=M;const A=[M[0]===60&&h<30?h:M[0],M[1]===60&&v>90?v:M[1]];t(A)},[c,m,y,n,r,h,v,t]),b=d.useCallback(()=>{u(null),f(0)},[c]);d.useEffect(()=>{if(c)return document.addEventListener("mousemove",w),document.addEventListener("mouseup",b),()=>{document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",b)}},[c,w,b]);const N=(h-n)/(r-n)*100,S=(v-n)/(r-n)*100;return i.jsxs("div",{className:we("relative flex w-full touch-none select-none items-center",s),children:[i.jsx("div",{ref:l,className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary cursor-pointer",onClick:P=>{P.preventDefault(),P.stopPropagation()},children:i.jsx("div",{className:"absolute h-full bg-primary",style:{left:`${N}%`,width:`${S-N}%`}})}),i.jsx("div",{className:we("absolute block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a?"opacity-50 cursor-not-allowed":"cursor-pointer hover:scale-110",c==="min"&&"scale-110 ring-2 ring-ring ring-offset-2"),style:{left:`calc(${N}% - 10px)`},onMouseDown:P=>g("min",P),tabIndex:a?-1:0,role:"slider","aria-valuemin":n,"aria-valuemax":v,"aria-valuenow":h,"aria-label":"Minimum value",onKeyDown:P=>{if(a)return;let j=h;if(P.key==="ArrowLeft"||P.key==="ArrowDown")j=Math.max(n,h-o);else if(P.key==="ArrowRight"||P.key==="ArrowUp")j=Math.min(v,h+o);else if(P.key==="Home")j=n;else if(P.key==="End")j=v;else return;P.preventDefault(),t([j,v])}}),i.jsx("div",{className:we("absolute block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a?"opacity-50 cursor-not-allowed":"cursor-pointer hover:scale-110",c==="max"&&"scale-110 ring-2 ring-ring ring-offset-2"),style:{left:`calc(${S}% - 10px)`},onMouseDown:P=>g("max",P),tabIndex:a?-1:0,role:"slider","aria-valuemin":h,"aria-valuemax":r,"aria-valuenow":v,"aria-label":"Maximum value",onKeyDown:P=>{if(a)return;let j=v;if(P.key==="ArrowLeft"||P.key==="ArrowDown")j=Math.max(h,v-o);else if(P.key==="ArrowRight"||P.key==="ArrowUp")j=Math.min(r,v+o);else if(P.key==="Home")j=h;else if(P.key==="End")j=r;else return;P.preventDefault(),t([h,j])}})]})}const Rn=class Rn extends be{static getDefaultConfig(){return{inputChannel:-1,inputCC:1,outputChannel:-2,outputCC:1,inputMin:0,inputMax:127,outputMin:0,outputMax:127}}static renderHeaderButtons(t,n){var v,y;const[r,o]=d.useState(!1),[,s]=d.useState({}),[a,l]=d.useState(""),[c,u]=d.useState(""),m=t.config.inputChannel??-1,f=t.config.inputCC||1,p=t.config.outputChannel||1,C=t.config.outputCC||1;t.config.scale,t.config.offset;const x=Gr(a),h=Gr(c);return i.jsxs(vt,{open:r,onOpenChange:g=>{o(g),be.setConfigModalOpen(g)},children:[i.jsx(Kt,{asChild:!0,children:i.jsx("button",{className:"text-gray-400 hover:text-gray-200 text-xs transition-colors p-2 -m-2 touch-manipulation",onClick:g=>g.stopPropagation(),onTouchStart:g=>g.stopPropagation(),onTouchEnd:g=>g.stopPropagation(),style:{touchAction:"manipulation"},children:i.jsx(Wt,{className:"w-3 h-3"})})}),i.jsxs(at,{className:"glass-panel border border-white/20 backdrop-blur-xl bg-gray-700/60 max-w-lg",onInteractOutside:g=>g.preventDefault(),onMouseDown:g=>g.stopPropagation(),onMouseMove:g=>g.stopPropagation(),onMouseUp:g=>g.stopPropagation(),onTouchStart:g=>g.stopPropagation(),onTouchMove:g=>g.stopPropagation(),onTouchEnd:g=>g.stopPropagation(),children:[i.jsxs(lt,{children:[i.jsx(ct,{className:"text-gray-100",children:"CC Tool Configuration"}),i.jsx(qs,{className:"text-gray-400",children:"Configure input/output channels, CC numbers, and transformation parameters for this block."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ve,{className:"text-sm text-gray-300 mb-2 block",children:"Input Channel"}),i.jsxs(ht,{value:String(m),onValueChange:g=>{const w=g==="-1"?-1:parseInt(g);t.config.inputChannel=w,n==null||n({inputChannel:w}),s({})},children:[i.jsx(ot,{className:"bg-gray-800/50 border-white/20 backdrop-blur-sm",children:i.jsx(gt,{})}),i.jsxs(st,{children:[i.jsx(Le,{value:"-1",children:"Any Channel"}),Array.from({length:16},(g,w)=>w+1).map(g=>i.jsxs(Le,{value:String(g),children:["Channel ",g]},g))]})]})]}),i.jsxs("div",{children:[i.jsx(ve,{className:"text-sm text-gray-300 mb-2 block",children:"Output Channel"}),i.jsxs(ht,{value:String(p),onValueChange:g=>{const w=g==="-2"?-2:parseInt(g);t.config.outputChannel=w,n==null||n({outputChannel:w}),s({})},children:[i.jsx(ot,{className:"bg-gray-800/50 border-white/20 backdrop-blur-sm",children:i.jsx(gt,{})}),i.jsxs(st,{children:[i.jsx(Le,{value:"-2",children:"Same Channel"}),Array.from({length:16},(g,w)=>w+1).map(g=>i.jsxs(Le,{value:String(g),children:["Channel ",g]},g))]})]})]})]}),i.jsxs("div",{children:[i.jsx(ve,{className:"text-sm text-gray-300 mb-2 block",children:"Input CC Number"}),i.jsxs("div",{className:"space-y-2 relative",children:[i.jsx(rt,{placeholder:"Search input CC numbers...",value:a,onChange:g=>{l(g.target.value)},onKeyDown:g=>{g.stopPropagation(),g.key==="Escape"&&l("")},className:"bg-gray-800/50 border-white/20 backdrop-blur-sm text-sm"}),a&&x.length>0&&i.jsx("div",{className:"absolute top-full left-0 right-0 z-50 bg-gray-800 border border-white/20 rounded-md shadow-lg max-h-48 overflow-y-auto",children:x.map(g=>i.jsxs("div",{className:"px-3 py-2 hover:bg-gray-700 cursor-pointer text-xs flex items-center justify-between",onClick:()=>{t.config.inputCC=g.number,n==null||n({inputCC:g.number}),l(""),s({})},children:[i.jsx("span",{className:"font-mono",children:g.number.toString().padStart(3,"0")}),i.jsx("span",{className:"ml-2",children:g.name})]},g.number))}),i.jsx("div",{className:"bg-gray-700/50 border border-white/10 rounded px-3 py-2 text-sm",children:i.jsxs("span",{className:"text-gray-300 font-medium",children:["CC ",f.toString().padStart(3,"0"),i.jsxs("span",{className:"ml-2 text-gray-400 text-xs",children:["(",((v=Ze[f])==null?void 0:v.name)||"Unknown",")"]})]})})]})]}),i.jsxs("div",{children:[i.jsx(ve,{className:"text-sm text-gray-300 mb-2 block",children:"Output CC Number"}),i.jsxs("div",{className:"space-y-2 relative",children:[i.jsx(rt,{placeholder:"Search output CC numbers...",value:c,onChange:g=>{u(g.target.value)},onKeyDown:g=>{g.stopPropagation(),g.key==="Escape"&&u("")},className:"bg-gray-800/50 border-white/20 backdrop-blur-sm text-sm"}),c&&h.length>0&&i.jsx("div",{className:"absolute top-full left-0 right-0 z-50 bg-gray-800 border border-white/20 rounded-md shadow-lg max-h-48 overflow-y-auto",children:h.map(g=>i.jsxs("div",{className:"px-3 py-2 hover:bg-gray-700 cursor-pointer text-xs flex items-center justify-between",onClick:()=>{t.config.outputCC=g.number,n==null||n({outputCC:g.number}),u(""),s({})},children:[i.jsx("span",{className:"font-mono",children:g.number.toString().padStart(3,"0")}),i.jsx("span",{className:"ml-2",children:g.name})]},g.number))}),i.jsx("div",{className:"bg-gray-700/50 border border-white/10 rounded px-3 py-2 text-sm",children:i.jsxs("span",{className:"text-gray-300 font-medium",children:["CC ",C.toString().padStart(3,"0"),i.jsxs("span",{className:"ml-2 text-gray-400 text-xs",children:["(",((y=Ze[C])==null?void 0:y.name)||"Unknown",")"]})]})})]})]}),i.jsx("div",{className:"flex justify-end pt-3 border-t border-white/10",children:i.jsx("button",{onClick:()=>o(!1),className:"px-4 py-1.5 text-sm bg-purple-500 hover:bg-purple-600 text-white rounded transition-colors font-medium",children:"OK"})})]})]})]})}processMidiMessage(t,n){var D,M,A,T,O,B,k,F;const r=this.useInstanceData({lastInputValue:-1,lastOutputValue:-1,lastProcessTime:0,messageCount:0,blockConfig:null}),o=mn.parseMidiMessage(t.data);if(o.type!=="controlChange"||o.dataBytes.length<2)return null;const s=(o.status&15)+1,a=o.dataBytes[0],l=o.dataBytes[1],c=((D=r.blockConfig)==null?void 0:D.inputChannel)??-1,u=((M=r.blockConfig)==null?void 0:M.inputCC)||1,m=((A=r.blockConfig)==null?void 0:A.outputChannel)||1,f=((T=r.blockConfig)==null?void 0:T.outputCC)||1,p=((O=r.blockConfig)==null?void 0:O.inputMin)??0,C=((B=r.blockConfig)==null?void 0:B.inputMax)??127,x=((k=r.blockConfig)==null?void 0:k.outputMin)??0,h=((F=r.blockConfig)==null?void 0:F.outputMax)??127;if(!(c===-1||s===c)||!(a===u)||l<p||l>C)return null;const g=C-p,w=h-x,b=(l-p)/g,N=x+b*w,S=Math.max(0,Math.min(127,Math.round(N)));r.lastInputValue=l,r.lastOutputValue=S,r.lastProcessTime=Date.now(),r.messageCount++;const P=m===-2?s:m;return{message:{data:new Uint8Array([176|P-1,f,S]),timestamp:t.timestamp},targetPorts:["midi_out"]}}renderContent(t,n){var g,w;const r=this.useInstanceData({lastInputValue:-1,lastOutputValue:-1,lastProcessTime:0,messageCount:0,blockConfig:null}),[,o]=d.useState({});r.blockConfig=t.config;const s=t.config.inputChannel??-1,a=t.config.inputCC||1,l=t.config.outputChannel||1,c=t.config.outputCC||1,u=t.config.inputMin??0,m=t.config.inputMax??127,f=t.config.outputMin??0,p=t.config.outputMax??127,C=((g=Ze[a])==null?void 0:g.name)||`CC ${a}`,x=((w=Ze[c])==null?void 0:w.name)||`CC ${c}`,h=r.lastProcessTime>0?(Date.now()-r.lastProcessTime)/1e3:null,v=r.lastInputValue>=0?r.lastInputValue:Math.floor((u+m)/2);let y;if(v>=u&&v<=m){const b=m-u,N=p-f,S=(v-u)/b,P=f+S*N;y=Math.max(0,Math.min(127,Math.round(P)))}else y=-1;return i.jsxs("div",{className:"space-y-2 h-full flex flex-col",onMouseDown:b=>b.stopPropagation(),children:[i.jsx("div",{className:"text-center",children:i.jsxs("div",{className:"text-xs text-gray-300 mb-1",children:[C," ",s===-1?"(Any Ch)":`Ch${s}`,"  ",x," ",l===-2?"(Same Channel)":`Ch${l}`]})}),i.jsxs("div",{className:"bg-gray-800/20 rounded p-2",children:[i.jsxs("div",{className:"text-xs text-gray-300 mb-1",children:["Input Range: ",u," - ",m]}),i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs text-gray-400",children:"Min"}),i.jsx("div",{className:"text-sm font-mono text-purple-300 font-semibold",children:u})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs text-gray-400",children:"Max"}),i.jsx("div",{className:"text-sm font-mono text-purple-300 font-semibold",children:m})]})]}),i.jsx("div",{className:"px-2",children:i.jsx(Ca,{value:[u,m],onValueChange:b=>{const[N,S]=b;t.config.inputMin=N,t.config.inputMax=S,o({})},min:0,max:127,step:1,className:"w-full"})})]}),i.jsxs("div",{className:"bg-gray-800/20 rounded p-2",children:[i.jsxs("div",{className:"text-xs text-gray-300 mb-1",children:["Output Range: ",f," - ",p]}),i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs text-gray-400",children:"Min"}),i.jsx("div",{className:"text-sm font-mono text-purple-300 font-semibold",children:f})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs text-gray-400",children:"Max"}),i.jsx("div",{className:"text-sm font-mono text-purple-300 font-semibold",children:p})]})]}),i.jsx("div",{className:"px-2",children:i.jsx(Ca,{value:[f,p],onValueChange:b=>{const[N,S]=b;t.config.outputMin=N,t.config.outputMax=S,o({})},min:0,max:127,step:1,className:"w-full"})})]}),i.jsx("div",{className:"bg-gray-800/30 rounded p-2 flex-1 flex flex-col justify-center",children:r.lastProcessTime>0?i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-sm font-mono text-purple-300 mb-1",children:[r.lastInputValue,"  ",r.lastOutputValue]}),i.jsx("div",{className:"text-xs text-gray-400",children:h!==null&&h<10?`${h.toFixed(1)}s ago`:`${r.messageCount} processed`})]}):i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-sm font-mono text-purple-200 mb-1",children:["Preview: ",v,"  ",y]}),i.jsx("div",{className:"text-xs text-gray-400",children:"Waiting for CC messages..."})]})})]})}};Rn.title="CC Tool",Rn.icon="filter",Rn.description="Transform MIDI Control Change messages with scale and offset",Rn.width=280,Rn.height=260,Rn.color="purple",Rn.portConfig={inputs:[{name:"midi_in",label:"MIDI In"}],outputs:[{name:"midi_out",label:"MIDI Out"}]};let mu=Rn;const Ix=Object.freeze(Object.defineProperty({__proto__:null,ControlChangeToolBlock:mu},Symbol.toStringTag,{value:"Module"}));var Dx=["PageUp","PageDown"],Tx=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Rx={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Ko="Slider",[hu,$P,BP]=kd(Ko),[Ox,tk]=qn(Ko,[BP]),[zP,sl]=Ox(Ko),_x=d.forwardRef((e,t)=>{const{name:n,min:r=0,max:o=100,step:s=1,orientation:a="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:m,onValueChange:f=()=>{},onValueCommit:p=()=>{},inverted:C=!1,form:x,...h}=e,v=d.useRef(new Set),y=d.useRef(0),w=a==="horizontal"?FP:UP,[b=[],N]=Wr({prop:m,defaultProp:u,onChange:A=>{var O;(O=[...v.current][y.current])==null||O.focus(),f(A)}}),S=d.useRef(b);function P(A){const T=YP(b,A);M(A,T)}function j(A){M(A,y.current)}function D(){const A=S.current[y.current];b[y.current]!==A&&p(b)}function M(A,T,{commit:O}={commit:!1}){const B=qP(s),k=ZP(Math.round((A-r)/s)*s+r,B),F=va(k,[r,o]);N((Y=[])=>{const E=WP(Y,F,T);if(QP(E,c*s)){y.current=E.indexOf(F);const L=String(E)!==String(Y);return L&&O&&p(E),L?E:Y}else return Y})}return i.jsx(zP,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:o,valueIndexToChangeRef:y,thumbs:v.current,values:b,orientation:a,form:x,children:i.jsx(hu.Provider,{scope:e.__scopeSlider,children:i.jsx(hu.Slot,{scope:e.__scopeSlider,children:i.jsx(w,{"aria-disabled":l,"data-disabled":l?"":void 0,...h,ref:t,onPointerDown:ce(h.onPointerDown,()=>{l||(S.current=b)}),min:r,max:o,inverted:C,onSlideStart:l?void 0:P,onSlideMove:l?void 0:j,onSlideEnd:l?void 0:D,onHomeKeyDown:()=>!l&&M(r,0,{commit:!0}),onEndKeyDown:()=>!l&&M(o,b.length-1,{commit:!0}),onStepKeyDown:({event:A,direction:T})=>{if(!l){const k=Dx.includes(A.key)||A.shiftKey&&Tx.includes(A.key)?10:1,F=y.current,Y=b[F],E=s*k*T;M(Y+E,F,{commit:!0})}}})})})})});_x.displayName=Ko;var[Ax,Lx]=Ox(Ko,{startEdge:"left",endEdge:"right",size:"width",direction:1}),FP=d.forwardRef((e,t)=>{const{min:n,max:r,dir:o,inverted:s,onSlideStart:a,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...m}=e,[f,p]=d.useState(null),C=Pe(t,w=>p(w)),x=d.useRef(void 0),h=H0(o),v=h==="ltr",y=v&&!s||!v&&s;function g(w){const b=x.current||f.getBoundingClientRect(),N=[0,b.width],P=ef(N,y?[n,r]:[r,n]);return x.current=b,P(w-b.left)}return i.jsx(Ax,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:i.jsx($x,{dir:h,"data-orientation":"horizontal",...m,ref:C,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const b=g(w.clientX);a==null||a(b)},onSlideMove:w=>{const b=g(w.clientX);l==null||l(b)},onSlideEnd:()=>{x.current=void 0,c==null||c()},onStepKeyDown:w=>{const N=Rx[y?"from-left":"from-right"].includes(w.key);u==null||u({event:w,direction:N?-1:1})}})})}),UP=d.forwardRef((e,t)=>{const{min:n,max:r,inverted:o,onSlideStart:s,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...u}=e,m=d.useRef(null),f=Pe(t,m),p=d.useRef(void 0),C=!o;function x(h){const v=p.current||m.current.getBoundingClientRect(),y=[0,v.height],w=ef(y,C?[r,n]:[n,r]);return p.current=v,w(h-v.top)}return i.jsx(Ax,{scope:e.__scopeSlider,startEdge:C?"bottom":"top",endEdge:C?"top":"bottom",size:"height",direction:C?1:-1,children:i.jsx($x,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:h=>{const v=x(h.clientY);s==null||s(v)},onSlideMove:h=>{const v=x(h.clientY);a==null||a(v)},onSlideEnd:()=>{p.current=void 0,l==null||l()},onStepKeyDown:h=>{const y=Rx[C?"from-bottom":"from-top"].includes(h.key);c==null||c({event:h,direction:y?-1:1})}})})}),$x=d.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:o,onSlideEnd:s,onHomeKeyDown:a,onEndKeyDown:l,onStepKeyDown:c,...u}=e,m=sl(Ko,n);return i.jsx(ge.span,{...u,ref:t,onKeyDown:ce(e.onKeyDown,f=>{f.key==="Home"?(a(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):Dx.concat(Tx).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:ce(e.onPointerDown,f=>{const p=f.target;p.setPointerCapture(f.pointerId),f.preventDefault(),m.thumbs.has(p)?p.focus():r(f)}),onPointerMove:ce(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&o(f)}),onPointerUp:ce(e.onPointerUp,f=>{const p=f.target;p.hasPointerCapture(f.pointerId)&&(p.releasePointerCapture(f.pointerId),s(f))})})}),Bx="SliderTrack",zx=d.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=sl(Bx,n);return i.jsx(ge.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...r,ref:t})});zx.displayName=Bx;var gu="SliderRange",Fx=d.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=sl(gu,n),s=Lx(gu,n),a=d.useRef(null),l=Pe(t,a),c=o.values.length,u=o.values.map(p=>Vx(p,o.min,o.max)),m=c>1?Math.min(...u):0,f=100-Math.max(...u);return i.jsx(ge.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...r,ref:l,style:{...e.style,[s.startEdge]:m+"%",[s.endEdge]:f+"%"}})});Fx.displayName=gu;var yu="SliderThumb",Ux=d.forwardRef((e,t)=>{const n=$P(e.__scopeSlider),[r,o]=d.useState(null),s=Pe(t,l=>o(l)),a=d.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return i.jsx(VP,{...e,ref:s,index:a})}),VP=d.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:o,...s}=e,a=sl(yu,n),l=Lx(yu,n),[c,u]=d.useState(null),m=Pe(t,g=>u(g)),f=c?a.form||!!c.closest("form"):!0,p=Qa(c),C=a.values[r],x=C===void 0?0:Vx(C,a.min,a.max),h=KP(r,a.values.length),v=p==null?void 0:p[l.size],y=v?GP(v,x,l.direction):0;return d.useEffect(()=>{if(c)return a.thumbs.add(c),()=>{a.thumbs.delete(c)}},[c,a.thumbs]),i.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${x}% + ${y}px)`},children:[i.jsx(hu.ItemSlot,{scope:e.__scopeSlider,children:i.jsx(ge.span,{role:"slider","aria-label":e["aria-label"]||h,"aria-valuemin":a.min,"aria-valuenow":C,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...s,ref:m,style:C===void 0?{display:"none"}:e.style,onFocus:ce(e.onFocus,()=>{a.valueIndexToChangeRef.current=r})})}),f&&i.jsx(HP,{name:o??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:C},r)]})});Ux.displayName=yu;var HP=e=>{const{value:t,...n}=e,r=d.useRef(null),o=tl(t);return d.useEffect(()=>{const s=r.current,a=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(a,"value").set;if(o!==t&&c){const u=new Event("input",{bubbles:!0});c.call(s,t),s.dispatchEvent(u)}},[o,t]),i.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:t})};function WP(e=[],t,n){const r=[...e];return r[n]=t,r.sort((o,s)=>o-s)}function Vx(e,t,n){const s=100/(n-t)*(e-t);return va(s,[0,100])}function KP(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function YP(e,t){if(e.length===1)return 0;const n=e.map(o=>Math.abs(o-t)),r=Math.min(...n);return n.indexOf(r)}function GP(e,t,n){const r=e/2,s=ef([0,50],[0,r]);return(r-s(t)*n)*n}function XP(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function QP(e,t){if(t>0){const n=XP(e);return Math.min(...n)>=t}return!0}function ef(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function qP(e){return(String(e).split(".")[1]||"").length}function ZP(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var Hx=_x,JP=zx,ej=Fx,tj=Ux;const Cs=d.forwardRef(({className:e,onValueChange:t,value:n,...r},o)=>{const s=d.useMemo(()=>{if(Array.isArray(n))return n;if(typeof n=="number")return[n];const l=r.defaultValue;return Array.isArray(l)?l:typeof l=="number"?[l]:[0]},[n,r.defaultValue]),a=d.useCallback(l=>{t&&t(l)},[t]);return i.jsxs(Hx,{ref:o,className:we("relative flex w-full touch-none select-none items-center",e),value:s,onValueChange:a,...r,children:[i.jsx(JP,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:i.jsx(ej,{className:"absolute h-full bg-primary"})}),s.map((l,c)=>i.jsx(tj,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"},c))]})});Cs.displayName=Hx.displayName;const xn=class xn extends be{static getDefaultConfig(){return{inputChannel:-1,inputCC:-1,outputChannel:-2,outputCC:-1,cutoffFreq:2,processRate:60,threshold:1,smoothing:.5}}static renderHeaderButtons(t,n){var b,N;const[r,o]=d.useState(!1),[s,a]=d.useState(""),[l,c]=d.useState(""),[u,m]=d.useState(0);d.useState(!1),d.useState(!1);const f=t.config.inputChannel??-1,p=t.config.inputCC??-1,C=t.config.outputChannel??-2,x=t.config.outputCC??-1,h=t.config.cutoffFreq??2,v=t.config.processRate??60,y=t.config.smoothing??.5,g=Gr(s),w=Gr(l);return console.log("Filtering with:",{inputCcSearchValue:s,outputCcSearchValue:l}),console.log("Results:",{inputCount:g.length,outputCount:w.length}),i.jsxs(vt,{open:r,onOpenChange:S=>{o(S),be.setConfigModalOpen(S)},children:[i.jsx(Kt,{asChild:!0,children:i.jsx("button",{className:"text-gray-400 hover:text-gray-200 text-xs transition-colors p-2 -m-2 touch-manipulation",onClick:S=>S.stopPropagation(),onTouchStart:S=>S.stopPropagation(),onTouchEnd:S=>S.stopPropagation(),style:{touchAction:"manipulation"},children:i.jsx(Wt,{className:"w-3 h-3"})})}),i.jsxs(at,{className:"glass-panel border border-white/20 backdrop-blur-xl bg-gray-700/60 max-w-md",onInteractOutside:S=>S.preventDefault(),onMouseDown:S=>S.stopPropagation(),onMouseMove:S=>S.stopPropagation(),onMouseUp:S=>S.stopPropagation(),onTouchStart:S=>S.stopPropagation(),onTouchMove:S=>S.stopPropagation(),onTouchEnd:S=>S.stopPropagation(),children:[i.jsx(lt,{children:i.jsx(ct,{className:"text-gray-100",children:"Low Pass CC Filter Configuration"})}),i.jsxs("div",{className:"space-y-4 text-sm py-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx(ve,{className:"text-sm text-gray-300 mb-2 block",children:"Input Channel"}),i.jsxs(ht,{value:String(f),onValueChange:S=>{const P=S==="-1"?-1:parseInt(S);t.config.inputChannel=P,n==null||n({inputChannel:P})},children:[i.jsx(ot,{className:"bg-gray-800/50 border-white/20 backdrop-blur-sm",children:i.jsx(gt,{})}),i.jsxs(st,{children:[i.jsx(Le,{value:"-1",children:"Any Channel"}),Array.from({length:16},(S,P)=>P+1).map(S=>i.jsxs(Le,{value:String(S),children:["Channel ",S]},S))]})]})]}),i.jsxs("div",{children:[i.jsx(ve,{className:"text-sm text-gray-300 mb-2 block",children:"Output Channel"}),i.jsxs(ht,{value:String(C),onValueChange:S=>{const P=S==="-2"?-2:parseInt(S);t.config.outputChannel=P,n==null||n({outputChannel:P})},children:[i.jsx(ot,{className:"bg-gray-800/50 border-white/20 backdrop-blur-sm",children:i.jsx(gt,{})}),i.jsxs(st,{children:[i.jsx(Le,{value:"-2",children:"Same Channel"}),Array.from({length:16},(S,P)=>P+1).map(S=>i.jsxs(Le,{value:String(S),children:["Channel ",S]},S))]})]})]})]}),i.jsxs("div",{children:[i.jsx(ve,{className:"text-sm text-gray-300 mb-2 block",children:"Input CC Number"}),i.jsxs("div",{className:"space-y-2 relative",children:[i.jsx(rt,{placeholder:"Search input CC numbers...",value:s,onChange:S=>{console.log("Input CC search changed:",S.target.value),a(S.target.value),m(P=>P+1)},onKeyDown:S=>{console.log("Key pressed:",S.key),S.stopPropagation(),S.key==="Escape"&&a("")},className:"bg-gray-800/50 border-white/20 backdrop-blur-sm text-sm"}),s&&g.length>0&&i.jsxs("div",{className:"absolute top-full left-0 right-0 z-50 bg-gray-800 border border-white/20 rounded-md shadow-lg max-h-48 overflow-y-auto",children:[i.jsx("div",{className:"px-3 py-2 text-xs hover:bg-gray-700 cursor-pointer border-b border-white/10",onClick:()=>{t.config.inputCC=-1,n==null||n({inputCC:-1}),a("")},children:"Any CC"}),g.map(S=>i.jsxs("div",{className:"px-3 py-2 hover:bg-gray-700 cursor-pointer text-xs flex items-center justify-between",onClick:()=>{t.config.inputCC=S.number,n==null||n({inputCC:S.number}),a("")},children:[i.jsx("span",{className:"font-mono",children:S.number.toString().padStart(3,"0")}),i.jsx("span",{className:"ml-2",children:S.name})]},S.number))]}),i.jsx("div",{className:"bg-gray-700/50 border border-white/10 rounded px-3 py-2 text-sm",children:i.jsxs("span",{className:"text-gray-300 font-medium",children:[p===-1?"Any CC":`CC ${p.toString().padStart(3,"0")}`,p!==-1&&i.jsxs("span",{className:"ml-2 text-gray-400 text-xs",children:["(",((b=Ze[p])==null?void 0:b.name)||"Unknown",")"]})]})})]})]}),i.jsxs("div",{children:[i.jsx(ve,{className:"text-sm text-gray-300 mb-2 block",children:"Output CC Number"}),i.jsxs("div",{className:"space-y-2 relative",children:[i.jsx(rt,{placeholder:"Search output CC numbers...",value:l,onChange:S=>{c(S.target.value),m(P=>P+1)},onKeyDown:S=>{S.stopPropagation(),S.key==="Escape"&&c("")},className:"bg-gray-800/50 border-white/20 backdrop-blur-sm text-sm"}),l&&w.length>0&&i.jsxs("div",{className:"absolute top-full left-0 right-0 z-50 bg-gray-800 border border-white/20 rounded-md shadow-lg max-h-48 overflow-y-auto",children:[i.jsx("div",{className:"px-3 py-2 text-xs hover:bg-gray-700 cursor-pointer border-b border-white/10",onClick:()=>{t.config.outputCC=-1,n==null||n({outputCC:-1}),c("")},children:"Same CC"}),w.map(S=>i.jsxs("div",{className:"px-3 py-2 hover:bg-gray-700 cursor-pointer text-xs flex items-center justify-between",onClick:()=>{t.config.outputCC=S.number,n==null||n({outputCC:S.number}),c("")},children:[i.jsx("span",{className:"font-mono",children:S.number.toString().padStart(3,"0")}),i.jsx("span",{className:"ml-2",children:S.name})]},S.number))]}),i.jsx("div",{className:"bg-gray-700/50 border border-white/10 rounded px-3 py-2 text-sm",children:i.jsxs("span",{className:"text-gray-300 font-medium",children:[x===-1?"Same CC":`CC ${x.toString().padStart(3,"0")}`,x!==-1&&i.jsxs("span",{className:"ml-2 text-gray-400 text-xs",children:["(",((N=Ze[x])==null?void 0:N.name)||"Unknown",")"]})]})})]})]}),i.jsxs("div",{className:"space-y-4 border-t border-white/10 pt-4",children:[i.jsxs("div",{children:[i.jsxs(ve,{className:"text-sm text-gray-300 mb-2 block",children:["Cutoff Frequency: ",h.toFixed(1)," Hz"]}),i.jsx(Cs,{value:[h],onValueChange:S=>{const P=S[0];t.config.cutoffFreq=P,n==null||n({cutoffFreq:P})},min:.1,max:60,step:.1,className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs(ve,{className:"text-sm text-gray-300 mb-2 block",children:["Processing Rate: ",v," Hz"]}),i.jsx(Cs,{value:[v],onValueChange:S=>{const P=S[0];t.config.processRate=P,n==null||n({processRate:P})},min:10,max:120,step:5,className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs(ve,{className:"text-sm text-gray-300 mb-2 block",children:["Smoothing: ",Math.round(y*100),"%"]}),i.jsx(Cs,{value:[y],onValueChange:S=>{const P=S[0];t.config.smoothing=P,n==null||n({smoothing:P})},min:0,max:1,step:.01,className:"w-full"})]})]}),i.jsx("div",{className:"flex justify-end pt-3 border-t border-white/10",children:i.jsx("button",{onClick:()=>o(!1),className:"px-4 py-1.5 text-sm bg-blue-500 hover:bg-blue-600 text-white rounded transition-colors font-medium",children:"OK"})})]})]})]})}processContinuousFilter(t){if(!t.hasReceivedInput||t.lastInputValue<0)return;const n=t.blockConfig,r=(n==null?void 0:n.cutoffFreq)??2,o=(n==null?void 0:n.smoothing)??.5,s=1,a=(n==null?void 0:n.processRate)??60,l=1/a,c=1/(2*Math.PI*r),m=l/(c+l)*(1-o);t.filterState=t.filterState+m*(t.lastInputValue-t.filterState);const f=Math.round(t.filterState);if(Math.abs(f-t.lastOutputValue)>=s){t.filteredValue=f,t.lastOutputValue=f,t.lastProcessTime=Date.now();const p=(n==null?void 0:n.outputChannel)??-2,C=(n==null?void 0:n.outputCC)??-1,x=p===-2?t.actualInputChannel!==-1?t.actualInputChannel:1:p,h=C===-1?t.actualInputCC!==-1?t.actualInputCC:1:C,y={data:new Uint8Array([176|x-1,h,Math.max(0,Math.min(127,f))]),timestamp:Date.now()},g=t.actualBlockId||(n==null?void 0:n.id)||"lowpass-filter",w=`${g}-midi_out`;console.log(`Low Pass Filter: ${t.lastInputValue}  ${f} (${a}Hz) [MIDI OUT] - Routing from ${g}:${w}`),new xn().emitMidiMessage(g,w,y)}}processMidiMessage(t,n){var w,b,N,S,P,j,D,M;const r=this.useInstanceData({lastInputValue:-1,filteredValue:0,lastOutputValue:-1,lastProcessTime:0,messageCount:0,blockConfig:null,filterState:0,lastInputTime:0,hasReceivedInput:!1,timerActive:!1,actualInputChannel:-1,actualInputCC:-1,actualBlockId:null}),o=mn.parseMidiMessage(t.data);if(o.type!=="controlChange"||o.dataBytes.length<2)return null;const s=(o.status&15)+1,a=o.dataBytes[0],l=o.dataBytes[1],c=((w=r.blockConfig)==null?void 0:w.inputChannel)??-1,u=((b=r.blockConfig)==null?void 0:b.inputCC)??-1,m=((N=r.blockConfig)==null?void 0:N.outputChannel)??-2,f=((S=r.blockConfig)==null?void 0:S.outputCC)??-1;if(c!==-1&&s!==c||u!==-1&&a!==u)return null;if(r.actualInputChannel=s,r.actualInputCC=a,r.lastInputValue=l,r.lastInputTime=Date.now(),r.messageCount++,!r.hasReceivedInput){r.hasReceivedInput=!0,r.timerActive=!0;const A=((P=r.blockConfig)==null?void 0:P.processRate)??60;this.intervalId&&clearInterval(this.intervalId),this.intervalId=setInterval(()=>{this.processContinuousFilter.call(this,r)},1e3/A)}r.filteredValue===0&&r.messageCount===1&&(r.filteredValue=l,r.filterState=l);const p=((j=r.blockConfig)==null?void 0:j.cutoffFreq)??2,C=((D=r.blockConfig)==null?void 0:D.smoothing)??.5,x=1/(((M=r.blockConfig)==null?void 0:M.processRate)??60),h=1/(2*Math.PI*p),y=x/(h+x)*(1-C);if(r.filterState=r.filterState+y*(l-r.filterState),r.filteredValue=Math.round(r.filterState),Math.abs(r.filteredValue-r.lastOutputValue)>=1){r.lastOutputValue=r.filteredValue,r.lastProcessTime=Date.now();const A=m===-2?s:m,T=f===-1?a:f;return{message:{data:new Uint8Array([176|A-1,T,Math.max(0,Math.min(127,r.filteredValue))]),timestamp:t.timestamp},targetPorts:["midi_out"]}}return null}renderContent(t,n){var h,v;const r=this.useInstanceData({lastInputValue:-1,filteredValue:0,lastOutputValue:-1,lastProcessTime:0,messageCount:0,blockConfig:null,filterState:0,lastInputTime:0,hasReceivedInput:!1,timerActive:!1,actualInputChannel:-1,actualInputCC:-1,actualBlockId:null});d.useState({}),r.blockConfig=t.config,r.actualBlockId=t.id;const o=t.config.inputChannel??-1,s=t.config.inputCC??-1,a=t.config.outputChannel??-2,l=t.config.outputCC??-1,c=t.config.cutoffFreq??2,u=t.config.processRate??60,m=t.config.smoothing??.5,f=s===-1?"Any CC":((h=Ze[s])==null?void 0:h.name)||`CC ${s}`,p=l===-1?"Same CC":((v=Ze[l])==null?void 0:v.name)||`CC ${l}`,C=r.lastInputTime>0?(Date.now()-r.lastInputTime)/1e3:null,x=r.lastProcessTime>0?(Date.now()-r.lastProcessTime)/1e3:null;return i.jsxs("div",{className:"space-y-2 h-full flex flex-col",onMouseDown:y=>y.stopPropagation(),children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-xs text-gray-300 mb-1",children:[f," ",o===-1?"(Any Ch)":`Ch${o}`,"  ",p," ",a===-2?"(Same Channel)":`Ch${a}`]}),i.jsxs("div",{className:"text-xs text-blue-400",children:[c.toFixed(1),"Hz LP  ",u,"Hz"]})]}),i.jsxs("div",{className:"bg-gray-800/20 rounded p-2 flex-1",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-gray-400 mb-1",children:"Input"}),i.jsx("div",{className:"text-lg font-mono text-blue-300",children:r.lastInputValue>=0?r.lastInputValue:"--"}),C!==null&&C<2&&i.jsxs("div",{className:"text-xs text-green-400 mt-1",children:[C.toFixed(1),"s ago"]})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-gray-400 mb-1",children:"Filtered"}),i.jsx("div",{className:"text-lg font-mono text-blue-300",children:r.filteredValue>=0?r.filteredValue:"--"}),x!==null&&x<2&&i.jsxs("div",{className:"text-xs text-green-400 mt-1",children:[x.toFixed(1),"s ago"]})]})]}),i.jsxs("div",{className:"mt-2",children:[i.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mb-1",children:[i.jsxs("span",{children:["Smoothing: ",Math.round(m*100),"%"]}),i.jsxs("span",{children:["Messages: ",r.messageCount]})]}),i.jsx("div",{className:"h-1 bg-gray-700 rounded overflow-hidden",children:i.jsx("div",{className:"h-full bg-gradient-to-r from-blue-600 to-blue-400 transition-all duration-300",style:{width:`${Math.max(0,Math.min(100,r.filteredValue/127*100))}%`}})})]})]})]})}};xn.title="CC Low Pass Filter",xn.icon="wave",xn.description="Low-pass filter for MIDI Control Change messages with configurable smoothing",xn.width=280,xn.height=200,xn.color="blue",xn.portConfig={inputs:[{name:"midi_in",label:"MIDI In"}],outputs:[{name:"midi_out",label:"MIDI Out"}]};let xu=xn;const Wx=Object.freeze(Object.defineProperty({__proto__:null,LowPassCCFilterBlock:xu},Symbol.toStringTag,{value:"Module"}));function nj(e,t){const n=Date.now(),r={...e,lastUpdate:n};switch(t.type){case"NOTE_ON":{const o=new Map(e.activeNotes);return o.set(t.note,{velocity:t.velocity,source:t.source,timestamp:n}),{...r,activeNotes:o}}case"NOTE_OFF":{const o=new Map(e.activeNotes),s=o.get(t.note);return s&&(s.source===t.source||n-s.timestamp>5e3)&&o.delete(t.note),{...r,activeNotes:o}}case"KEY_PRESS":{const o=new Map(e.activeNotes),s=new Map(e.keyToNoteMap);return o.set(t.note,{velocity:t.velocity,source:"input",timestamp:n}),s.set(t.key,t.note),{...r,activeNotes:o,keyToNoteMap:s}}case"KEY_RELEASE":{const o=new Map(e.activeNotes),s=new Map(e.keyToNoteMap),a=e.keyToNoteMap.get(t.key);return a!==void 0&&(o.delete(a),s.delete(t.key)),{...r,activeNotes:o,keyToNoteMap:s}}case"RELEASE_ALL_NOTES":return{...r,activeNotes:new Map};case"FOCUS_CHANGE":{const o=t.focused?"focused":"blurred",s=t.focused?e.activeNotes:new Map,a=t.focused?e.keyToNoteMap:new Map;return{...r,focusState:o,activeNotes:s,keyToNoteMap:a}}case"EMERGENCY_CLEANUP":return{...r,activeNotes:new Map,keyToNoteMap:new Map,pendingActions:[]};case"PERIODIC_CLEANUP":{const o=new Map;return Array.from(e.activeNotes.entries()).forEach(([s,a])=>{n-a.timestamp<1e4&&o.set(s,a)}),{...r,activeNotes:o}}case"PROCESS_QUEUE":{let o={...r};for(const s of e.pendingActions)if(s.type==="noteOn"&&s.note!==void 0){const a=new Map(o.activeNotes);a.set(s.note,{velocity:s.velocity||100,source:s.source||"input",timestamp:s.timestamp}),o={...o,activeNotes:a}}else if(s.type==="noteOff"&&s.note!==void 0){const a=new Map(o.activeNotes);a.delete(s.note),o={...o,activeNotes:a}}return{...o,pendingActions:[]}}default:return e}}const tn=class tn extends be{static calculateBlockWidth(t){var c;const n=((c=t==null?void 0:t.config)==null?void 0:c.keyCount)||49,r=17,o=n<=25?60:n<=49?36:n<=88?21:0,s=Math.min(127,o+n);return Array.from({length:s-o},(u,m)=>o+m).filter(u=>![1,3,6,8,10].includes(u%12)).length*r+40}static getDefaultConfig(){return{keyCount:49,highlightColor:"blue",viewColor:"green",viewChannel:-1,generateChannel:0,octaveOffset:0}}static renderHeaderButtons(t,n){const[r,o]=d.useState(!1),[,s]=d.useState({}),a=t.config.viewColor||"green",l=t.config.highlightColor||"blue",c={blue:"#3b82f6",red:"#ef4444",green:"#22c55e",yellow:"#eab308",purple:"#a855f7",orange:"#f97316",cyan:"#06b6d4"};return i.jsxs(vt,{open:r,onOpenChange:u=>{o(u),be.setConfigModalOpen(u)},children:[i.jsx(Kt,{asChild:!0,children:i.jsx("button",{className:"text-gray-400 hover:text-gray-200 text-xs transition-colors p-2 -m-2 touch-manipulation",onClick:u=>u.stopPropagation(),onTouchStart:u=>u.stopPropagation(),onTouchEnd:u=>u.stopPropagation(),style:{touchAction:"manipulation"},children:i.jsx(Wt,{className:"w-3 h-3"})})}),i.jsxs(at,{className:"glass-panel border border-white/20 backdrop-blur-xl bg-gray-700/60",onInteractOutside:u=>u.preventDefault(),onMouseDown:u=>u.stopPropagation(),onMouseMove:u=>u.stopPropagation(),onMouseUp:u=>u.stopPropagation(),onTouchStart:u=>u.stopPropagation(),onTouchMove:u=>u.stopPropagation(),onTouchEnd:u=>u.stopPropagation(),children:[i.jsx(lt,{children:i.jsx(ct,{className:"text-gray-100",children:"Keyboard Configuration"})}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ve,{className:"text-sm text-gray-300 mb-2 block",children:"Notes From MIDI"}),i.jsxs(ht,{value:a,onValueChange:u=>{t.config.viewColor=u,n==null||n({viewColor:u}),s({})},children:[i.jsx(ot,{className:"bg-gray-800/50 border-white/20 backdrop-blur-sm",children:i.jsx(gt,{})}),i.jsx(st,{children:Object.keys(c).map(u=>i.jsx(Le,{value:u,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded border",style:{backgroundColor:c[u]}}),u]})},u))})]})]}),i.jsxs("div",{children:[i.jsx(ve,{className:"text-sm text-gray-300 mb-2 block",children:"Notes from Input"}),i.jsxs(ht,{value:l,onValueChange:u=>{t.config.highlightColor=u,n==null||n({highlightColor:u}),s({})},children:[i.jsx(ot,{className:"bg-gray-800/50 border-white/20 backdrop-blur-sm",children:i.jsx(gt,{})}),i.jsx(st,{children:Object.keys(c).map(u=>i.jsx(Le,{value:u,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded border",style:{backgroundColor:c[u]}}),u]})},u))})]})]})]}),i.jsxs("div",{children:[i.jsx(ve,{className:"text-sm text-gray-300 mb-2 block",children:"Channel for Notes Generated"}),i.jsxs(ht,{value:String(t.config.inputChannel||1),onValueChange:u=>{var p;t.config.inputChannel=parseInt(u),n==null||n({inputChannel:parseInt(u)});const m=JSON.parse(localStorage.getItem("midi-router-canvas-state")||"{}"),f=(p=m.blocks)==null?void 0:p.findIndex(C=>C.id===t.id);f>=0&&(m.blocks[f].config.inputChannel=parseInt(u),localStorage.setItem("midi-router-canvas-state",JSON.stringify(m))),s({})},children:[i.jsx(ot,{className:"bg-gray-800/50 border-white/20 backdrop-blur-sm",children:i.jsx(gt,{})}),i.jsx(st,{children:Array.from({length:16},(u,m)=>m+1).map(u=>i.jsxs(Le,{value:String(u),children:["Channel ",u]},u))})]})]}),i.jsxs("div",{className:"pt-4 border-t border-white/10",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-200 mb-3",children:"Keyboard Commands"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs text-gray-300",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-200 mb-2",children:"Note Playing"}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-mono bg-gray-800 px-1 rounded",children:"A-K"})," Play notes (QWERTY row)"]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-mono bg-gray-800 px-1 rounded",children:"W,E,T,Y,U"})," Black keys"]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-mono bg-gray-800 px-1 rounded",children:"Space"})," Sustain pedal"]})]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-200 mb-2",children:"Controls"}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-mono bg-gray-800 px-1 rounded",children:"-"})," Octave down"]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-mono bg-gray-800 px-1 rounded",children:"="})," Octave up"]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-mono bg-gray-800 px-1 rounded",children:"["})," Fewer keys"]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-mono bg-gray-800 px-1 rounded",children:"]"})," More keys"]})]})]})]})]}),i.jsx("div",{className:"flex justify-end pt-3 border-t border-white/10",children:i.jsx("button",{onClick:()=>o(!1),className:"px-4 py-1.5 text-sm bg-purple-500 hover:bg-purple-600 text-white rounded transition-colors font-medium",children:"OK"})})]})]})]})}processMidiMessage(t,n){const r=this.useInstanceData({atomicState:{activeNotes:new Map,keyToNoteMap:new Map,focusState:"blurred",lastUpdate:Date.now(),pendingActions:[]},stateDispatch:null,keyCount:49,highlightColor:"blue",viewColor:"green",viewChannel:0,generateChannel:0,octaveOffset:0,sustainPressed:!1,isSelected:!1,setVisualActiveNotes:null}),o=mn.parseMidiMessage(t.data);if((o.type==="noteOn"||o.type==="noteOff")&&o.dataBytes.length>=2){const s=o.status&15,a=o.dataBytes[0],l=o.dataBytes[1];(r.viewChannel===-1||s===r.viewChannel)&&r.stateDispatch&&(o.type==="noteOn"&&l>0?(r.stateDispatch({type:"NOTE_ON",note:a,velocity:l,source:"midi"}),r.setVisualActiveNotes&&r.setVisualActiveNotes(c=>{const u=new Map(c);return u.set(a,"midi"),u})):(r.stateDispatch({type:"NOTE_OFF",note:a,source:"midi"}),r.setVisualActiveNotes&&r.setVisualActiveNotes(c=>{const u=new Map(c);return u.delete(a),u})))}return{message:t,targetPorts:["midi_out"]}}renderContent(t,n){const[r,o]=d.useReducer(nj,{activeNotes:new Map,keyToNoteMap:new Map,focusState:"blurred",lastUpdate:Date.now(),pendingActions:[]}),[s,a]=d.useState(new Map),l=this.useInstanceData({keyCount:t.config.keyCount||49,highlightColor:t.config.highlightColor||"blue",viewColor:t.config.viewColor||"green",viewChannel:t.config.viewChannel!==void 0?t.config.viewChannel:-1,generateChannel:t.config.generateChannel||0,octaveOffset:t.config.octaveOffset||0,sustainPressed:!1,isSelected:!1,stateDispatch:o,setVisualActiveNotes:a}),c=d.useRef(null),u=d.useRef(null),m=d.useRef(!1),[f,p]=d.useState({keyCount:l.keyCount,highlightColor:l.highlightColor,viewColor:l.viewColor,viewChannel:l.viewChannel,generateChannel:l.generateChannel}),{keyCount:C,highlightColor:x,viewColor:h,viewChannel:v,generateChannel:y}=f,g=t.config.inputChannel||1,w=d.useCallback(I=>{p(R=>({...R,...I}))},[]);this.handleConfigChange=w;const b=d.useCallback(I=>{const R=`${t.id}-midi_out`;this.emitMidiMessage(t.id,R,{data:I,timestamp:Date.now()})},[t.id]);d.useEffect(()=>{const I=m.current,R=l.isSelected;I&&!R&&(Array.from(r.activeNotes.keys()).forEach(_=>{b(new Uint8Array([128|g-1,_,0]))}),o({type:"EMERGENCY_CLEANUP"}),l.sustainPressed&&(l.sustainPressed=!1,b(new Uint8Array([176|g-1,64,0])))),m.current=R},[l.isSelected,r.activeNotes,b,g,o]);const N=d.useMemo(()=>{const R=60+l.octaveOffset*12,_=Math.min(127,R+C),V=Pt=>{const $e=Pt%12;return[1,3,6,8,10].includes($e)},q=Array.from({length:_-R},(Pt,$e)=>R+$e).filter(Pt=>!V(Pt)).length,se=17,fe=62,ue=40,je=q*se,De=je+40;return{startNote:R,endNote:_,actualWhiteKeyCount:q,keyWidth:se,whiteKeyHeight:fe,blackKeyHeight:ue,actualKeyboardWidth:je,finalBlockWidth:De,isBlackKey:V}},[C,l.octaveOffset]),S={blue:"#3b82f6",red:"#ef4444",green:"#22c55e",yellow:"#eab308",purple:"#a855f7",orange:"#f97316",pink:"#ec4899",cyan:"#06b6d4"},P=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],{startNote:j,endNote:D,keyWidth:M,whiteKeyHeight:A,blackKeyHeight:T,actualKeyboardWidth:O,finalBlockWidth:B,isBlackKey:k}=N,F=d.useMemo(()=>{const I=[],R=[];let _=0;for(let V=j;V<D;V++)if(!k(V)){const q=_*M;I.push({note:V,x:q}),_++}_=0;for(let V=j;V<D;V++){if(k(V)&&_>0){const q=I[_-1];if(q){const se=q.x+M-7;R.push({note:V,x:se})}}k(V)||_++}return{whiteKeys:I,blackKeys:R}},[j,D,M,k]),{whiteKeys:Y,blackKeys:E}=F,L=(I,R)=>{const _=s.get(I);if(_){const V=_==="midi"?t.config.viewColor||"green":t.config.highlightColor||"blue";return(S[V]||S.blue)+Math.round(.8*255).toString(16).padStart(2,"0")}return R?"#374151":"#f3f4f6"},U=(I,R)=>{const _=s.get(I);if(_){const V=_==="midi"?t.config.viewColor||"green":t.config.highlightColor||"blue";return S[V]||S.blue}return R?"#6b7280":"#d1d5db"},H={a:0,w:1,s:2,e:3,d:4,f:5,t:6,g:7,y:8,h:9,u:10,j:11,k:12,o:13,l:14,p:15,";":16,"'":17};d.useEffect(()=>{const I=setInterval(()=>{o({type:"PERIODIC_CLEANUP"})},5e3);return()=>clearInterval(I)},[o]),d.useEffect(()=>{const I=setInterval(()=>{o({type:"PROCESS_QUEUE"})},100);return()=>clearInterval(I)},[o]);const[G,oe]=d.useState({isDragging:!1,currentKey:null,lastKey:null,startPosition:null}),$=d.useCallback((I,R)=>{if(!u.current)return null;const _=u.current.getBoundingClientRect(),V=I-_.left,q=R-_.top,se=A;if(V<0||V>O||q<0||q>se)return null;for(const{note:fe,x:ue}of E){const je=M-7;if(V>=ue&&V<=ue+je&&q<=T)return fe}for(const{note:fe,x:ue}of Y)if(V>=ue&&V<=ue+M&&q<=se)return fe;return null},[u,O,A,T,E,Y,M]),ne=d.useCallback(I=>{o({type:"NOTE_ON",note:I,velocity:100,source:"input"}),b(new Uint8Array([144|g-1,I,100])),a(R=>{const _=new Map(R);return _.set(I,"input"),_})},[o,g,b]),ye=d.useCallback(I=>{o({type:"NOTE_OFF",note:I,source:"input"}),b(new Uint8Array([128|g-1,I,0])),a(R=>{const _=new Map(R);return _.delete(I),_})},[o,g,b]),X=d.useCallback(I=>{var _,V;const R=$(I.clientX,I.clientY);R!==null?((_=c.current)==null||_.focus(),ne(R),oe({isDragging:!0,currentKey:R,lastKey:R,startPosition:{x:I.clientX,y:I.clientY}})):((V=c.current)==null||V.focus(),oe({isDragging:!1,currentKey:null,lastKey:null,startPosition:null}))},[$,ne]),de=d.useCallback(I=>{if(!G.isDragging)return;I.stopPropagation();const R=$(I.clientX,I.clientY);R!==G.currentKey&&(G.currentKey!==null&&ye(G.currentKey),R!==null&&ne(R),oe(_=>({..._,lastKey:_.currentKey,currentKey:R})))},[G.isDragging,G.currentKey,$,ne,ye]),z=d.useCallback(I=>{G.currentKey!==null&&ye(G.currentKey),oe({isDragging:!1,currentKey:null,lastKey:null,startPosition:null})},[G.currentKey,ye]);return d.useEffect(()=>{const I=R=>{G.currentKey!==null&&ye(G.currentKey),oe({isDragging:!1,currentKey:null,lastKey:null,startPosition:null})};if(G.isDragging)return document.addEventListener("mouseup",I),()=>document.removeEventListener("mouseup",I)},[G.isDragging,G.currentKey,ye]),d.useEffect(()=>{const I=_=>{if(!l.isSelected||!u.current)return;const V=_.key.toLowerCase();if(V==="-"){_.preventDefault(),l.octaveOffset=Math.max(-5,l.octaveOffset-1);return}if(V==="="){_.preventDefault(),l.octaveOffset=Math.min(5,l.octaveOffset+1);return}if(V==="["){_.preventDefault();const q=Math.max(13,C-12);if(p(se=>({...se,keyCount:q})),l.keyCount=q,t.config.keyCount=q,n){const se=tn.calculateBlockWidth({config:{keyCount:q}});n({width:se,height:t.height||220})}return}if(V==="]"){if(_.preventDefault(),60+l.octaveOffset*12+C+12>127){const ue=Math.max(-5,l.octaveOffset-1);l.octaveOffset=ue,t.config.octaveOffset=ue;const je=Math.min(127,C+12);p(De=>({...De,keyCount:je})),l.keyCount=je,t.config.keyCount=je}else{const ue=Math.min(127,C+12);p(je=>({...je,keyCount:ue})),l.keyCount=ue,t.config.keyCount=ue}if(n){const ue=tn.calculateBlockWidth({config:{keyCount:l.keyCount}});n({width:ue,height:t.height||220})}return}if(V===" "&&!l.sustainPressed){_.preventDefault(),l.sustainPressed=!0,b(new Uint8Array([176|g-1,64,127]));return}if(H[V]!==void 0&&!_.repeat){_.preventDefault();const q=H[V],se=j+q;se>=j&&se<D&&(o({type:"KEY_PRESS",key:V,note:se,velocity:100}),b(new Uint8Array([144|g-1,se,100])),a(fe=>{const ue=new Map(fe);return ue.set(se,"input"),ue}))}},R=_=>{if(!l.isSelected||!u.current)return;const V=_.key.toLowerCase();if(V===" "&&l.sustainPressed){_.preventDefault(),l.sustainPressed=!1,b(new Uint8Array([176|g-1,64,0]));return}if(H[V]!==void 0){_.preventDefault();const q=r.keyToNoteMap.get(V);q!==void 0&&(o({type:"KEY_RELEASE",key:V}),b(new Uint8Array([128|g-1,q,0])),a(se=>{const fe=new Map(se);return fe.delete(q),fe}))}};return document.addEventListener("keydown",I),document.addEventListener("keyup",R),()=>{document.removeEventListener("keydown",I),document.removeEventListener("keyup",R)}},[l,g,b,j,D,C,n,t,o,H]),We.useEffect(()=>{n&&n({width:B,height:t.height||180})},[C,n,t.height]),i.jsxs("div",{ref:c,className:"space-y-1",tabIndex:0,onMouseDown:X,onMouseMove:de,onMouseUp:z,onFocus:()=>{o({type:"FOCUS_CHANGE",focused:!0})},onBlur:()=>{o({type:"FOCUS_CHANGE",focused:!1})},style:{outline:"none",width:"100%",minWidth:O+10},children:[i.jsxs("div",{className:"text-xs text-gray-400 flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("span",{children:[i.jsx("span",{className:"font-semibold text-gray-300",children:"Note:"})," ",r.activeNotes.size>0?Array.from(r.activeNotes.keys()).map(I=>P[I%12]+(Math.floor(I/12)-1)).join(", "):i.jsx("span",{className:"text-gray-500",children:"no active notes"})]})}),l.sustainPressed&&i.jsx("span",{className:"text-yellow-400 font-medium",children:"Sustain ON"})]}),i.jsx("div",{ref:u,className:"border border-gray-600 rounded cursor-pointer transition-colors hover:border-gray-500",style:{width:O,overflow:"visible"},onClick:()=>{var I;(I=c.current)==null||I.focus()},tabIndex:0,children:i.jsxs("svg",{width:O,height:A,className:"block",children:[Y.map(({note:I,x:R})=>i.jsxs("g",{children:[i.jsx("rect",{x:R,y:0,width:M-1,height:A,fill:L(I,!1),stroke:U(I,!1),strokeWidth:s.get(I)?2:1,className:"cursor-pointer"}),I%12===0&&i.jsxs("text",{x:R+M/2,y:A-8,textAnchor:"middle",fontSize:"8",fill:"#4b5563",className:"pointer-events-none select-none font-semibold",children:["C",Math.floor(I/12)-1]})]},`white-${I}`)),E.map(({note:I,x:R})=>i.jsx("rect",{x:R,y:0,width:M-7,height:T,fill:L(I,!0),stroke:U(I,!0),strokeWidth:s.get(I)?2:1,className:"cursor-pointer"},`black-${I}`))]})})]})}};tn.title="Note Keyboard",tn.icon="piano",tn.description="Interactive keyboard with configurable size, viewing, and generation capabilities",tn.width=300,tn.height=180,tn.color="purple",tn.portConfig={inputs:[{name:"midi_in",label:"MIDI In"}],outputs:[{name:"midi_out",label:"MIDI Out"}]};let vu=tn;const Kx=Object.freeze(Object.defineProperty({__proto__:null,KeyboardBlock:vu},Symbol.toStringTag,{value:"Module"})),nn=class nn extends be{static getDefaultConfig(){return{minNote:0,maxNote:127}}static getNoteNames(){const t=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],n={};for(let r=0;r<=127;r++){const o=Math.floor(r/12)-1,s=t[r%12];n[r]=`${s}${o}`}return n}static renderHeaderButtons(t,n){const[r,o]=d.useState(!1),s=t.config.minNote??0,a=t.config.maxNote??127,l=nn.getNoteNames();return i.jsxs(vt,{open:r,onOpenChange:c=>{o(c),be.setConfigModalOpen(c)},children:[i.jsx(Kt,{asChild:!0,children:i.jsx("button",{className:"text-gray-400 hover:text-gray-200 text-xs transition-colors p-2 -m-2 touch-manipulation",onClick:c=>c.stopPropagation(),onTouchStart:c=>c.stopPropagation(),onTouchEnd:c=>c.stopPropagation(),style:{touchAction:"manipulation"},children:i.jsx(Wt,{className:"w-3 h-3"})})}),i.jsxs(at,{className:"glass-panel border border-white/20 backdrop-blur-xl bg-gray-700/60 max-w-md",onInteractOutside:c=>c.preventDefault(),onMouseDown:c=>c.stopPropagation(),onMouseMove:c=>c.stopPropagation(),onMouseUp:c=>c.stopPropagation(),onTouchStart:c=>c.stopPropagation(),onTouchMove:c=>c.stopPropagation(),onTouchEnd:c=>c.stopPropagation(),children:[i.jsx(lt,{children:i.jsx(ct,{className:"text-gray-100",children:"Note Filter Configuration"})}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{children:[i.jsx(ve,{className:"text-sm text-gray-300 mb-3 block",children:"Note Range"}),i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs text-gray-400",children:"Min"}),i.jsx("div",{className:"text-sm font-mono text-blue-300 font-semibold",children:l[s]}),i.jsxs("div",{className:"text-xs text-gray-500",children:["MIDI ",s]})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs text-gray-400",children:"Max"}),i.jsx("div",{className:"text-sm font-mono text-blue-300 font-semibold",children:l[a]}),i.jsxs("div",{className:"text-xs text-gray-500",children:["MIDI ",a]})]})]}),i.jsxs("div",{className:"px-2",children:[i.jsx(Ca,{value:[s,a],onValueChange:c=>{const[u,m]=c;t.config.minNote=u,t.config.maxNote=m,n==null||n({minNote:u,maxNote:m})},min:0,max:127,step:1,className:"w-full"}),i.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[i.jsx("span",{children:"C-1 (0)"}),i.jsx("span",{children:"C4 (60)"}),i.jsx("span",{children:"G9 (127)"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4 pt-3 border-t border-gray-700",children:[i.jsxs("div",{children:[i.jsx(ve,{className:"text-xs text-gray-400 mb-1 block",children:"Min MIDI"}),i.jsx(rt,{type:"number",min:"0",max:"127",value:s,onChange:c=>{const u=Math.max(0,Math.min(127,parseInt(c.target.value)||0)),m=Math.min(u,a);t.config.minNote=m,n==null||n({minNote:m})},className:"bg-gray-800/50 border-white/20 backdrop-blur-sm text-xs h-8"})]}),i.jsxs("div",{children:[i.jsx(ve,{className:"text-xs text-gray-400 mb-1 block",children:"Max MIDI"}),i.jsx(rt,{type:"number",min:"0",max:"127",value:a,onChange:c=>{const u=Math.max(0,Math.min(127,parseInt(c.target.value)||127)),m=Math.max(u,s);t.config.maxNote=m,n==null||n({maxNote:m})},className:"bg-gray-800/50 border-white/20 backdrop-blur-sm text-xs h-8"})]})]})]}),i.jsx("div",{className:"pt-2 border-t border-white/10",children:i.jsxs("div",{className:"text-xs text-gray-400",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Range:"}),i.jsxs("span",{className:"font-mono",children:[l[s]," - ",l[a]]})]}),i.jsxs("div",{className:"flex justify-between mt-1",children:[i.jsx("span",{children:"MIDI:"}),i.jsxs("span",{className:"font-mono",children:[s," - ",a]})]}),i.jsxs("div",{className:"flex justify-between mt-1",children:[i.jsx("span",{children:"Notes:"}),i.jsxs("span",{className:"font-mono",children:[a-s+1," notes"]})]})]})})]})]})]})}processMidiMessage(t,n){var s,a;const r=this.useInstanceData({config:{}}),o=mn.parseMidiMessage(t.data);if(o.type==="noteOn"||o.type==="noteOff"){if(o.dataBytes.length<1)return null;const l=o.dataBytes[0],c=((s=r.config)==null?void 0:s.minNote)??0,u=((a=r.config)==null?void 0:a.maxNote)??127;if(l<c||l>u)return null}return{message:t,targetPorts:["midi_out"]}}renderContent(t,n){const r=this.useInstanceData({config:{}});r.config=t.config;const o=t.config.minNote??0,s=t.config.maxNote??127,a=nn.getNoteNames();return i.jsxs("div",{className:"space-y-3",onMouseDown:l=>l.stopPropagation(),children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Note Range"}),i.jsxs("div",{className:"text-sm font-mono text-blue-300 font-semibold",children:[a[o]," - ",a[s]]}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["MIDI ",o,"-",s," (",s-o+1," notes)"]})]}),i.jsxs("div",{className:"px-2",onMouseDown:l=>l.stopPropagation(),children:[i.jsx(Ca,{value:[o,s],onValueChange:l=>{const[c,u]=l;t.config.minNote=c,t.config.maxNote=u},min:0,max:127,step:1,className:"w-full opacity-90"}),i.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[i.jsx("span",{children:"0"}),i.jsx("span",{children:"64"}),i.jsx("span",{children:"127"})]})]})]})}};nn.title="Note Filter",nn.icon="filter",nn.description="Filter MIDI notes by allowed range, pass other messages unchanged",nn.width=240,nn.height=140,nn.color="blue",nn.portConfig={inputs:[{name:"midi_in",label:"MIDI In"}],outputs:[{name:"midi_out",label:"MIDI Out"}]};let wu=nn;const Yx=Object.freeze(Object.defineProperty({__proto__:null,NoteFilterBlock:wu},Symbol.toStringTag,{value:"Module"})),On=class On extends be{static getDefaultConfig(){return{channel:-1,mode:"min"}}static renderHeaderButtons(t,n){const[r,o]=d.useState(!1),[,s]=d.useState({}),a=t.config.channel??-1,l=t.config.mode||"min";return i.jsxs(vt,{open:r,onOpenChange:c=>{o(c),be.setConfigModalOpen(c)},children:[i.jsx(Kt,{asChild:!0,children:i.jsx("button",{className:"text-gray-400 hover:text-gray-200 text-xs transition-colors p-2 -m-2 touch-manipulation",onClick:c=>c.stopPropagation(),onTouchStart:c=>c.stopPropagation(),onTouchEnd:c=>c.stopPropagation(),style:{touchAction:"manipulation"},children:i.jsx(Wt,{className:"w-3 h-3"})})}),i.jsxs(at,{className:"glass-panel border border-white/20 backdrop-blur-xl bg-gray-700/60 max-w-md",onInteractOutside:c=>c.preventDefault(),onMouseDown:c=>c.stopPropagation(),onMouseMove:c=>c.stopPropagation(),onMouseUp:c=>c.stopPropagation(),onTouchStart:c=>c.stopPropagation(),onTouchMove:c=>c.stopPropagation(),onTouchEnd:c=>c.stopPropagation(),children:[i.jsx(lt,{children:i.jsx(ct,{className:"text-gray-100",children:"Note Min/Max Configuration"})}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{children:[i.jsx(ve,{className:"text-sm text-gray-300 mb-2 block",children:"MIDI Channel"}),i.jsxs(ht,{value:String(a),onValueChange:c=>{const u=c==="-1"?-1:parseInt(c);t.config.channel=u,n==null||n({channel:u}),s({})},children:[i.jsx(ot,{className:"bg-gray-800/50 border-white/20 backdrop-blur-sm",children:i.jsx(gt,{})}),i.jsxs(st,{children:[i.jsx(Le,{value:"-1",children:"Any Channel"}),Array.from({length:16},(c,u)=>u+1).map(c=>i.jsxs(Le,{value:String(c),children:["Channel ",c]},c))]})]})]}),i.jsxs("div",{children:[i.jsx(ve,{className:"text-sm text-gray-300 mb-2 block",children:"Filter Mode"}),i.jsxs(ht,{value:l,onValueChange:c=>{t.config.mode=c,n==null||n({mode:c}),s({})},children:[i.jsx(ot,{className:"bg-gray-800/50 border-white/20 backdrop-blur-sm",children:i.jsx(gt,{})}),i.jsxs(st,{children:[i.jsx(Le,{value:"min",children:"Keep Lowest Note"}),i.jsx(Le,{value:"max",children:"Keep Highest Note"})]})]})]}),i.jsxs("div",{className:"text-xs text-gray-400 p-3 bg-gray-800/30 rounded",children:[i.jsx("div",{className:"font-medium mb-1",children:"How it works:"}),i.jsxs("div",{children:["When multiple notes are active, this block will send note-off messages to all notes except the ",l==="min"?"lowest":"highest"," one, creating monophonic playback from polyphonic input."]})]}),i.jsx("div",{className:"flex justify-end pt-3 border-t border-white/10",children:i.jsx("button",{onClick:()=>o(!1),className:"px-4 py-1.5 text-sm bg-amber-500 hover:bg-amber-600 text-white rounded transition-colors font-medium",children:"OK"})})]})]})]})}processMidiMessage(t,n){var p,C;const r=this.useInstanceData({physicallyHeld:new Map,sustainedNotes:new Map,sustainPedalActive:!1,currentPlayingNote:null,config:{}}),o=mn.parseMidiMessage(t.data),s=((p=r.config)==null?void 0:p.channel)??-1,a=((C=r.config)==null?void 0:C.mode)||"min",l=(o.status&15)+1,c=s===-1||l===s,u=()=>{const x=new Map(r.physicallyHeld);return Array.from(r.sustainedNotes.entries()).forEach(([v,y])=>{x.has(v)||x.set(v,y)}),x},m=()=>{const x=u();if(x.size===0)return null;const h=Array.from(x.keys());return a==="min"?Math.min(...h):Math.max(...h)},f=(x,h,v)=>{const y=[];if(x!==null&&y.push({data:new Uint8Array([128|l-1,x,64]),timestamp:v}),h!==null){const w=u().get(h);y.push({data:new Uint8Array([144|l-1,h,(w==null?void 0:w.velocity)||64]),timestamp:v})}return y};if(o.type==="controlChange"&&o.dataBytes[0]===64){const h=o.dataBytes[1]>=64,v=[];if(h&&!r.sustainPedalActive)r.sustainPedalActive=!0,r.sustainedNotes=new Map(r.physicallyHeld);else if(!h&&r.sustainPedalActive){r.sustainPedalActive=!1,r.sustainedNotes.clear();const y=r.currentPlayingNote,g=m();y!==g&&(v.push(...f(y,g,t.timestamp)),r.currentPlayingNote=g)}return v.length>0?{messages:[t,...v],targetPorts:["midi_out"]}:{message:t,targetPorts:["midi_out"]}}else if(o.type==="noteOn"&&o.dataBytes[1]>0){if(!c)return{message:t,targetPorts:["midi_out"]};const x=o.dataBytes[0],h=o.dataBytes[1];r.physicallyHeld.set(x,{velocity:h,timestamp:Date.now()}),r.sustainPedalActive&&r.sustainedNotes.set(x,{velocity:h,timestamp:Date.now()});const v=r.currentPlayingNote,y=m();if(v!==y){const g=f(v,y,t.timestamp);return r.currentPlayingNote=y,{messages:g,targetPorts:["midi_out"]}}return null}else if(o.type==="noteOff"||o.type==="noteOn"&&o.dataBytes[1]===0){if(!c)return{message:t,targetPorts:["midi_out"]};const x=o.dataBytes[0];r.physicallyHeld.delete(x),r.sustainPedalActive||r.sustainedNotes.delete(x);const h=r.currentPlayingNote,v=m();if(h!==v){const y=f(h,v,t.timestamp);return r.currentPlayingNote=v,{messages:y,targetPorts:["midi_out"]}}return null}else return{message:t,targetPorts:["midi_out"]}}renderContent(t,n){const r=this.useInstanceData({physicallyHeld:new Map,sustainedNotes:new Map,sustainPedalActive:!1,currentPlayingNote:null,config:t.config});r.config=t.config;const o=t.config.channel??-1,s=t.config.mode||"min";d.useEffect(()=>{const f=setInterval(()=>{const p=Date.now(),C=3e4;Array.from(r.physicallyHeld.entries()).forEach(([x,h])=>{p-h.timestamp>C&&(r.physicallyHeld.delete(x),r.currentPlayingNote===x&&(r.currentPlayingNote=null))}),Array.from(r.sustainedNotes.entries()).forEach(([x,h])=>{p-h.timestamp>C&&r.sustainedNotes.delete(x)})},5e3);return()=>clearInterval(f)},[r]);const a=Array.from(r.physicallyHeld.keys()),l=Array.from(r.sustainedNotes.keys()),u=new Set([...a,...l]).size,m=r.currentPlayingNote;return i.jsxs("div",{className:"space-y-3 h-full flex flex-col",onMouseDown:f=>f.stopPropagation(),children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-xs text-gray-300 mb-1",children:["Keep ",s==="min"?"Lowest":"Highest"," Note"]}),i.jsx("div",{className:"text-xs text-gray-400",children:o===-1?"Any Channel":`Channel ${o}`})]}),i.jsx("div",{className:"bg-gray-800/30 rounded p-3 flex-1 flex flex-col justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-sm text-gray-300 mb-2",children:["Active Notes: ",u]}),u===0?i.jsx("div",{className:"text-xs text-gray-400",children:"No notes active"}):m!==null?i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"text-sm font-mono text-amber-300",children:["Playing: ",m]}),i.jsxs("div",{className:"text-xs text-gray-400 space-y-1",children:[a.length>0&&i.jsxs("div",{children:["Physical: ",a.join(", ")]}),r.sustainPedalActive&&l.length>0&&i.jsxs("div",{children:["Sustained: ",l.join(", ")]})]})]}):i.jsx("div",{className:"text-xs text-gray-400",children:"Processing..."})]})}),i.jsx("div",{className:"text-center",children:i.jsxs("div",{className:"text-xs text-amber-400 font-medium",children:[s==="min"?" MIN":" MAX"," MODE"]})})]})}};On.title="Note Min/Max",On.icon="filter",On.description="Filter polyphonic notes to keep only min or max note",On.width=240,On.height=160,On.color="amber",On.portConfig={inputs:[{name:"midi_in",label:"MIDI In"}],outputs:[{name:"midi_out",label:"MIDI Out"}]};let Cu=On;const Gx=Object.freeze(Object.defineProperty({__proto__:null,NoteMinMaxBlock:Cu},Symbol.toStringTag,{value:"Module"})),ql={chromatic:{name:"Chromatic",notes:[0,1,2,3,4,5,6,7,8,9,10,11]},major:{name:"Major",notes:[0,2,4,5,7,9,11]},minor:{name:"Natural Minor",notes:[0,2,3,5,7,8,10]},harmonic_minor:{name:"Harmonic Minor",notes:[0,2,3,5,7,8,11]},melodic_minor:{name:"Melodic Minor",notes:[0,2,3,5,7,9,11]},dorian:{name:"Dorian",notes:[0,2,3,5,7,9,10]},phrygian:{name:"Phrygian",notes:[0,1,3,5,7,8,10]},lydian:{name:"Lydian",notes:[0,2,4,6,7,9,11]},mixolydian:{name:"Mixolydian",notes:[0,2,4,5,7,9,10]},locrian:{name:"Locrian",notes:[0,1,3,5,6,8,10]},pentatonic_major:{name:"Pentatonic Major",notes:[0,2,4,7,9]},pentatonic_minor:{name:"Pentatonic Minor",notes:[0,3,5,7,10]},blues:{name:"Blues",notes:[0,3,5,6,7,10]},whole_tone:{name:"Whole Tone",notes:[0,2,4,6,8,10]},diminished:{name:"Diminished",notes:[0,2,3,5,6,8,9,11]}},Ni=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],_n=class _n extends be{static getDefaultConfig(){return{selectedScale:"major",rootNote:0,customNotes:[0,2,4,5,7,9,11]}}processMidiMessage(t,n){const r=this.useInstanceData({selectedScale:"major",rootNote:0,customNotes:[0,2,4,5,7,9,11],playingNotes:new Set}),o=mn.parseMidiMessage(t.data);if((o.type==="noteOn"||o.type==="noteOff")&&o.dataBytes.length>=1){const s=o.dataBytes[0],a=this.quantizeNote(s,r.customNotes,r.rootNote),l=a%12;o.type==="noteOn"&&o.dataBytes[1]>0?r.playingNotes.add(l):(o.type==="noteOff"||o.dataBytes[1]===0)&&r.playingNotes.delete(l);const c=new Uint8Array(t.data);return c[1]=a,{message:{...t,data:c},targetPorts:["midi_out"]}}return{message:t,targetPorts:["midi_out"]}}quantizeNote(t,n,r=0){const o=Math.floor(t/12),s=t%12,a=n.map(u=>(u+r)%12);let l=a[0],c=Math.abs(s-l);for(const u of a){const m=Math.abs(s-u);m<c&&(c=m,l=u)}return o*12+l}toggleNote(t,n,r){const o=[...n.customNotes];if(o.includes(t)){const a=o.indexOf(t);o.splice(a,1)}else o.push(t),o.sort((a,l)=>a-l);n.customNotes=o,r.config.customNotes=o}renderKeyboard(t,n){const r=[0,2,4,5,7,9,11],o=[1,3,6,8,10],s=[14,42,98,126,154],a=24,l=60,c=40,u=a*7,f=t.customNotes.map(p=>(p+t.rootNote)%12);return i.jsxs("svg",{width:u,height:l,className:"border border-gray-600 rounded",children:[r.map((p,C)=>{const x=f.includes(p),h=t.playingNotes&&t.playingNotes.has(p);let v="#f3f4f6";return h?v="#fbbf24":x&&(v="#8b5cf6"),i.jsx("rect",{x:C*a,y:0,width:a-1,height:l,fill:v,stroke:h?"#f59e0b":"#d1d5db",strokeWidth:h?2:1,className:"cursor-pointer hover:fill-purple-200",onClick:()=>{const y=(p-t.rootNote+12)%12;this.toggleNote(y,t,n)}},`white-${p}`)}),o.map((p,C)=>{const x=f.includes(p),h=t.playingNotes&&t.playingNotes.has(p);let v="#374151";return h?v="#f59e0b":x&&(v="#7c3aed"),i.jsx("rect",{x:s[C],y:0,width:a-8,height:c,fill:v,stroke:h?"#d97706":"#6b7280",strokeWidth:h?2:1,className:"cursor-pointer hover:fill-purple-400",onClick:()=>{const y=(p-t.rootNote+12)%12;this.toggleNote(y,t,n)}},`black-${p}`)}),r.map((p,C)=>{const x=f.includes(p),h=t.playingNotes&&t.playingNotes.has(p);let v="#6b7280";return h?v="#1f2937":x&&(v="#ffffff"),i.jsx("text",{x:C*a+a/2,y:l-8,textAnchor:"middle",fontSize:"10",fill:v,className:"pointer-events-none select-none",children:Ni[p]},`label-white-${p}`)}),o.map((p,C)=>{const x=f.includes(p),h=t.playingNotes&&t.playingNotes.has(p);let v="#d1d5db";return h?v="#1f2937":x&&(v="#ffffff"),i.jsx("text",{x:s[C]+(a-8)/2,y:c-8,textAnchor:"middle",fontSize:"8",fill:v,className:"pointer-events-none select-none",children:Ni[p]},`label-black-${p}`)})]})}renderContent(t,n){var m;const r=this.useInstanceData({selectedScale:t.config.selectedScale||"major",rootNote:t.config.rootNote||0,customNotes:t.config.customNotes||[0,2,4,5,7,9,11],playingNotes:new Set}),[o,s]=d.useState(r.selectedScale),[a,l]=d.useState(r.rootNote),c=f=>{const p=ql[f];p&&(r.selectedScale=f,r.customNotes=[...p.notes],s(f),t.config.selectedScale=f,t.config.customNotes=[...p.notes])},u=f=>{const p=parseInt(f);r.rootNote=p,l(p),t.config.rootNote=p};return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(ve,{htmlFor:"scale-select",className:"text-xs text-gray-300",children:"Scale"}),i.jsxs(ht,{value:o,onValueChange:c,children:[i.jsx(ot,{className:"h-7 text-xs bg-gray-800 border-gray-600",children:i.jsx(gt,{})}),i.jsx(st,{className:"bg-gray-800 border-gray-600",children:Object.entries(ql).map(([f,p])=>i.jsx(Le,{value:f,className:"text-xs",children:p.name},f))})]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(ve,{htmlFor:"root-select",className:"text-xs text-gray-300",children:"Root Note"}),i.jsxs(ht,{value:a.toString(),onValueChange:u,children:[i.jsx(ot,{className:"h-7 text-xs bg-gray-800 border-gray-600",children:i.jsx(gt,{})}),i.jsx(st,{className:"bg-gray-800 border-gray-600",children:Ni.map((f,p)=>i.jsx(Le,{value:p.toString(),className:"text-xs",children:f},p))})]})]})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-xs text-gray-400",children:[(m=ql[r.selectedScale])==null?void 0:m.name," in ",Ni[r.rootNote]]}),i.jsxs("div",{className:"text-sm font-mono text-purple-300 font-semibold",children:[r.customNotes.length," notes active"]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(ve,{className:"text-xs text-gray-300",children:"Scale Notes (Click to toggle)"}),i.jsx("div",{className:"flex justify-center",children:this.renderKeyboard(r,t)})]})]})}};_n.title="Note Quantiser",_n.icon="piano",_n.description="Quantize MIDI notes to a selected musical scale",_n.width=280,_n.height=200,_n.color="purple",_n.portConfig={inputs:[{name:"midi_in",label:"MIDI In"}],outputs:[{name:"midi_out",label:"MIDI Out"}]};let bu=_n;const Xx=Object.freeze(Object.defineProperty({__proto__:null,QuantizerBlock:bu},Symbol.toStringTag,{value:"Module"}));var tf="Switch",[rj,nk]=qn(tf),[oj,sj]=rj(tf),Qx=d.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:o,defaultChecked:s,required:a,disabled:l,value:c="on",onCheckedChange:u,form:m,...f}=e,[p,C]=d.useState(null),x=Pe(t,w=>C(w)),h=d.useRef(!1),v=p?m||!!p.closest("form"):!0,[y=!1,g]=Wr({prop:o,defaultProp:s,onChange:u});return i.jsxs(oj,{scope:n,checked:y,disabled:l,children:[i.jsx(ge.button,{type:"button",role:"switch","aria-checked":y,"aria-required":a,"data-state":Jx(y),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onClick:ce(e.onClick,w=>{g(b=>!b),v&&(h.current=w.isPropagationStopped(),h.current||w.stopPropagation())})}),v&&i.jsx(ij,{control:p,bubbles:!h.current,name:r,value:c,checked:y,required:a,disabled:l,form:m,style:{transform:"translateX(-100%)"}})]})});Qx.displayName=tf;var qx="SwitchThumb",Zx=d.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,o=sj(qx,n);return i.jsx(ge.span,{"data-state":Jx(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:t})});Zx.displayName=qx;var ij=e=>{const{control:t,checked:n,bubbles:r=!0,...o}=e,s=d.useRef(null),a=tl(n),l=Qa(t);return d.useEffect(()=>{const c=s.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(a!==n&&f){const p=new Event("click",{bubbles:r});f.call(c,n),c.dispatchEvent(p)}},[a,n,r]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:s,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Jx(e){return e?"checked":"unchecked"}var ev=Qx,aj=Zx;const il=d.forwardRef(({className:e,...t},n)=>i.jsx(ev,{className:we("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:i.jsx(aj,{className:we("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));il.displayName=ev.displayName;const An=class An extends be{static getDefaultConfig(){return{transposition:0,maxRange:12,notesAndPitchbendOnly:!1}}static renderHeaderButtons(t){const[n,r]=d.useState(!1);return i.jsxs(vt,{open:n,onOpenChange:o=>{r(o),be.setConfigModalOpen(o)},children:[i.jsx(Kt,{asChild:!0,children:i.jsx("button",{className:"text-gray-400 hover:text-gray-200 text-xs transition-colors p-2 -m-2 touch-manipulation",onClick:o=>o.stopPropagation(),onTouchStart:o=>o.stopPropagation(),onTouchEnd:o=>o.stopPropagation(),style:{touchAction:"manipulation"},children:i.jsx(Wt,{className:"w-3 h-3"})})}),i.jsxs(at,{className:"glass-panel border border-white/20 backdrop-blur-xl bg-gray-700/60",onInteractOutside:o=>o.preventDefault(),onMouseDown:o=>o.stopPropagation(),onMouseMove:o=>o.stopPropagation(),onMouseUp:o=>o.stopPropagation(),onTouchStart:o=>o.stopPropagation(),onTouchMove:o=>o.stopPropagation(),onTouchEnd:o=>o.stopPropagation(),children:[i.jsx(lt,{children:i.jsx(ct,{className:"text-gray-100",children:"Transpose Configuration"})}),i.jsxs("div",{className:"grid grid-cols-1 gap-4 py-4",children:[i.jsxs("div",{children:[i.jsx(ve,{className:"text-sm text-gray-300 mb-2 block",children:"Max Range (semitones)"}),i.jsx(rt,{type:"number",min:"1",max:"127",value:t.config.maxRange||12,onChange:o=>{const s=parseInt(o.target.value)||12;t.config.maxRange=Math.max(1,Math.min(127,s));const a=t.config.transposition||0,l=Math.max(-t.config.maxRange,Math.min(t.config.maxRange,a));l!==a&&(t.config.transposition=l)},className:"bg-gray-800/50 border-white/20 backdrop-blur-sm"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(ve,{className:"text-sm text-gray-300",children:"Notes & Pitchbend Only"}),i.jsx("p",{className:"text-xs text-gray-400",children:"Allow only note on/off and pitchbend messages"})]}),i.jsx(il,{checked:t.config.notesAndPitchbendOnly||!1,onCheckedChange:o=>{t.config.notesAndPitchbendOnly=o}})]})]})]})]})}processMidiMessage(t,n){const r=this.useInstanceData({transposition:0,maxRange:12,notesAndPitchbendOnly:!1}),o=mn.parseMidiMessage(t.data);if(r.notesAndPitchbendOnly&&o.type!=="noteOn"&&o.type!=="noteOff"&&o.type!=="pitchBend")return null;if((o.type==="noteOn"||o.type==="noteOff")&&o.dataBytes.length>=1){const s=o.dataBytes[0],a=Math.max(0,Math.min(127,s+r.transposition)),l=new Uint8Array(t.data);return l[1]=a,{message:{...t,data:l},targetPorts:["midi_out"]}}return{message:t,targetPorts:["midi_out"]}}renderContent(t,n){const r=this.useInstanceData({transposition:t.config.transposition||0,maxRange:t.config.maxRange||12,notesAndPitchbendOnly:t.config.notesAndPitchbendOnly||!1}),[o,s]=d.useState(r.transposition),a=c=>{const u=Math.max(-r.maxRange,Math.min(r.maxRange,c));r.transposition=u,s(u),t.config.transposition=u},l=c=>c===0?"0 (no change)":`${c>0?"+":""}${c} semitone${Math.abs(c)!==1?"s":""}`;return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Transposition"}),i.jsx("div",{className:"text-sm font-mono text-orange-300 font-semibold",children:l(r.transposition)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{htmlFor:"transpose-slider",className:"text-xs text-gray-300",children:"Amount"}),i.jsx("input",{id:"transpose-slider",type:"range",min:-r.maxRange,max:r.maxRange,value:o,onChange:c=>a(parseInt(c.target.value)),onMouseDown:c=>c.stopPropagation(),onMouseMove:c=>c.stopPropagation(),onMouseUp:c=>c.stopPropagation(),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider-orange",style:{background:o===0?"#374151":o>0?`linear-gradient(to right, #374151 0%, #374151 50%, #f97316 50%, #f97316 ${50+o/r.maxRange*50}%, #374151 ${50+o/r.maxRange*50}%, #374151 100%)`:`linear-gradient(to right, #374151 0%, #374151 ${50+o/r.maxRange*50}%, #f97316 ${50+o/r.maxRange*50}%, #f97316 50%, #374151 50%, #374151 100%)`}}),i.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[i.jsxs("span",{children:["-",r.maxRange]}),i.jsx("span",{children:"0"}),i.jsxs("span",{children:["+",r.maxRange]})]})]})]})}};An.title="Note Transpose",An.icon="piano",An.description="Transpose MIDI note messages by a configurable amount of semitones",An.width=220,An.height=160,An.color="orange",An.portConfig={inputs:[{name:"midi_in",label:"MIDI In"}],outputs:[{name:"midi_out",label:"MIDI Out"}]};let Su=An;const tv=Object.freeze(Object.defineProperty({__proto__:null,TransposeBlock:Su},Symbol.toStringTag,{value:"Module"}));var nf="Checkbox",[lj,rk]=qn(nf),[cj,uj]=lj(nf),nv=d.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:o,defaultChecked:s,required:a,disabled:l,value:c="on",onCheckedChange:u,form:m,...f}=e,[p,C]=d.useState(null),x=Pe(t,b=>C(b)),h=d.useRef(!1),v=p?m||!!p.closest("form"):!0,[y=!1,g]=Wr({prop:o,defaultProp:s,onChange:u}),w=d.useRef(y);return d.useEffect(()=>{const b=p==null?void 0:p.form;if(b){const N=()=>g(w.current);return b.addEventListener("reset",N),()=>b.removeEventListener("reset",N)}},[p,g]),i.jsxs(cj,{scope:n,state:y,disabled:l,children:[i.jsx(ge.button,{type:"button",role:"checkbox","aria-checked":vr(y)?"mixed":y,"aria-required":a,"data-state":sv(y),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onKeyDown:ce(e.onKeyDown,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:ce(e.onClick,b=>{g(N=>vr(N)?!0:!N),v&&(h.current=b.isPropagationStopped(),h.current||b.stopPropagation())})}),v&&i.jsx(dj,{control:p,bubbles:!h.current,name:r,value:c,checked:y,required:a,disabled:l,form:m,style:{transform:"translateX(-100%)"},defaultChecked:vr(s)?!1:s})]})});nv.displayName=nf;var rv="CheckboxIndicator",ov=d.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...o}=e,s=uj(rv,n);return i.jsx(Zr,{present:r||vr(s.state)||s.state===!0,children:i.jsx(ge.span,{"data-state":sv(s.state),"data-disabled":s.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});ov.displayName=rv;var dj=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:o,...s}=e,a=d.useRef(null),l=tl(n),c=Qa(t);d.useEffect(()=>{const m=a.current,f=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&C){const x=new Event("click",{bubbles:r});m.indeterminate=vr(n),C.call(m,vr(n)?!1:n),m.dispatchEvent(x)}},[l,n,r]);const u=d.useRef(vr(n)?!1:n);return i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:o??u.current,...s,tabIndex:-1,ref:a,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function vr(e){return e==="indeterminate"}function sv(e){return vr(e)?"indeterminate":e?"checked":"unchecked"}var iv=nv,fj=ov;const Nu=d.forwardRef(({className:e,...t},n)=>i.jsx(iv,{ref:n,className:we("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:i.jsx(fj,{className:we("flex items-center justify-center text-current"),children:i.jsx(cy,{className:"h-4 w-4"})})}));Nu.displayName=iv.displayName;const Ln=class Ln extends be{static getDefaultConfig(){return{allowedChannels:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}}static renderHeaderButtons(t){const[n,r]=d.useState(!1),[,o]=d.useState({}),s=a=>{var u;t.config.allowedChannels=a;const l=JSON.parse(localStorage.getItem("midi-router-canvas-state")||"{}"),c=(u=l.blocks)==null?void 0:u.findIndex(m=>m.id===t.id);c>=0&&(l.blocks[c].config.allowedChannels=a,localStorage.setItem("midi-router-canvas-state",JSON.stringify(l))),o({})};return i.jsxs(vt,{open:n,onOpenChange:a=>{r(a),be.setConfigModalOpen(a)},children:[i.jsx(Kt,{asChild:!0,children:i.jsx("button",{className:"text-gray-400 hover:text-gray-200 text-xs transition-colors p-2 -m-2 touch-manipulation",onClick:a=>a.stopPropagation(),onTouchStart:a=>a.stopPropagation(),onTouchEnd:a=>a.stopPropagation(),style:{touchAction:"manipulation"},children:i.jsx(Wt,{className:"w-3 h-3"})})}),i.jsxs(at,{className:"glass-panel border border-white/20 backdrop-blur-xl bg-gray-700/60 max-w-md",onInteractOutside:a=>a.preventDefault(),onMouseDown:a=>a.stopPropagation(),onMouseMove:a=>a.stopPropagation(),onMouseUp:a=>a.stopPropagation(),onTouchStart:a=>a.stopPropagation(),onTouchMove:a=>a.stopPropagation(),onTouchEnd:a=>a.stopPropagation(),children:[i.jsx(lt,{children:i.jsx(ct,{className:"text-gray-100",children:"Channel Filter Settings"})}),i.jsxs("div",{className:"py-4",children:[i.jsx("div",{className:"text-sm text-gray-300 mb-4",children:"These are the allowed channels. Only MIDI messages on checked channels will pass through."}),i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsx("div",{className:"space-y-2",children:Array.from({length:8},(a,l)=>l+1).map(a=>{const l=t.config.allowedChannels||[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],c=l.includes(a);return i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Nu,{id:`channel-${a}`,checked:c,onCheckedChange:u=>{const m=u?[...l.filter(f=>f!==a),a]:l.filter(f=>f!==a);s(m)},className:"text-white"}),i.jsxs("label",{htmlFor:`channel-${a}`,className:"text-sm text-gray-200 cursor-pointer",children:["Channel ",a]})]},a)})}),i.jsx("div",{className:"space-y-2",children:Array.from({length:8},(a,l)=>l+9).map(a=>{const l=t.config.allowedChannels||[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],c=l.includes(a);return i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Nu,{id:`channel-${a}`,checked:c,onCheckedChange:u=>{const m=u?[...l.filter(f=>f!==a),a]:l.filter(f=>f!==a);s(m)},className:"text-white"}),i.jsxs("label",{htmlFor:`channel-${a}`,className:"text-sm text-gray-200 cursor-pointer",children:["Channel ",a]})]},a)})})]}),i.jsxs("div",{className:"flex gap-2 mt-6",children:[i.jsx("div",{className:"flex-1",children:i.jsx("button",{onClick:()=>s([1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]),className:"w-full px-3 py-1.5 text-sm bg-slate-500 hover:bg-slate-600 text-white rounded transition-colors",children:"All"})}),i.jsx("div",{className:"flex-1",children:i.jsx("button",{onClick:()=>s([]),className:"w-full px-3 py-1.5 text-sm bg-red-500 hover:bg-red-600 text-white rounded transition-colors",children:"None"})}),i.jsx("div",{className:"flex-1",children:i.jsx("button",{onClick:()=>s([1,2,3,4,5,6,7,8]),className:"w-full px-3 py-1.5 text-sm bg-blue-500 hover:bg-blue-600 text-white rounded transition-colors",children:"1-8"})}),i.jsx("div",{className:"flex-1",children:i.jsx("button",{onClick:()=>s([9,10,11,12,13,14,15,16]),className:"w-full px-3 py-1.5 text-sm bg-purple-500 hover:bg-purple-600 text-white rounded transition-colors",children:"9-16"})})]}),i.jsx("div",{className:"flex justify-end mt-6",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>r(!1),className:"px-4 py-1.5 text-sm bg-gray-500 hover:bg-gray-600 text-white rounded transition-colors font-medium",children:"Cancel"}),i.jsx("button",{onClick:()=>r(!1),className:"px-4 py-1.5 text-sm bg-emerald-500 hover:bg-emerald-600 text-white rounded transition-colors font-medium",children:"OK"})]})})]})]})]})}processMidiMessage(t,n){var l;const r=this.useInstanceData({lastMessage:null,messageCount:0,filteredCount:0});r.lastMessage=t,r.messageCount++;const o=this.block,s=((l=o==null?void 0:o.config)==null?void 0:l.allowedChannels)||[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],a=mn.getChannel(t);return s.includes(a)?(this.triggerUpdate(),{message:t,targetPorts:["midi_out"]}):(r.filteredCount++,this.triggerUpdate(),null)}renderContent(t,n){const r=this.useInstanceData({lastMessage:null,messageCount:0,filteredCount:0}),o=t.config.allowedChannels||[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],s=[];let a=null,l=null;for(let u=1;u<=16;u++)o.includes(u)?(a===null&&(a=u),l=u):a!==null&&(s.push(a===l?`${a}`:`${a}-${l}`),a=null,l=null);a!==null&&s.push(a===l?`${a}`:`${a}-${l}`);const c=s.length===0?"None":s.length>3?`${s.slice(0,3).join(", ")}...`:s.join(", ");return i.jsxs("div",{className:"flex flex-col h-full justify-center items-center p-3",children:[i.jsxs("div",{className:"text-xs text-gray-300 mb-2 font-semibold text-center",children:["Channels: ",c]}),i.jsx("div",{className:"text-xs text-gray-200 text-center",children:r.messageCount>0?i.jsxs("div",{children:[i.jsxs("div",{children:["Passed: ",r.messageCount-r.filteredCount]}),i.jsxs("div",{children:["Filtered: ",r.filteredCount]})]}):i.jsx("span",{className:"text-gray-500",children:"No messages yet"})})]})}};Ln.title="Channel Filter",Ln.icon="filter",Ln.description="Filter MIDI messages by channel - only allow specified channels to pass through",Ln.width=220,Ln.height=140,Ln.color="emerald",Ln.portConfig={inputs:[{name:"midi_in",label:"MIDI In"}],outputs:[{name:"midi_out",label:"MIDI Out"}]};let Pu=Ln;const av=Object.freeze(Object.defineProperty({__proto__:null,ChannelFilterBlock:Pu},Symbol.toStringTag,{value:"Module"})),_e=class _e extends be{static getDefaultConfig(){return{points:[{x:0,y:0,strength:1,id:"start"},{x:127,y:127,strength:1,id:"end"}],selectedPointId:null,inputCC:1,velocityMode:!1}}static binomial(t,n){let r=1;for(let o=1;o<=n;o++)r*=(t-o+1)/o;return r}static bernstein(t,n,r){return _e.binomial(t,n)*Math.pow(1-r,t-n)*Math.pow(r,n)}static rationalBezier(t,n,r){const o=n.length-1;let s={x:0,y:0},a=0;for(let l=0;l<=o;l++){const c=_e.bernstein(o,l,t)*r[l];s.x+=c*n[l].x,s.y+=c*n[l].y,a+=c}return{x:s.x/a,y:s.y/a}}static applyCurveTransform(t,n){if(n.length<2)return t;const r=[...n].sort((m,f)=>m.x-f.x),o=r[0],s=r[r.length-1];if(t<=o.x)return o.y;if(t>=s.x)return s.y;if(r.length===2){const m=(t-o.x)/(s.x-o.x);return Math.round(o.y+m*(s.y-o.y))}const a=r.map(m=>({x:m.x,y:m.y})),l=r.map(m=>m.strength);l[0]=1,l[l.length-1]=1;const c=(t-o.x)/(s.x-o.x),u=_e.rationalBezier(c,a,l);return Math.round(Math.max(0,Math.min(127,u.y)))}static generateLinearPath(t){if(t.length<2)return"";const r=[...t].sort((s,a)=>s.x-a.x).map(s=>({x:s.x/127*100,y:100-s.y/127*100}));let o=`M ${r[0].x},${r[0].y}`;for(let s=1;s<r.length;s++)o+=` L ${r[s].x},${r[s].y}`;return o}static generateCurvePath(t){if(t.length<2)return"M 0,100 L 100,0";const n=[...t].sort((f,p)=>f.x-p.x),r=n.map(f=>({x:f.x/127*100,y:100-f.y/127*100,strength:f.strength})),o=r[0],s=r[r.length-1];if(r.length===2)return`M ${o.x},${o.y} L ${s.x},${s.y}`;const a=100,l=[],c=n.map(f=>({x:f.x,y:f.y})),u=n.map(f=>f.strength);u[0]=1,u[u.length-1]=1;for(let f=0;f<=a;f++){const p=f/a,C=_e.rationalBezier(p,c,u),x=C.x/127*100,h=100-C.y/127*100;l.push({x:Math.max(0,Math.min(100,x)),y:Math.max(0,Math.min(100,h))})}let m=`M ${o.x},${o.y}`;for(let f=1;f<l.length-1;f+=2){const p=l[f],C=l[Math.min(f+1,l.length-1)];m+=` Q ${p.x},${p.y} ${C.x},${C.y}`}return m+=` L ${s.x},${s.y}`,m}renderContent(t,n){t.config||(t.config=_e.getDefaultConfig());const r=this.useInstanceData({blockConfig:_e.getDefaultConfig(),lastInputValue:null,lastOutputValue:null,isDragging:!1,dragPointId:null,dragCoordinates:null});r.blockConfig={...t.config};const o=t.config.points||_e.getDefaultConfig().points,s=t.config.selectedPointId;t.config.inputCC;const a=(C,x)=>{x.preventDefault(),x.stopPropagation(),t.config.selectedPointId=C},l=(C,x)=>{if(r.isDragging)return;const h=x.currentTarget.closest("svg");if(!h)return;const v=h.getBoundingClientRect();if(!o.find(b=>b.id===C))return;r.isDragging=!0,r.dragPointId=C;const g=b=>{const N=(b.clientX-v.left)/v.width*100,S=(b.clientY-v.top)/v.height*100,P=N/100*127,j=127-S/100*127,D=o.map(M=>{if(M.id===C){let A=M.x,T=Math.max(0,Math.min(127,j));return C!=="start"&&C!=="end"&&(A=Math.max(1,Math.min(126,P))),r.dragCoordinates={x:Math.round(A),y:Math.round(T)},{...M,x:A,y:T}}return M});t.config.points=D},w=()=>{r.isDragging=!1,r.dragPointId=null,r.dragCoordinates=null,document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",w)};document.addEventListener("mousemove",g),document.addEventListener("mouseup",w)},c=C=>{if(!s)return;const x=o.map(h=>h.id===s?{...h,strength:C[0]}:h);t.config.points=x},u=C=>{if(C==="start"||C==="end")return;const x=o.find(v=>v.id===C);if(!x)return;const h=o.filter(v=>v.id!==C);if(t.config.points=h,s===C){let v=null,y=1/0;for(const g of h){if(g.id==="start"||g.id==="end")continue;const w=Math.sqrt(Math.pow(g.x-x.x,2)+Math.pow(g.y-x.y,2));w<y&&(y=w,v=g)}t.config.selectedPointId=v?v.id:null}},f=(()=>{if(r.lastInputValue===null)return null;const C=[...o].sort((b,N)=>b.x-N.x);if(C.length<2)return null;const x=C[0],h=C[C.length-1],v=(r.lastInputValue-x.x)/(h.x-x.x),y=C.map(b=>({x:b.x,y:b.y})),g=C.map(b=>b.strength);g[0]=1,g[g.length-1]=1;const w=_e.rationalBezier(v,y,g);return{x:w.x/127*100,y:100-w.y/127*100}})(),p=s?o.find(C=>C.id===s):null;return i.jsxs("div",{className:"p-3 space-y-3",onMouseDown:C=>C.stopPropagation(),children:[i.jsxs("div",{className:"bg-muted rounded p-2",children:[i.jsxs("svg",{width:"200",height:"200",viewBox:"0 0 100 100",className:"border border-border/30 rounded-sm bg-background cursor-default",onClick:C=>{(C.target===C.currentTarget||C.target.tagName==="rect")&&(t.config.selectedPointId=null)},children:[i.jsx("defs",{children:i.jsx("pattern",{id:"grid-multi",width:"10",height:"10",patternUnits:"userSpaceOnUse",children:i.jsx("path",{d:"M 10 0 L 0 0 0 10",fill:"none",stroke:"currentColor",strokeWidth:"0.3",opacity:"0.2"})})}),i.jsx("rect",{width:"100",height:"100",fill:"url(#grid-multi)"}),o.length>2&&i.jsx("path",{d:_e.generateLinearPath(o),fill:"none",stroke:"#666666",strokeWidth:"1",strokeDasharray:"3,3",opacity:"0.5"}),i.jsx("path",{d:_e.generateCurvePath(o),fill:"none",stroke:"#8b5cf6",strokeWidth:"2",className:"drop-shadow-sm"}),o.map(C=>{const x=C.x/127*100,h=100-C.y/127*100,v=C.id==="start"||C.id==="end",y=s===C.id;return i.jsxs("g",{children:[y&&!v&&i.jsx("circle",{cx:x,cy:h,r:8,fill:"none",stroke:"#3b82f6",strokeWidth:1,opacity:.6,className:"pointer-events-none"}),i.jsx("circle",{cx:x,cy:h,r:3,fill:y&&!v?"#3b82f6":v?"#14b8a6":"#22c55e",stroke:"#000000",strokeWidth:1,className:"cursor-move drop-shadow-sm",onClick:g=>a(C.id,g),onMouseDown:g=>{g.preventDefault(),g.stopPropagation(),l(C.id,g)}}),C.strength!==.1&&i.jsx("circle",{cx:x,cy:h,r:3+(C.strength-.1)*2.6,fill:"none",stroke:v?"#14b8a6":"#22c55e",strokeWidth:"0.5",opacity:"0.5"})]},C.id)}),f&&i.jsx("circle",{cx:f.x,cy:f.y,r:"3",fill:"#f59e0b",stroke:"#ffffff",strokeWidth:"1",className:"drop-shadow-sm"}),r.isDragging&&r.dragCoordinates&&i.jsxs("g",{children:[i.jsx("rect",{x:"5",y:"5",width:"32",height:"12",fill:"rgba(0, 0, 0, 0.8)",stroke:"#22c55e",strokeWidth:"0.5",rx:"2"}),i.jsxs("text",{x:"21",y:"13",fontSize:"4",fill:"#22c55e",textAnchor:"middle",className:"font-mono",children:["(",r.dragCoordinates.x,", ",r.dragCoordinates.y,")"]})]}),i.jsx("line",{x1:"0",y1:"100",x2:"100",y2:"100",stroke:"currentColor",strokeWidth:"0.5",opacity:"0.4"}),i.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100",stroke:"currentColor",strokeWidth:"0.5",opacity:"0.4"})]}),i.jsxs("div",{className:"flex gap-2 mt-3",children:[i.jsxs("button",{onClick:()=>{if(o.length>=9)return;const C=[...o],x=[...C].sort((b,N)=>b.x-N.x);let h=0,v=64,y=64;for(let b=0;b<x.length-1;b++){const N=x[b],S=x[b+1],P=Math.sqrt(Math.pow(S.x-N.x,2)+Math.pow(S.y-N.y,2));P>h&&(h=P,v=Math.round((N.x+S.x)/2),y=Math.round((N.y+S.y)/2))}const w={x:Math.max(1,Math.min(126,v)),y,strength:1,id:`point-${Date.now()}`};t.config.points=[...C,w],t.config.selectedPointId=w.id},disabled:o.length>=9,className:"flex-1 text-xs px-3 py-1.5 bg-background border border-border rounded-md hover:bg-muted/50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:["Add (",o.length,"/9)"]}),i.jsx("button",{onClick:()=>{p&&p.id!=="start"&&p.id!=="end"&&u(p.id)},disabled:!p||p.id==="start"||p.id==="end",className:`flex-1 text-xs px-3 py-1.5 bg-background border border-border rounded-md hover:bg-destructive/10 disabled:opacity-50 disabled:cursor-not-allowed transition-colors ${!p||p.id==="start"||p.id==="end"?"text-muted-foreground":"text-red-500"}`,children:"Remove"})]})]}),i.jsx("div",{className:`rounded p-3 space-y-2 ${p?"bg-muted":"bg-muted/50"}`,children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-xs",children:[i.jsx("span",{className:p?"":"text-muted-foreground",children:"Weak"}),i.jsx("span",{className:p?"":"text-muted-foreground",children:"Strong"})]}),i.jsx(Cs,{value:p?[p.strength]:[1],onValueChange:p?c:()=>{},min:.1,max:5,step:.1,disabled:!p,className:`w-full ${p?"":"opacity-50"}`})]})}),r.lastInputValue!==null&&i.jsx("div",{className:"bg-muted rounded p-2 text-xs",children:i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{children:[t.config.velocityMode?"Velocity":"Input",": ",r.lastInputValue]}),i.jsx("span",{children:""}),i.jsxs("span",{children:[t.config.velocityMode?"Mapped":"Output",": ",r.lastOutputValue]})]})})]})}static renderHeaderButtons(t,n){var u;const[r,o]=d.useState(!1);t.config||(t.config=_e.getDefaultConfig());const s=t.config.inputCC??1;(((u=t.config)==null?void 0:u.points)||_e.getDefaultConfig().points).length<9;const l=m=>{const f={...t.config,inputCC:parseInt(m)};t.config=f,n==null||n(f)},c=[1,7,11,64,71,72,73,74,91,93];return i.jsx("div",{className:"flex gap-1 items-center",children:i.jsxs(vt,{open:r,onOpenChange:m=>{o(m),be.setConfigModalOpen(m)},children:[i.jsx(Kt,{asChild:!0,children:i.jsx("button",{className:"text-gray-400 hover:text-gray-200 text-xs transition-colors p-2 -m-2 touch-manipulation",onClick:m=>m.stopPropagation(),onTouchStart:m=>m.stopPropagation(),onTouchEnd:m=>m.stopPropagation(),style:{touchAction:"manipulation"},title:"Configure Input CC",children:i.jsx(Wt,{className:"w-3 h-3"})})}),i.jsxs(at,{className:"glass-panel border border-white/20 backdrop-blur-xl bg-gray-700/60 max-w-md",onInteractOutside:m=>m.preventDefault(),onMouseDown:m=>m.stopPropagation(),onMouseMove:m=>m.stopPropagation(),onMouseUp:m=>m.stopPropagation(),onTouchStart:m=>m.stopPropagation(),onTouchMove:m=>m.stopPropagation(),onTouchEnd:m=>m.stopPropagation(),children:[i.jsx(lt,{children:i.jsx(ct,{className:"text-gray-100",children:"Curve - Configuration"})}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(ve,{htmlFor:"velocity-mode",className:"text-sm font-medium text-gray-100",children:"Velocity Mode"}),i.jsx("div",{className:"text-xs text-gray-400",children:"Remap noteOn velocity instead of CC values"})]}),i.jsx(il,{id:"velocity-mode",checked:t.config.velocityMode??!1,onCheckedChange:m=>{const f={...t.config,velocityMode:m};t.config=f,n==null||n(f)}})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:`text-sm font-medium ${t.config.velocityMode?"text-gray-500":"text-gray-100"}`,children:"Select Input CC Number"}),i.jsxs(ht,{value:s.toString(),onValueChange:l,disabled:t.config.velocityMode??!1,children:[i.jsx(ot,{className:`w-full bg-gray-600/50 border-gray-500/50 text-gray-100 ${t.config.velocityMode?"opacity-50 cursor-not-allowed":""}`,children:i.jsx(gt,{placeholder:"Select CC..."})}),i.jsxs(st,{className:"bg-gray-700 border-gray-600 text-gray-100 max-h-60",children:[i.jsx("div",{className:"text-xs text-gray-400 px-2 py-1 font-medium",children:"Common CCs"}),c.map(m=>{const f=Ze[m];return i.jsxs(Le,{value:m.toString(),className:"text-gray-100 focus:bg-gray-600 focus:text-gray-100",children:["CC",m,": ",(f==null?void 0:f.name)||"Unknown"," (",(f==null?void 0:f.category)||"Custom",")"]},m)}),i.jsx("div",{className:"text-xs text-gray-400 px-2 py-1 font-medium border-t border-gray-600 mt-1 pt-2",children:"All CCs"}),Array.from({length:128},(m,f)=>{const p=Ze[f];return p?i.jsxs(Le,{value:f.toString(),className:"text-gray-100 focus:bg-gray-600 focus:text-gray-100",children:["CC",f,": ",p.name," (",p.category,")"]},f):null}).filter(Boolean)]})]})]}),i.jsx("div",{className:"text-xs text-gray-300 bg-gray-600/30 p-3 rounded",children:"The output CC number and MIDI channel will pass through unchanged. Only the CC value will be transformed by the curve."})]})]})]})})}processMidiMessage(t,n){const r=this.useInstanceData({blockConfig:_e.getDefaultConfig(),lastInputValue:null,lastOutputValue:null}),o=mn.parseMidiMessage(t.data),s=r.blockConfig.points||_e.getDefaultConfig().points;if(r.blockConfig.velocityMode??!1){if(o.type!=="noteOn"||o.dataBytes.length<2)return null;const l=o.dataBytes[0],c=o.dataBytes[1],u=_e.applyCurveTransform(c,s);return r.lastInputValue=c,r.lastOutputValue=u,console.log(`CC Multi (Velocity): Note ${l} velocity ${c} -> ${u} (${s.length} points)`),{message:{data:new Uint8Array([t.data[0],t.data[1],u]),timestamp:t.timestamp}}}else{if(o.type!=="controlChange"||o.dataBytes.length<2)return null;const l=o.dataBytes[0],c=o.dataBytes[1],u=r.blockConfig.inputCC??1;if(l!==u)return null;const m=_e.applyCurveTransform(c,s);return r.lastInputValue=c,r.lastOutputValue=m,console.log(`CC Multi: Input CC${l}=${c} -> Output CC${l}=${m} (${s.length} points)`),{message:{data:new Uint8Array([t.data[0],t.data[1],m]),timestamp:t.timestamp}}}}};_e.title="Curve",_e.icon="trending-up",_e.description="Transform CC values or noteOn velocity using multi-point curves with adjustable strength",_e.width=280,_e.height=380,_e.color="green",_e.portConfig={inputs:[{name:"midi_in",label:"CC In"}],outputs:[{name:"midi_out",label:"MIDI Out"}]};let ju=_e;const lv=Object.freeze(Object.defineProperty({__proto__:null,CurveBlock:ju},Symbol.toStringTag,{value:"Module"})),Zl="midi-router-selected-input-devices",Jl="midi-router-selected-output-devices";function cv(){const[e,t]=d.useState([]),[n,r]=d.useState(null),[o,s]=d.useState(!1),[a,l]=d.useState({}),[c,u]=d.useState({});d.useEffect(()=>{try{const b=localStorage.getItem(Zl);b&&l(JSON.parse(b));const N=localStorage.getItem(Jl);N&&u(JSON.parse(N))}catch(b){console.warn("Failed to load saved MIDI devices:",b)}},[]),d.useEffect(()=>{(async()=>{if(!navigator.requestMIDIAccess){console.warn("Web MIDI API not supported");return}try{const N=await navigator.requestMIDIAccess();r(N),s(!0),m(N),N.onstatechange=()=>{m(N)}}catch(N){console.error("MIDI access denied or not supported. Please use an external browser (Chrome/Edge) and grant MIDI permissions when prompted.",N),s(!1)}})()},[]);const m=d.useCallback(b=>{const N=[];b.inputs.forEach(S=>{N.push({id:S.id,name:S.name||"Unknown Device",manufacturer:S.manufacturer||"Unknown",state:S.state,type:"input"})}),b.outputs.forEach(S=>{N.push({id:S.id,name:S.name||"Unknown Device",manufacturer:S.manufacturer||"Unknown",state:S.state,type:"output"})}),t(N.sort((S,P)=>S.name.localeCompare(P.name)))},[]),f=d.useCallback(async(b,N,S)=>{if(!n)return!1;const P=n.inputs.get(b);if(!P)return console.error(`MIDI input device ${b} not found`),!1;try{P.onmidimessage=j=>{if(!j.data)return;const D={data:new Uint8Array(j.data),timestamp:j.timeStamp||performance.now(),parsed:mn.parseMidiMessage(new Uint8Array(j.data))};S(D)};try{const j={...a,[N]:b};l(j),localStorage.setItem(Zl,JSON.stringify(j))}catch(j){console.warn("Failed to save MIDI input device selection:",j)}return console.log(`Connected MIDI input block ${N} to device: ${P.name}`),!0}catch(j){return console.error(`Failed to connect to MIDI input device ${b}:`,j),!1}},[n,a]),p=d.useCallback(b=>{if(!n)return;const N=a[b];if(N){const S=n.inputs.get(N);S&&(S.onmidimessage=null,console.log(`Disconnected MIDI input block ${b} from device: ${S.name}`));try{const P={...a};delete P[b],l(P),localStorage.setItem(Zl,JSON.stringify(P))}catch(P){console.warn("Failed to clear MIDI input device selection:",P)}}},[n,a]),C=d.useCallback(async(b,N)=>{if(!n)return null;const S=n.outputs.get(b);if(!S)return console.error(`MIDI output device ${b} not found`),null;try{try{const P={...c,[N]:b};u(P),localStorage.setItem(Jl,JSON.stringify(P))}catch(P){console.warn("Failed to save MIDI output device selection:",P)}return console.log(`Connected MIDI output block ${N} to device: ${S.name}`),S}catch(P){return console.error(`Failed to connect to MIDI output device ${b}:`,P),null}},[n,c]),x=d.useCallback(b=>{if(!n)return;const N=c[b];if(N){const S=n.outputs.get(N);S&&console.log(`Disconnected MIDI output block ${b} from device: ${S.name}`);try{const P={...c};delete P[b],u(P),localStorage.setItem(Jl,JSON.stringify(P))}catch(P){console.warn("Failed to clear MIDI output device selection:",P)}}},[n,c]),h=d.useCallback(async(b,N)=>{const S=a[b];if(!S||!n)return null;const P=n.inputs.get(S);return!P||P.state!=="connected"?null:await f(S,b,N)?S:null},[a,n,f]),v=d.useCallback(async b=>{const N=c[b];if(!N||!n)return null;const S=n.outputs.get(N);return!S||S.state!=="connected"?null:await C(N,b)},[c,n,C]),y=d.useCallback(b=>a[b]||null,[a]),g=d.useCallback(b=>c[b]||null,[c]),w=d.useCallback(()=>{n&&m(n)},[n,m]);return{devices:e,isSupported:o,connectToInputDevice:f,disconnectFromInputDevice:p,connectToOutputDevice:C,disconnectFromOutputDevice:x,autoReconnectToSavedInputDevice:h,autoReconnectToSavedOutputDevice:v,getSelectedInputDevice:y,getSelectedOutputDevice:g,refreshDevices:w}}const pj=Dd("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),mt=d.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...o},s)=>{const a=r?IC:"button";return i.jsx(a,{className:we(pj({variant:t,size:n,className:e})),ref:s,...o})});mt.displayName="Button";const $n=class $n extends be{static getDefaultConfig(){return{selectedDeviceId:null,selectedDeviceName:"No device selected",isConnected:!1,messageCount:0,lastActivity:null,error:null}}renderContent(t,n){const r=mj;return i.jsx(r,{block:t})}processMidiMessage(t,n){return{message:t}}emitExternalMidiMessage(t,n){$n.portConfig.outputs.forEach(o=>{const s=`${t}-${o.name}`;this.emitMidiMessage(t,s,n)})}};$n.title="MIDI Input",$n.icon="input",$n.color="blue",$n.width=280,$n.height=180,$n.portConfig={inputs:[],outputs:[{name:"midi",label:"MIDI Out"}]};let ba=$n;function mj({block:e}){const{devices:t,isSupported:n,connectToInputDevice:r,disconnectFromInputDevice:o,autoReconnectToSavedInputDevice:s,getSelectedInputDevice:a,refreshDevices:l}=cv(),[c,u]=d.useState(a(e.id)||e.config.selectedDeviceId),[m,f]=d.useState(!1),[p,C]=d.useState(0),[x,h]=d.useState(null),[v,y]=d.useState(!1),[g,w]=d.useState(null),b=d.useCallback(M=>{C(T=>T+1),h(Date.now()),Object.create(ba.prototype).emitExternalMidiMessage(e.id,M)},[e.id]);d.useEffect(()=>{(async()=>{if(a(e.id)&&!m&&t.length>0){const T=await s(e.id,b);T&&(u(T),f(!0),C(0),w(null),console.log(`Auto-reconnected to MIDI device: ${T}`))}})()},[e.id,t,m,s,b,a]);const N=async M=>{if(w(null),c&&m&&(o(e.id),f(!1)),u(M),await r(M,e.id,b)){const T=t.find(O=>O.id===M);console.log(`MIDI Input Block connected to: ${T==null?void 0:T.name}`),f(!0),C(0),w(null)}else w("Failed to connect to device"),f(!1)},S=()=>{c&&(o(e.id),f(!1),u(null),C(0),h(null),w(null))},P=async()=>{y(!0);try{l()}finally{y(!1)}};if(!n)return i.jsxs("div",{className:"text-center text-gray-400 text-xs",children:[i.jsx("div",{className:"mb-2",children:" Web MIDI not supported"}),i.jsx("div",{children:"This browser doesn't support Web MIDI API"})]});const j=t.find(M=>M.id===c),D=t.length>0;return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs text-gray-400",children:"Device:"}),i.jsx(mt,{onClick:P,disabled:v,size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:i.jsx(dy,{className:`w-3 h-3 ${v?"animate-spin":""}`})})]}),i.jsxs(ht,{value:c||"",onValueChange:N,disabled:!D,children:[i.jsx(ot,{className:"h-8 text-xs",children:i.jsx(gt,{placeholder:D?"Select MIDI device...":"No devices found"})}),i.jsx(st,{children:t.filter(M=>M.state==="connected"&&M.type==="input").map(M=>i.jsx(Le,{value:M.id,children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:`w-2 h-2 rounded-full ${M.state==="connected"?"bg-green-500":"bg-gray-500"}`}),i.jsx("span",{children:M.name})]})},M.id))})]})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsx("span",{className:"text-gray-400",children:"Status:"}),i.jsx("div",{className:"flex items-center space-x-1",children:m?i.jsxs(i.Fragment,{children:[i.jsx(py,{className:"w-3 h-3 text-green-500"}),i.jsx("span",{className:"text-green-500",children:"Connected"})]}):i.jsxs(i.Fragment,{children:[i.jsx(fy,{className:"w-3 h-3 text-gray-500"}),i.jsx("span",{className:"text-gray-500",children:"Disconnected"})]})})]}),j&&i.jsxs("div",{className:"space-y-1 text-xs",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-400",children:"Name:"}),i.jsx("span",{className:"text-gray-200 truncate ml-2",style:{maxWidth:"120px"},children:j.name})]}),j.manufacturer&&j.manufacturer!=="Unknown"&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-400",children:"Mfg:"}),i.jsx("span",{className:"text-gray-200 truncate ml-2",style:{maxWidth:"120px"},children:j.manufacturer})]})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsx("span",{className:"text-gray-400",children:"Messages:"}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(ly,{className:`w-3 h-3 ${x&&Date.now()-x<1e3?"text-blue-500":"text-gray-500"}`}),i.jsx("span",{className:"text-gray-200",children:p})]})]}),g&&i.jsx("div",{className:"text-xs text-red-400 bg-red-900/20 rounded p-2",children:g}),c&&i.jsx("div",{className:"flex space-x-2",children:i.jsx(mt,{onClick:S,size:"sm",variant:"outline",className:"h-7 text-xs flex-1",children:"Disconnect"})})]})}const uv=Object.freeze(Object.defineProperty({__proto__:null,MidiInputBlock:ba},Symbol.toStringTag,{value:"Module"})),vn=class vn extends be{static formatMidiMessage(t){return V0.formatDetailed(t)}processMidiMessage(t,n){const r=this.useInstanceData({messageHistory:[],maxHistoryLength:100,lastMessage:null});r.lastMessage=t;const o=vn.formatMidiMessage(t),s={timestamp:Date.now(),message:t,formatted:o.formatted,columns:o.columns};return r.messageHistory.push(s),r.messageHistory.length>r.maxHistoryLength&&r.messageHistory.shift(),this.triggerUpdate(),{message:t}}renderContent(t,n){const r=this.useInstanceData({messageHistory:[],maxHistoryLength:100,lastMessage:null}),[o,s]=d.useState(!1),[a,l]=d.useState(r.maxHistoryLength),c=d.useRef(null);d.useEffect(()=>{c.current&&o&&(c.current.scrollTop=c.current.scrollHeight)},[r.messageHistory.length,o]);const u=p=>{if(!p)return"No MIDI data";const C=p.data[0],x=C&240,h=(C&15)+1;switch(x){case 144:return` Ch${h} N${p.data[1]} V${p.data[2]}`;case 128:return` Ch${h} N${p.data[1]} Off`;case 176:return` Ch${h} CC${p.data[1]}:${p.data[2]}`;case 192:return` Ch${h} Prog${p.data[1]}`;case 224:const v=p.data[2]<<7|p.data[1];return` Ch${h} Pitch:${v}`;default:return` [${p.data.join(",")}]`}},m=p=>{const C=parseInt(p)||100;l(C),r.maxHistoryLength=Math.max(1,Math.min(1e3,C)),r.messageHistory.length>r.maxHistoryLength&&(r.messageHistory=r.messageHistory.slice(-r.maxHistoryLength))},f=()=>{r.messageHistory=[]};return d.useEffect(()=>{c.current&&r.messageHistory.length>0&&(c.current.scrollTop=c.current.scrollHeight)},[r.messageHistory.length]),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3 min-h-[48px] border border-gray-700",children:[i.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Last MIDI:"}),i.jsx("div",{className:"text-sm font-mono text-blue-300 leading-tight",children:u(r.lastMessage)})]}),i.jsxs(vt,{open:o,onOpenChange:s,children:[i.jsx(Kt,{asChild:!0,children:i.jsxs(mt,{variant:"outline",size:"sm",className:"w-full bg-gray-800 border-gray-600 hover:bg-gray-700 text-gray-200",children:[i.jsx(Tp,{className:"w-4 h-4 mr-2"}),"View Log (",r.messageHistory.length,")"]})}),i.jsxs(at,{className:"max-w-2xl max-h-[80vh] bg-gray-900 border-gray-700",onMouseDown:p=>p.stopPropagation(),onMouseMove:p=>p.stopPropagation(),onMouseUp:p=>p.stopPropagation(),children:[i.jsx(lt,{children:i.jsxs(ct,{className:"text-gray-100 flex items-center gap-2",children:[i.jsx(Tp,{className:"w-5 h-5"}),"MIDI Monitor Log - Block ",t.id]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ve,{htmlFor:"history-length",className:"text-sm text-gray-300",children:"Max Messages:"}),i.jsx(rt,{id:"history-length",type:"number",min:"1",max:"1000",value:a,onChange:p=>m(p.target.value),className:"w-20 h-8 bg-gray-800 border-gray-600 text-gray-200"})]}),i.jsxs(mt,{onClick:f,variant:"outline",size:"sm",className:"bg-gray-800 border-gray-600 hover:bg-gray-700 text-gray-200",children:[i.jsx(Rd,{className:"w-4 h-4 mr-1"}),"Clear"]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ve,{className:"text-sm text-gray-300",children:["MIDI Messages (",r.messageHistory.length," of ",r.maxHistoryLength,")"]}),i.jsxs("div",{className:"border border-gray-600 rounded bg-gray-800 overflow-hidden",children:[i.jsxs("div",{className:"bg-gray-700 border-b border-gray-600",style:{paddingLeft:"12px",paddingRight:"27px",paddingTop:"8px",paddingBottom:"8px"},children:[i.jsxs("div",{className:"relative grid gap-1 font-mono text-xs text-gray-300 leading-tight",style:{fontFamily:"Courier New, monospace",letterSpacing:"0",gridTemplateColumns:"6rem 1.5rem 6rem 1fr 5rem"},children:[i.jsx("div",{children:"TIME"}),i.jsx("div",{children:"CH"}),i.jsx("div",{children:"TYPE"}),i.jsx("div",{children:"DATA"}),i.jsx("div",{children:"RAW HEX"})]}),i.jsxs("div",{className:"relative grid gap-1 font-mono text-xs text-gray-500 leading-tight mt-1",style:{fontFamily:"Courier New, monospace",letterSpacing:"0",gridTemplateColumns:"6rem 1.5rem 6rem 1fr 5rem"},children:[i.jsx("div",{className:"border-b border-gray-500"}),i.jsx("div",{className:"border-b border-gray-500"}),i.jsx("div",{className:"border-b border-gray-500"}),i.jsx("div",{className:"border-b border-gray-500"}),i.jsx("div",{className:"border-b border-gray-500"})]})]}),i.jsx("div",{ref:c,className:"h-[350px] overflow-y-auto overflow-x-auto bg-gray-800 p-3",onMouseDown:p=>p.stopPropagation(),onMouseMove:p=>p.stopPropagation(),onMouseUp:p=>p.stopPropagation(),onDrag:p=>p.stopPropagation(),onDragStart:p=>p.stopPropagation(),children:r.messageHistory.length===0?i.jsx("div",{className:"text-gray-500 text-xs font-mono",children:"No MIDI messages logged yet..."}):r.messageHistory.map((p,C)=>{const x=C===r.messageHistory.length-1;return i.jsxs("div",{className:`grid gap-1 font-mono text-xs leading-tight ${x?"text-blue-300 bg-blue-900/20":"text-gray-200"}`,style:{fontFamily:"Courier New, monospace",letterSpacing:"0",gridTemplateColumns:"6rem 1.5rem 6rem 1fr 5rem",borderBottom:C<r.messageHistory.length-1?"1px solid rgb(75, 85, 99)":"none",paddingBottom:"2px",marginBottom:C<r.messageHistory.length-1?"2px":"0"},children:[i.jsx("div",{children:p.columns.time}),i.jsx("div",{children:p.columns.channel}),i.jsx("div",{children:p.columns.type}),i.jsx("div",{className:"truncate",children:p.columns.data}),i.jsx("div",{children:p.columns.raw})]},`${p.timestamp}-${C}`)})})]})]})]})]})]})]})}};vn.title="MIDI Monitor",vn.icon="monitor",vn.description="Monitors and logs MIDI messages while passing them through",vn.width=220,vn.height=140,vn.color="blue",vn.portConfig={inputs:[{name:"midi_in",label:"MIDI In"}],outputs:[{name:"midi_out",label:"MIDI Out"}]};let ku=vn;const dv=Object.freeze(Object.defineProperty({__proto__:null,MidiMonitorBlock:ku},Symbol.toStringTag,{value:"Module"})),ir=class ir extends be{static getDefaultConfig(){return{selectedDeviceId:null,selectedDeviceName:"No device selected",isConnected:!1,messageCount:0,lastActivity:null,error:null}}renderContent(t,n){const r=hj;return i.jsx(r,{block:t})}processMidiMessage(t,n){const r=this.useInstanceData({midiOutputHandler:null});return r.midiOutputHandler?(console.log("MIDI Output Block: Processing message",t),r.midiOutputHandler(t)):console.warn("No MIDI output handler found for this block"),null}setOutputHandler(t){const n=this.useInstanceData({midiOutputHandler:null});n.midiOutputHandler=t}};ir.title="MIDI Output",ir.icon="output",ir.color="green",ir.width=280,ir.height=180,ir.portConfig={inputs:[{name:"midi",label:"MIDI In"}],outputs:[]};let Fs=ir;function hj({block:e}){const{devices:t,isSupported:n,connectToOutputDevice:r,disconnectFromOutputDevice:o,autoReconnectToSavedOutputDevice:s,getSelectedOutputDevice:a,refreshDevices:l}=cv(),[c,u]=d.useState(a(e.id)||e.config.selectedDeviceId),[m,f]=d.useState(!1),[p,C]=d.useState(0),[x,h]=d.useState(null),[v,y]=d.useState(!1),[g,w]=d.useState(null),[b,N]=d.useState(null);d.useEffect(()=>{(async()=>{const O=a(e.id);if(O&&!m&&t.length>0){const B=await s(e.id);B&&(u(O),N(B),f(!0),C(0),w(null),console.log(`Auto-reconnected to MIDI output device: ${B.name}`))}})()},[e.id,t,m,s,a]);const S=async T=>{w(null),c&&m&&(o(e.id),f(!1),N(null)),u(T);const O=await r(T,e.id);if(O){const B=t.find(k=>k.id===T);console.log(`MIDI Output Block connected to: ${B==null?void 0:B.name}`),N(O),f(!0),C(0),w(null)}else w("Failed to connect to device"),f(!1),N(null)},P=()=>{c&&(o(e.id),f(!1),u(null),N(null),C(0),h(null),w(null))},j=async()=>{y(!0);try{l()}finally{y(!1)}},D=d.useCallback(T=>{if(b&&m)try{b.send(T.data),C(O=>{const B=O+1;return console.log(`MIDI Output Block ${e.id}: Sent message #${B}`,T),B}),h(Date.now())}catch(O){console.error("Failed to send MIDI message:",O),w("Failed to send MIDI message")}else console.warn(`MIDI Output Block ${e.id}: Cannot send message - device not connected`,{hasDevice:!!b,isConnected:m})},[b,m,e.id]);if(d.useEffect(()=>{const T=Object.create(Fs.prototype);T.blockId=e.id,T.setOutputHandler(D)},[D,e.id]),!n)return i.jsxs("div",{className:"text-center text-gray-400 text-xs",children:[i.jsx("div",{className:"mb-2",children:" Web MIDI not supported"}),i.jsx("div",{children:"This browser doesn't support Web MIDI API"})]});const M=t.find(T=>T.id===c),A=t.length>0;return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs text-gray-400",children:"Device:"}),i.jsx(mt,{onClick:j,disabled:v,size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:i.jsx(dy,{className:`w-3 h-3 ${v?"animate-spin":""}`})})]}),i.jsxs(ht,{value:c||"",onValueChange:S,disabled:!A,children:[i.jsx(ot,{className:"h-8 text-xs",children:i.jsx(gt,{placeholder:A?"Select MIDI device...":"No devices found"})}),i.jsx(st,{children:t.filter(T=>T.state==="connected"&&T.type==="output").map(T=>i.jsx(Le,{value:T.id,children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:`w-2 h-2 rounded-full ${T.state==="connected"?"bg-green-500":"bg-gray-500"}`}),i.jsx("span",{children:T.name})]})},T.id))})]})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsx("span",{className:"text-gray-400",children:"Status:"}),i.jsx("div",{className:"flex items-center space-x-1",children:m?i.jsxs(i.Fragment,{children:[i.jsx(py,{className:"w-3 h-3 text-green-500"}),i.jsx("span",{className:"text-green-500",children:"Connected"})]}):i.jsxs(i.Fragment,{children:[i.jsx(fy,{className:"w-3 h-3 text-gray-500"}),i.jsx("span",{className:"text-gray-500",children:"Disconnected"})]})})]}),M&&i.jsxs("div",{className:"space-y-1 text-xs",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-400",children:"Name:"}),i.jsx("span",{className:"text-gray-200 truncate ml-2",style:{maxWidth:"120px"},children:M.name})]}),M.manufacturer&&M.manufacturer!=="Unknown"&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-400",children:"Mfg:"}),i.jsx("span",{className:"text-gray-200 truncate ml-2",style:{maxWidth:"120px"},children:M.manufacturer})]})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsx("span",{className:"text-gray-400",children:"Messages:"}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(ly,{className:`w-3 h-3 ${x&&Date.now()-x<1e3?"text-blue-500":"text-gray-500"}`}),i.jsx("span",{className:"text-gray-200",children:p})]})]}),g&&i.jsx("div",{className:"text-xs text-red-400 bg-red-900/20 rounded p-2",children:g}),c&&i.jsx("div",{className:"flex space-x-2",children:i.jsx(mt,{onClick:P,size:"sm",variant:"outline",className:"h-7 text-xs flex-1",children:"Disconnect"})})]})}const fv=Object.freeze(Object.defineProperty({__proto__:null,MidiOutputBlock:Fs,default:Fs},Symbol.toStringTag,{value:"Module"})),Bn=class Bn extends be{static renderHeaderButtons(t){const[n,r]=d.useState(!1);return i.jsxs(vt,{open:n,onOpenChange:o=>{r(o),be.setConfigModalOpen(o)},children:[i.jsx(Kt,{asChild:!0,children:i.jsx("button",{className:"text-gray-400 hover:text-gray-200 text-xs transition-colors p-2 -m-2 touch-manipulation",onClick:o=>o.stopPropagation(),onTouchStart:o=>o.stopPropagation(),onTouchEnd:o=>o.stopPropagation(),style:{touchAction:"manipulation"},children:i.jsx(Wt,{className:"w-3 h-3"})})}),i.jsxs(at,{className:"glass-panel border border-white/20 backdrop-blur-xl bg-gray-700/60",onInteractOutside:o=>o.preventDefault(),onMouseDown:o=>o.stopPropagation(),onMouseMove:o=>o.stopPropagation(),onMouseUp:o=>o.stopPropagation(),onTouchStart:o=>o.stopPropagation(),onTouchMove:o=>o.stopPropagation(),onTouchEnd:o=>o.stopPropagation(),children:[i.jsx(lt,{children:i.jsx(ct,{className:"text-gray-100",children:"Template Configuration"})}),i.jsx("div",{className:"py-4",children:i.jsxs("div",{className:"text-sm text-gray-300 leading-relaxed space-y-3",children:[i.jsx("p",{children:"This is an example configuration modal for the template block. In a real implementation, this would contain various settings and options to customize the block's behavior."}),i.jsx("p",{className:"text-xs text-gray-400",children:"Configuration options might include:"}),i.jsxs("ul",{className:"text-xs text-gray-400 list-disc list-inside space-y-1 ml-2",children:[i.jsx("li",{children:"Message filtering preferences"}),i.jsx("li",{children:"Display format options"}),i.jsx("li",{children:"Processing parameters"}),i.jsx("li",{children:"Output routing settings"})]}),i.jsx("p",{className:"text-xs text-gray-500 italic",children:"This template demonstrates the modal structure that can be extended for actual block configurations."})]})})]})]})}processMidiMessage(t,n){const r=this.useInstanceData({lastMessage:null});return r.lastMessage=t,this.triggerUpdate(),{message:t,targetPorts:["midi_out"]}}renderContent(t,n){const r=this.useInstanceData({lastMessage:null,isSelected:!1});return i.jsxs("div",{className:"flex flex-col h-full justify-center items-center p-2",children:[i.jsxs("div",{className:"text-xs text-gray-300 mb-2 font-semibold",children:["Last MIDI: ",r.isSelected?"(Selected)":""]}),i.jsx("div",{className:"text-xs text-gray-200 text-center font-mono leading-tight",children:r.lastMessage?V0.format(r.lastMessage):i.jsx("span",{className:"text-gray-500",children:"No message yet"})}),r.isSelected&&i.jsx("div",{className:"text-xs text-teal-400 mt-1 font-semibold",children:" Block Selected"})]})}static getDefaultConfig(){return{}}};Bn.title="Template",Bn.icon="document",Bn.description="Template block that passes MIDI messages through and displays the last message",Bn.width=200,Bn.height=120,Bn.color="gray",Bn.portConfig={inputs:[{name:"midi_in",label:"MIDI In"}],outputs:[{name:"midi_out",label:"MIDI Out"}]};let Mu=Bn;const pv=Object.freeze(Object.defineProperty({__proto__:null,TemplateBlock:Mu},Symbol.toStringTag,{value:"Module"})),gj=Object.assign({"./control_channel/CCSoloBlock.tsx":U0,"./control_channel/CCVisualizerBlock.tsx":Mx,"./control_channel/ControlChangeGeneratorBlock.tsx":Ex,"./control_channel/ControlChangeToolBlock.tsx":Ix,"./control_channel/LowPassCCFilterBlock.tsx":Wx,"./note/KeyboardBlock.tsx":Kx,"./note/NoteFilterBlock.tsx":Yx,"./note/NoteMinMaxBlock.tsx":Gx,"./note/QuantizerBlock.tsx":Xx,"./note/TransposeBlock.tsx":tv,"./processor/ChannelFilterBlock.tsx":av,"./processor/CurveBlock.tsx":lv,"./system/BaseBlockClass.tsx":a0,"./system/MidiInputBlock.tsx":uv,"./system/MidiMonitorBlock.tsx":dv,"./system/MidiOutputBlock.tsx":fv,"./system/TemplateBlock.tsx":pv});function mv(){const e={};return Object.entries(gj).forEach(([t,n])=>{const r=t.split("/"),o=r.length>1?r[1]:"uncategorized";Object.values(n).forEach(a=>{if(a&&typeof a=="function"&&a.title&&a.prototype instanceof be){const l=a,c=String(l.category||o),u=String(l.getType()),m={type:u,category:c,component:l.createComponent(),getPortPosition:l.getPortPosition.bind(l),getDefaultConfig:l.getDefaultConfig.bind(l),generatePorts:l.generatePorts.bind(l),metadata:{width:Number(l.width)||190,height:Number(l.height)||120,color:String(l.color)||"orange",title:String(l.title),description:l.description?String(l.description):void 0,icon:l.icon?String(l.icon):void 0}};e[c]||(e[c]={}),e[c][u]=m}})}),e}const ec=Object.freeze(Object.defineProperty({__proto__:null,buildBlockRegistry:mv},Symbol.toStringTag,{value:"Module"})),yj="modulepreload",xj=function(e){return"/midirouter/"+e},om={},Ye=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));o=Promise.allSettled(n.map(c=>{if(c=xj(c),c in om)return;om[c]=!0;const u=c.endsWith(".css"),m=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":yj,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((p,C)=>{f.addEventListener("load",p),f.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return o.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};class vj{constructor(){this.loadedBlocks=new Map,this.loadingPromises=new Map,this.manifest=null,this.manifestPromise=null,this.blockModules=Object.assign({"./control_channel/CCSoloBlock.tsx":()=>Ye(()=>Promise.resolve().then(()=>U0),void 0),"./control_channel/CCVisualizerBlock.tsx":()=>Ye(()=>Promise.resolve().then(()=>Mx),void 0),"./control_channel/ControlChangeGeneratorBlock.tsx":()=>Ye(()=>Promise.resolve().then(()=>Ex),void 0),"./control_channel/ControlChangeToolBlock.tsx":()=>Ye(()=>Promise.resolve().then(()=>Ix),void 0),"./control_channel/LowPassCCFilterBlock.tsx":()=>Ye(()=>Promise.resolve().then(()=>Wx),void 0),"./note/KeyboardBlock.tsx":()=>Ye(()=>Promise.resolve().then(()=>Kx),void 0),"./note/NoteFilterBlock.tsx":()=>Ye(()=>Promise.resolve().then(()=>Yx),void 0),"./note/NoteMinMaxBlock.tsx":()=>Ye(()=>Promise.resolve().then(()=>Gx),void 0),"./note/QuantizerBlock.tsx":()=>Ye(()=>Promise.resolve().then(()=>Xx),void 0),"./note/TransposeBlock.tsx":()=>Ye(()=>Promise.resolve().then(()=>tv),void 0),"./processor/ChannelFilterBlock.tsx":()=>Ye(()=>Promise.resolve().then(()=>av),void 0),"./processor/CurveBlock.tsx":()=>Ye(()=>Promise.resolve().then(()=>lv),void 0),"./system/BaseBlockClass.tsx":()=>Ye(()=>Promise.resolve().then(()=>a0),void 0),"./system/MidiInputBlock.tsx":()=>Ye(()=>Promise.resolve().then(()=>uv),void 0),"./system/MidiMonitorBlock.tsx":()=>Ye(()=>Promise.resolve().then(()=>dv),void 0),"./system/MidiOutputBlock.tsx":()=>Ye(()=>Promise.resolve().then(()=>fv),void 0),"./system/TemplateBlock.tsx":()=>Ye(()=>Promise.resolve().then(()=>pv),void 0)})}async getManifest(){return this.manifest?this.manifest:this.manifestPromise?this.manifestPromise:(this.manifestPromise=this.loadManifest(),this.manifestPromise)}async loadManifest(){return console.log("Loading hybrid manifest (static + dynamic blocks)"),this.generateHybridManifest()}async generateDirectoryBasedManifest(){try{const t=await fetch("/assets/blocks/");if(t.ok){const n=await t.text(),r=this.parseDirectoryListing(n);if(r.length>0)return console.log(`Found ${r.length} block files in directory`),this.createManifestFromFiles(r)}}catch{console.log("Directory-based discovery failed, falling back to static discovery")}return this.generateStaticManifest()}parseDirectoryListing(t){const n=/href="([^"]*\.js)"/g,r=[];let o;for(;(o=n.exec(t))!==null;){const s=o[1];!s.includes("index-")&&s.endsWith(".js")&&r.push(s)}return r}async createManifestFromFiles(t){const n={blocks:{},version:"directory-discovered"};for(const r of t)try{const o=this.parseBlockFilename(r);o&&(n.blocks[o.type]={category:o.category,chunkPath:`/assets/blocks/${r}`,metadata:{width:200,height:100,color:"#666666",title:o.name,description:`Dynamically discovered ${o.name} block`}})}catch{}return n}parseBlockFilename(t){const n=t.replace(/-[a-zA-Z0-9]+\.js$/,""),o={keyboard:{category:"note",name:"keyboard"},midiinput:{category:"system",name:"midiinput"},midioutput:{category:"system",name:"midioutput"},midimonitor:{category:"system",name:"midimonitor"},notefilter:{category:"note",name:"notefilter"},noteminmax:{category:"note",name:"noteminmax"},notequantiser:{category:"note",name:"notequantiser"},notetranspose:{category:"note",name:"notetranspose"},ccvisualizer:{category:"control_channel",name:"ccvisualizer"},ccgenerator:{category:"control_channel",name:"ccgenerator"},cctool:{category:"control_channel",name:"cctool"},channelfilter:{category:"processor",name:"channelfilter"},lowpassccfilter:{category:"processor",name:"lowpassccfilter"},template:{category:"system",name:"template"}}[n];if(o)return{type:`${o.category}/${o.name}`,category:o.category,name:o.name};if(n.includes("-")){const[s,a]=n.split("-",2);return{type:`${s}/${a}`,category:s,name:a}}return null}async generateStaticManifest(){const{buildBlockRegistry:t}=await Ye(async()=>{const{buildBlockRegistry:o}=await Promise.resolve().then(()=>ec);return{buildBlockRegistry:o}},void 0),n=t(),r={blocks:{},version:"dev"};return Object.entries(n).forEach(([o,s])=>{Object.entries(s).forEach(([a,l])=>{r.blocks[a]={category:o,chunkPath:"builtin",metadata:l.metadata}})}),this.manifest=r,r}async generateHybridManifest(){const{buildBlockRegistry:t}=await Ye(async()=>{const{buildBlockRegistry:s}=await Promise.resolve().then(()=>ec);return{buildBlockRegistry:s}},void 0),n=t(),r={blocks:{},version:"hybrid"};Object.entries(n).forEach(([s,a])=>{Object.entries(a).forEach(([l,c])=>{r.blocks[l]={category:s,chunkPath:"builtin",metadata:c.metadata}})});const o=Object.keys(n).reduce((s,a)=>s+Object.keys(n[a]).length,0);return console.log(`Hybrid manifest: ${o} built-in blocks loaded (dynamic blocks will be discovered on-demand)`),this.manifest=r,r}async generateDirectoryBasedManifestSilent(){try{if(!(await fetch("/assets/blocks/README.md",{method:"HEAD",cache:"no-cache"})).ok)return null;const n=["system-midiinput.js","note-keyboard.js","processor-delay.js","control_channel-ccvisualizer.js"];let r=!1;for(const l of n)try{if((await fetch(`/assets/blocks/${l}`,{method:"HEAD"})).ok){r=!0;break}}catch{}if(!r)return null;const o=await fetch("/assets/blocks/");if(!o.ok)return null;const s=await o.text(),a=this.parseDirectoryListing(s);return a.length===0?null:this.createManifestFromFiles(a)}catch{return null}}async loadBlock(t){if(this.loadedBlocks.has(t))return this.loadedBlocks.get(t).definition;if(this.loadingPromises.has(t))return(await this.loadingPromises.get(t)).definition;const n=this.loadBlockInternal(t);this.loadingPromises.set(t,n);try{const r=await n;return this.loadedBlocks.set(t,r),this.loadingPromises.delete(t),r.definition}catch(r){this.loadingPromises.delete(t);try{const o=await this.generateDirectoryBasedManifestSilent();if(o&&o.blocks[t]){const s=await this.getManifest();s.blocks[t]=o.blocks[t];const a=this.loadBlockInternal(t);this.loadingPromises.set(t,a);const l=await a;return this.loadedBlocks.set(t,l),this.loadingPromises.delete(t),l.definition}else{const s=await this.loadBlockStatic(t,{category:"unknown",chunkPath:"builtin",metadata:{width:200,height:120,color:"#666",title:t}});return this.loadedBlocks.set(t,s),s.definition}}catch{}return console.error(`Failed to load block ${t}:`,r),null}}async loadBlockInternal(t){const n=await this.getManifest(),r=n.blocks[t];if(!r)throw new Error(`Block type ${t} not found in manifest`);return r.chunkPath,this.loadBlockStatic(t,r);return n.version==="hybrid"?this.loadBlockFromChunk(t,r):n.version==="directory-discovered"||n.version==="independent"?this.loadBlockFromChunk(t,r):this.loadBlockStatic(t,r)}async loadBlockFromChunk(t,n){try{const o=await import(n.chunkPath.startsWith("/")?n.chunkPath:`/${n.chunkPath}`);let s;if(o.default&&typeof o.default=="function"&&o.default.getType)s=o.default;else if(o.createBlockInstance&&typeof o.createBlockInstance=="function")s=o.createBlockInstance();else{const l=Object.keys(o),c=l.find(u=>o[u]&&typeof o[u]=="function"&&o[u].getType&&typeof o[u].getType=="function");if(c)s=o[c];else{const u=l.find(m=>typeof o[m]=="function");s=u?o[u]:void 0}}if(!s)throw new Error(`No block class found in module for ${t}`);return{definition:{type:t,category:n.category,component:s.createComponent(),getPortPosition:s.getPortPosition.bind(s),getDefaultConfig:s.getDefaultConfig.bind(s),generatePorts:s.generatePorts.bind(s),metadata:n.metadata},module:o}}catch(r){return console.warn(`Chunk loading failed for ${t}, falling back to static import:`,r),this.loadBlockStatic(t,n)}}async loadBlockStatic(t,n){try{const{buildBlockRegistry:r}=await Ye(async()=>{const{buildBlockRegistry:s}=await Promise.resolve().then(()=>ec);return{buildBlockRegistry:s}},[]),o=r();for(const[s,a]of Object.entries(o))if(a[t])return{definition:a[t],module:null};throw new Error(`Block type ${t} not found in auto-discovery registry`)}catch(r){throw r}}async getAllAvailableBlocks(){const t=await this.getManifest();if(t.version==="hybrid")try{const n=await this.generateDirectoryBasedManifestSilent();n&&Object.keys(n.blocks).length>0&&(Object.entries(n.blocks).forEach(([r,o])=>{t.blocks[r]||(t.blocks[r]=o)}),console.log(`Discovered ${Object.keys(n.blocks).length} additional dynamic blocks`))}catch{}return Object.entries(t.blocks).map(([n,r])=>({category:r.category,type:n,metadata:r.metadata}))}async getBlocksByCategory(t){const n=await this.getManifest();return Object.entries(n.blocks).filter(([,r])=>r.category===t).map(([r,o])=>({type:r,metadata:o.metadata}))}async getAllCategories(){const t=await this.getManifest(),n=new Set;return Object.values(t.blocks).forEach(r=>n.add(r.category)),Array.from(n)}isBlockLoaded(t){return this.loadedBlocks.has(t)}getLoadedBlockDefinition(t){const n=this.loadedBlocks.get(t);return n?n.definition:null}}const Pi=new vj;class wj{constructor(){this.loadedDefinitions=new Map,this.loadingPromises=new Map}async getBlockDefinition(t){if(this.loadedDefinitions.has(t))return this.loadedDefinitions.get(t);if(this.loadingPromises.has(t))return this.loadingPromises.get(t);const n=this.loadBlockDefinition(t);this.loadingPromises.set(t,n);const r=await n;return this.loadingPromises.delete(t),r&&this.loadedDefinitions.set(t,r),r}async loadBlockDefinition(t){try{return await Pi.loadBlock(t)}catch(n){return console.error(`Failed to load block definition for ${t}:`,n),null}}async getAllAvailableBlocks(){return Pi.getAllAvailableBlocks()}async getBlocksByCategory(t){return Pi.getBlocksByCategory(t)}async getAllCategories(){return Pi.getAllCategories()}findLoadedBlockDefinition(t){return this.loadedDefinitions.get(t)||null}isBlockLoaded(t){return this.loadedDefinitions.has(t)}async preloadBlocks(t){const n=t.map(r=>this.getBlockDefinition(r));await Promise.allSettled(n)}async preloadCategory(t){const r=(await this.getBlocksByCategory(t)).map(o=>this.getBlockDefinition(o.type));await Promise.allSettled(r)}}const Sa=new wj,al=mv();function Cj(e,t){var n;return(n=al[e])==null?void 0:n[t]}function rf(){const e=[];return Object.entries(al).forEach(([t,n])=>{Object.entries(n).forEach(([r,o])=>{e.push({category:t,name:r,definition:o})})}),e}function bj(e){return al[e]||{}}function hv(){return Object.keys(al)}function wr(e){for(const t of hv()){const n=Cj(String(t),e);if(n)return n}return null}function gv({trigger:e,children:t,searchable:n=!1,searchPlaceholder:r="Search...",onSearchChange:o,searchQuery:s="",className:a="",contentClassName:l="",isOpen:c,onOpenChange:u,onItemSelect:m,keyboardShortcut:f}){const[p,C]=d.useState(!1),x=c!==void 0?c:p,[h,v]=d.useState({top:0,left:0}),[y,g]=d.useState(-1),w=d.useRef(null),b=d.useRef(null),N=d.useRef([]),S=d.useRef(0),P=d.useRef(0),j=()=>{if(!x)return;const O=document.querySelector("[data-dropdown-content]");if(O){const B=Array.from(O.querySelectorAll("button"));N.current=B}};d.useEffect(()=>{x&&setTimeout(j,100)},[x,t]);const D=()=>{if(Date.now()-S.current<100)return;const O=!x;if(O&&w.current){const B=w.current.getBoundingClientRect();v({top:B.bottom+4,left:B.left})}u?u(O):C(O),O&&(g(n?-1:0),P.current=0,N.current=[])},M=()=>{S.current=Date.now();const O=!1;u?u(O):C(O),o&&o(""),g(-1),P.current=0},A=()=>N.current.filter(O=>O!==null).length,T=d.useCallback(O=>{var B,k,F,Y;if(!x){f&&O.key===f&&((B=document.activeElement)==null?void 0:B.tagName)!=="INPUT"&&((k=document.activeElement)==null?void 0:k.tagName)!=="TEXTAREA"&&!document.querySelector('[role="dialog"]')&&(O.preventDefault(),D());return}switch(O.key){case"Escape":O.preventDefault(),M(),(F=w.current)==null||F.focus();break;case"ArrowDown":O.preventDefault(),g(E=>{const U=A()-1;return n?E<U?E+1:-1:E<U?E+1:0});break;case"ArrowUp":O.preventDefault(),g(E=>{const U=A()-1;return E<=0?U:E-1});break;case"Enter":O.preventDefault(),y>=0&&N.current[y]?(Y=N.current[y])==null||Y.click():y===-1&&n&&g(0);break}},[x,y,n]);return d.useEffect(()=>{x&&n&&y===-1&&b.current?setTimeout(()=>{var O;(O=b.current)==null||O.focus()},50):x&&y>=0&&N.current.forEach((O,B)=>{O&&(B===y?O.style.backgroundColor="rgba(255, 255, 255, 0.1)":O.style.backgroundColor="")})},[x,n,y]),d.useEffect(()=>{if(f)return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[T,f]),i.jsxs("div",{className:`relative ${a}`,children:[i.jsx("div",{ref:w,onClick:D,onTouchStart:D,style:{touchAction:"manipulation"},children:e}),x&&un.createPortal(i.jsxs("div",{className:"fixed inset-0 z-[9999] pointer-events-none",style:{backdropFilter:"none"},children:[i.jsx("div",{className:"fixed inset-0 pointer-events-auto bg-transparent",onClick:M}),i.jsxs("div",{"data-dropdown-content":!0,className:`glass-panel rounded-xl p-2 min-w-64 border border-white/10 shadow-2xl pointer-events-auto ${l}`,style:{position:"fixed",top:h.top,left:h.left,zIndex:1e4},children:[n&&i.jsx(i.Fragment,{children:i.jsxs("div",{className:"relative mb-2",children:[i.jsx(Ib,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx("input",{ref:b,type:"text",placeholder:r,value:s,onChange:O=>o==null?void 0:o(O.target.value),onKeyDown:O=>{["ArrowUp","ArrowDown","Escape","Enter"].includes(O.key)||O.stopPropagation()},className:"w-full pl-10 pr-3 py-2 bg-white/5 border border-white/10 rounded-lg text-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-teal-400/50 focus:border-teal-400/50"})]})}),i.jsx("div",{className:"space-y-0.5 max-h-[calc(100vh-12rem)] overflow-y-auto custom-scrollbar",children:t})]})]}),document.body)]})}const yv=d.forwardRef(({className:e,...t},n)=>i.jsx("textarea",{className:we("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));yv.displayName="Textarea";const sm="midi-router-current-project",im="midi-router-preset-list",Sj="midi-router-auto-save-timestamp";function of(){const{toast:e}=jd(),[t,n]=d.useState(!1),r=d.useCallback(()=>`preset_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,[]),o=d.useCallback(()=>{try{const x=localStorage.getItem(sm);return x?JSON.parse(x):null}catch(x){return console.error("Failed to load current project:",x),null}},[]),s=d.useCallback((x,h="Current Project")=>{try{const v={version:"1.0",metadata:{name:h,description:"Auto-saved project",created:new Date().toISOString(),modified:new Date().toISOString()},canvas:{zoom:x.zoom,pan:x.pan,blocks:x.blocks,connections:x.connections}};localStorage.setItem(sm,JSON.stringify(v)),localStorage.setItem(Sj,Date.now().toString())}catch(v){console.error("Auto-save failed:",v)}},[]),a=d.useCallback(()=>{try{const x=localStorage.getItem(im);return x?JSON.parse(x).presets||[]:[]}catch(x){return console.error("Failed to load preset list:",x),[]}},[]),l=d.useCallback(x=>{try{const h={presets:x,lastModified:new Date().toISOString()};localStorage.setItem(im,JSON.stringify(h))}catch(h){console.error("Failed to update preset list:",h)}},[]),c=d.useCallback(x=>{try{const h=localStorage.getItem(`midi-router-preset-${x}`);return h?JSON.parse(h):null}catch(h){return console.error("Failed to load preset:",h),null}},[]),u=d.useCallback(()=>{const x=a(),h=[];for(const v of x){const y=c(v);y&&h.push(y)}return h.sort((v,y)=>new Date(y.created).getTime()-new Date(v.created).getTime())},[a,c]),m=d.useCallback((x,h)=>{try{n(!0);const v=u(),y={version:"1.0",metadata:{name:h,description:"Exported MIDI router project with all presets",created:new Date().toISOString(),modified:new Date().toISOString()},canvas:{zoom:x.zoom,pan:x.pan,blocks:x.blocks,connections:x.connections},presets:v},g=JSON.stringify(y,null,2),w=new Blob([g],{type:"application/json"}),b=`${h.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.json`,N=URL.createObjectURL(w),S=document.createElement("a");S.href=N,S.download=b,document.body.appendChild(S),S.click(),document.body.removeChild(S),URL.revokeObjectURL(N),e({title:"Project exported",description:`${h} with ${v.length} presets saved as ${b}`})}catch(v){console.error("Export failed:",v),e({title:"Export failed",description:"Could not export project. Please try again.",variant:"destructive"})}finally{n(!1)}},[u,e]),f=d.useCallback(x=>new Promise((h,v)=>{n(!0);const y=new FileReader;y.onload=g=>{var w;try{const b=(w=g.target)==null?void 0:w.result,N=JSON.parse(b);if(!N.version||!N.metadata||!N.canvas)throw new Error("Invalid project file format");if(!N.canvas.blocks||!N.canvas.connections)throw new Error("Missing canvas data in project file");let S=0;if(N.presets&&Array.isArray(N.presets))for(const P of N.presets)try{const j=r(),D={...P,id:j,created:new Date().toISOString()};localStorage.setItem(`midi-router-preset-${j}`,JSON.stringify(D));const M=a();l([...M,j]),S++}catch(j){console.error("Failed to import preset:",P.name,j)}e({title:"Project imported",description:`${N.metadata.name} loaded with ${S} presets`}),h(N)}catch(b){console.error("Import failed:",b),e({title:"Import failed",description:"Invalid project file. Please check the file format.",variant:"destructive"}),v(b)}finally{n(!1)}},y.onerror=()=>{n(!1),e({title:"Import failed",description:"Could not read the file. Please try again.",variant:"destructive"}),v(new Error("File read error"))},y.readAsText(x)}),[r,a,l,e]),p=d.useCallback((x,h,v)=>{try{const y=r(),g={id:y,name:h,description:v,created:new Date().toISOString(),canvas:{zoom:x.zoom,pan:x.pan,blocks:x.blocks,connections:x.connections}};localStorage.setItem(`midi-router-preset-${y}`,JSON.stringify(g));const w=a();return l([...w,y]),e({title:"Preset saved",description:`"${h}" has been saved to your presets`}),y}catch(y){throw console.error("Failed to save preset:",y),e({title:"Save failed",description:"Could not save preset. Please try again.",variant:"destructive"}),y}},[r,a,l,e]),C=d.useCallback(x=>{try{localStorage.removeItem(`midi-router-preset-${x}`);const h=a();l(h.filter(v=>v!==x)),e({title:"Preset deleted",description:"Preset has been removed from your collection"})}catch(h){console.error("Failed to delete preset:",h),e({title:"Delete failed",description:"Could not delete preset. Please try again.",variant:"destructive"})}},[a,l,e]);return{isLoading:t,getCurrentProject:o,autoSaveProject:s,exportProject:m,importProject:f,savePreset:p,loadPreset:c,getAllPresets:u,deletePreset:C}}function Nj({isOpen:e,onClose:t,presets:n,onSavePreset:r,onDeletePreset:o}){const[s,a]=d.useState(""),[l,c]=d.useState(""),[u,m]=d.useState(null),[f,p]=d.useState(!1);We.useEffect(()=>{e&&(a(""),c(""),m(null),p(!1))},[e]);const C=()=>{if(f&&u){const v=n.find(y=>y.id===u);v&&r(u,v.name,v.description)}else!f&&s.trim()&&r(null,s.trim(),l.trim()||void 0);t()},x=v=>{m(v.id)},h=v=>new Date(v).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return i.jsx(vt,{open:e,onOpenChange:t,children:i.jsxs(at,{className:"glass-panel border border-white/20 backdrop-blur-xl bg-gray-700/60 max-w-2xl",onInteractOutside:v=>v.preventDefault(),onMouseDown:v=>v.stopPropagation(),onMouseMove:v=>v.stopPropagation(),onMouseUp:v=>v.stopPropagation(),onTouchStart:v=>v.stopPropagation(),onTouchMove:v=>v.stopPropagation(),onTouchEnd:v=>v.stopPropagation(),children:[i.jsx(lt,{children:i.jsx(ct,{className:"text-gray-100",children:"Save Preset"})}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(mt,{variant:f?"outline":"default",onClick:()=>{p(!1),m(null),a(""),c("")},className:f?"border-gray-600 text-gray-300 hover:bg-gray-700":"bg-blue-600 hover:bg-blue-700 text-white",children:[i.jsx(Ka,{className:"w-4 h-4 mr-2"}),"New Preset"]}),n.length>0&&i.jsxs(mt,{variant:f?"default":"outline",onClick:()=>p(!0),className:f?"bg-green-600 hover:bg-green-700 text-white":"border-gray-600 text-gray-300 hover:bg-gray-700",children:[i.jsx(Zc,{className:"w-4 h-4 mr-2"}),"Overwrite Existing"]})]}),f&&n.length>0&&i.jsxs("div",{className:"border border-gray-600/30 rounded-lg p-2 max-h-60 overflow-y-auto",children:[i.jsx("div",{className:"text-sm text-gray-300 mb-2",children:"Select preset to overwrite:"}),i.jsx("div",{className:"space-y-1",children:n.map(v=>i.jsxs("div",{onClick:()=>x(v),className:`flex items-center justify-between p-2 rounded cursor-pointer transition-colors ${u===v.id?"bg-blue-600/30 border border-blue-500/50":"hover:bg-gray-700/40"}`,children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"text-gray-100 font-medium truncate",children:v.name}),v.description&&i.jsx("div",{className:"text-gray-400 text-xs mt-1 truncate",children:v.description}),i.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-500",children:[i.jsx(uy,{className:"w-3 h-3"}),h(v.created),i.jsxs("span",{children:[v.canvas.blocks.length," blocks, ",v.canvas.connections.length," connections"]})]})]}),i.jsx(mt,{size:"sm",variant:"outline",onClick:y=>{y.stopPropagation(),o(v.id)},className:"border-red-600 text-red-400 hover:bg-red-600 hover:text-white ml-2",children:i.jsx(Rd,{className:"w-3 h-3"})})]},v.id))})]}),!f&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx(ve,{htmlFor:"preset-name",className:"text-sm text-gray-300",children:"Preset Name *"}),i.jsx(rt,{id:"preset-name",value:s,onChange:v=>a(v.target.value),onKeyDown:v=>{v.stopPropagation(),v.key==="Escape"&&t()},placeholder:"Enter preset name",className:"mt-1 bg-gray-800/50 border-gray-600 text-gray-100"})]}),i.jsxs("div",{children:[i.jsx(ve,{htmlFor:"preset-description",className:"text-sm text-gray-300",children:"Description (optional)"}),i.jsx(yv,{id:"preset-description",value:l,onChange:v=>c(v.target.value),onKeyDown:v=>{v.stopPropagation(),v.key==="Escape"&&t()},placeholder:"Describe this preset configuration",className:"mt-1 bg-gray-800/50 border-gray-600 text-gray-100",rows:2})]})]})]}),i.jsxs(Zd,{children:[i.jsx(mt,{variant:"outline",onClick:t,className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:"Cancel"}),i.jsxs(mt,{onClick:C,disabled:f?!u:!s.trim(),className:"bg-green-600 hover:bg-green-700 text-white",children:[i.jsx(Zc,{className:"w-4 h-4 mr-2"}),f?"Overwrite Preset":"Save New Preset"]})]})]})})}function Pj({canvasState:e,onLoadCanvas:t,onPresetLoaded:n,onPresetSaved:r,onProjectImported:o,onNewPreset:s}){const{isLoading:a,exportProject:l,importProject:c,savePreset:u,getAllPresets:m,loadPreset:f,deletePreset:p}=of(),[C,x]=d.useState(!1),[h,v]=d.useState(!1),[y,g]=d.useState(!1),[w,b]=d.useState("My MIDI Project"),[N,S]=d.useState([]),[P,j]=d.useState(null),[D,M]=d.useState(""),A=d.useRef(null),T=()=>{l(e,w),x(!1)},O=()=>{var $;($=A.current)==null||$.click()},B=async $=>{var ye;const ne=(ye=$.target.files)==null?void 0:ye[0];if(ne)try{const X=await c(ne),de={zoom:X.canvas.zoom,pan:X.canvas.pan,blocks:X.canvas.blocks,connections:X.canvas.connections,selectedBlocks:new Set,selectedConnections:new Set};t(de),j(null),o==null||o(ne.name.replace(".json",""),de)}catch(X){console.error("Failed to import project:",X)}A.current&&(A.current.value="")},k=()=>{if(P){const $=N.find(ne=>ne.id===P);if($){p(P);const ne=u(e,$.name,$.description);j(ne),r==null||r(ne,$.name,e);const ye=m();S(ye)}}},F=()=>{const $=m();S($),v(!0)},Y=($,ne,ye)=>{$&&p($);const X=u(e,ne,ye);j(X),r==null||r(X,ne,e);const de=m();S(de)},E=()=>{const $=m();S($),M(""),g(!0)},L=$=>{const ne=f($);if(ne){const ye={zoom:ne.canvas.zoom,pan:ne.canvas.pan,blocks:ne.canvas.blocks,connections:ne.canvas.connections,selectedBlocks:new Set,selectedConnections:new Set};t(ye),j($),n==null||n(ne,ye),g(!1)}},U=$=>{p($);const ne=m();S(ne),P===$&&j(null)},H=()=>{const $={zoom:100,pan:{x:0,y:0},blocks:[],connections:[],selectedBlocks:new Set,selectedConnections:new Set};t($),j(null),s==null||s($)},G=$=>new Date($).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),oe=N.filter($=>$.name.toLowerCase().includes(D.toLowerCase())||$.description&&$.description.toLowerCase().includes(D.toLowerCase()));return i.jsxs("div",{className:"relative",children:[i.jsx("input",{ref:A,type:"file",accept:".json",onChange:B,className:"hidden"}),i.jsx(gv,{trigger:i.jsxs("button",{disabled:a,className:"glass-panel px-3 py-2 rounded-lg hover:bg-white/10 glow-teal flex items-center space-x-2",children:[i.jsx(qc,{className:"w-4 h-4 text-teal-400"}),i.jsx("span",{className:"text-gray-200 text-sm",children:"Project"}),i.jsx(Td,{className:"w-3 h-3 text-gray-400"})]}),contentClassName:"w-48",children:i.jsxs("div",{className:"py-1",children:[i.jsxs("button",{onClick:H,className:"w-full px-3 py-2 text-left text-gray-200 hover:bg-white/10 flex items-center gap-2 text-sm",children:[i.jsx(Ka,{className:"w-4 h-4"}),"New Preset"]}),i.jsx("div",{className:"border-t border-white/10 my-1"}),i.jsxs("button",{onClick:k,disabled:!P,className:"w-full px-3 py-2 text-left text-gray-200 hover:bg-white/10 flex items-center gap-2 text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(Zc,{className:"w-4 h-4"}),"Save Preset"]}),i.jsxs("button",{onClick:F,className:"w-full px-3 py-2 text-left text-gray-200 hover:bg-white/10 flex items-center gap-2 text-sm",children:[i.jsx(qc,{className:"w-4 h-4"}),"Save Preset As..."]}),i.jsxs("button",{onClick:E,className:"w-full px-3 py-2 text-left text-gray-200 hover:bg-white/10 flex items-center gap-2 text-sm",children:[i.jsx(Dp,{className:"w-4 h-4"}),"Load/Manage Presets"]}),i.jsx("div",{className:"border-t border-white/10 my-1"}),i.jsxs("button",{onClick:()=>x(!0),className:"w-full px-3 py-2 text-left text-gray-200 hover:bg-white/10 flex items-center gap-2 text-sm",children:[i.jsx(Nb,{className:"w-4 h-4"}),"Export Project"]}),i.jsxs("button",{onClick:O,className:"w-full px-3 py-2 text-left text-gray-200 hover:bg-white/10 flex items-center gap-2 text-sm",children:[i.jsx(jb,{className:"w-4 h-4"}),"Import Project"]})]})}),i.jsx(Nj,{isOpen:h,onClose:()=>v(!1),presets:N,lastLoadedPresetId:P,onSavePreset:Y,onDeletePreset:U}),i.jsx(vt,{open:C,onOpenChange:x,children:i.jsxs(at,{className:"glass-panel border border-white/20 backdrop-blur-xl bg-gray-700/60",onInteractOutside:$=>$.preventDefault(),onMouseDown:$=>$.stopPropagation(),onMouseMove:$=>$.stopPropagation(),onMouseUp:$=>$.stopPropagation(),onTouchStart:$=>$.stopPropagation(),onTouchMove:$=>$.stopPropagation(),onTouchEnd:$=>$.stopPropagation(),children:[i.jsx(lt,{children:i.jsx(ct,{className:"text-gray-100",children:"Export Project"})}),i.jsx("div",{className:"space-y-4 py-4",children:i.jsxs("div",{children:[i.jsx(ve,{htmlFor:"project-name",className:"text-sm text-gray-300",children:"Project Name"}),i.jsx(rt,{id:"project-name",value:w,onChange:$=>b($.target.value),onKeyDown:$=>{$.stopPropagation(),$.key==="Escape"&&x(!1)},placeholder:"Enter project name",className:"mt-1 bg-gray-800/50 border-gray-600 text-gray-100"})]})}),i.jsxs(Zd,{children:[i.jsx(mt,{variant:"outline",onClick:()=>x(!1),className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:"Cancel"}),i.jsxs(mt,{onClick:T,disabled:!w.trim()||a,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[i.jsx(Sb,{className:"w-4 h-4 mr-2"}),"Export"]})]})]})}),i.jsx(vt,{open:y,onOpenChange:g,children:i.jsxs(at,{className:"glass-panel border border-white/20 backdrop-blur-xl bg-gray-700/60 max-w-2xl",onInteractOutside:$=>$.preventDefault(),onMouseDown:$=>$.stopPropagation(),onMouseMove:$=>$.stopPropagation(),onMouseUp:$=>$.stopPropagation(),onTouchStart:$=>$.stopPropagation(),onTouchMove:$=>$.stopPropagation(),onTouchEnd:$=>$.stopPropagation(),children:[i.jsx(lt,{children:i.jsx(ct,{className:"text-gray-100",children:"Load/Manage Presets"})}),i.jsx("div",{className:"py-4",children:N.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-400",children:[i.jsx(Dp,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No presets saved yet"}),i.jsx("p",{className:"text-sm mt-1",children:'Create your first preset by clicking "Save Preset"'})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mb-4",children:i.jsx(rt,{placeholder:"Filter presets by name or description...",value:D,onChange:$=>M($.target.value),onKeyDown:$=>{$.stopPropagation(),$.key==="Escape"&&M("")},className:"bg-gray-800/50 border-gray-600 text-gray-100 placeholder-gray-400"})}),i.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:oe.length===0?i.jsx("div",{className:"text-center py-4 text-gray-400",children:i.jsx("p",{children:"No presets match your filter"})}):oe.map($=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/30 rounded-lg border border-gray-600/30 hover:bg-gray-700/40 transition-colors",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"text-gray-100 font-medium truncate",children:$.name}),$.description&&i.jsx("p",{className:"text-gray-400 text-sm mt-1 line-clamp-2",children:$.description}),i.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-gray-500",children:[i.jsx(uy,{className:"w-3 h-3"}),G($.created),i.jsxs("span",{className:"ml-2",children:[$.canvas.blocks.length," blocks, ",$.canvas.connections.length," connections"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[i.jsx(mt,{size:"sm",onClick:()=>L($.id),className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Load"}),i.jsx(mt,{size:"sm",variant:"outline",onClick:()=>U($.id),className:"border-red-600 text-red-400 hover:bg-red-600 hover:text-white",children:i.jsx(Rd,{className:"w-4 h-4"})})]})]},$.id))})]})})]})})]})}function jj({displayName:e,hasUnsavedChanges:t,isPreset:n}){return i.jsxs("div",{className:"glass-panel px-3 py-2 rounded-lg flex items-center gap-2",children:[n?i.jsx(qc,{className:"w-4 h-4 text-teal-400"}):i.jsx(Pb,{className:"w-4 h-4 text-gray-400"}),i.jsxs("span",{className:`text-sm font-medium ${t?"italic text-gray-300":"text-gray-200"}`,children:[e,t&&" *"]})]})}function xv(){const[e,t]=d.useState({currentPresetId:null,currentPresetName:null,currentProjectName:"",hasUnsavedChanges:!1,lastSavedState:null}),n=d.useRef(),r=d.useRef({id:null,name:null}),o=d.useCallback(h=>{const v={blocks:h.blocks.map(y=>({id:y.id,type:y.type,position:{x:Math.round(y.position.x),y:Math.round(y.position.y)},config:y.config,zIndex:y.zIndex||0})).sort((y,g)=>y.id.localeCompare(g.id)),connections:h.connections.map(y=>({id:y.id,fromBlock:y.fromBlock,fromPort:y.fromPort,toBlock:y.toBlock,toPort:y.toPort})).sort((y,g)=>y.id.localeCompare(g.id)),zoom:Math.round(h.zoom*10)/10,pan:{x:Math.round(h.pan.x),y:Math.round(h.pan.y)}};return JSON.stringify(v)},[]),s=d.useCallback(h=>{const v=o(h);t(y=>{const g=y.lastSavedState!==null&&y.lastSavedState!==v,w=y.currentPresetId||r.current.id,b=y.currentPresetName||r.current.name;return y.hasUnsavedChanges===g&&y.currentPresetId===w?y:{...y,currentPresetId:w,currentPresetName:b,hasUnsavedChanges:g}})},[o]),a=d.useCallback((h,v)=>{console.log("setCurrentPreset called with preset:",h),console.log("Preset ID:",h.id,"Preset Name:",h.name),r.current={id:h.id,name:h.name};const y=o(v);t(g=>({...g,currentPresetId:h.id,currentPresetName:h.name,currentProjectName:h.name,hasUnsavedChanges:!1,lastSavedState:y})),console.log("Project state updated - Current preset ID set to:",h.id)},[o]),l=d.useCallback((h,v,y)=>{const g=o(y);t(w=>({...w,currentPresetId:h,currentPresetName:v,currentProjectName:v,hasUnsavedChanges:!1,lastSavedState:g}))},[o]),c=d.useCallback((h,v)=>{const y=o(v);t(g=>({...g,currentPresetId:null,currentPresetName:null,currentProjectName:h,hasUnsavedChanges:!1,lastSavedState:y}))},[o]),u=d.useCallback(()=>{t({currentPresetId:null,currentPresetName:null,currentProjectName:"",hasUnsavedChanges:!1,lastSavedState:null})},[]),m=d.useCallback(h=>{r.current={id:null,name:null};const v=o(h);t({currentPresetId:null,currentPresetName:null,currentProjectName:"Untitled Preset",hasUnsavedChanges:!1,lastSavedState:v})},[o]),f=d.useCallback(h=>{try{const v=localStorage.getItem("lastLoadedPresetId");if(v){const y=localStorage.getItem("midiPresets");if(y){const w=JSON.parse(y).find(b=>b.id===v);if(w)return a(w,h),!0}}}catch(v){console.warn("Failed to initialize from storage:",v)}return!1},[a]),p=d.useCallback(()=>e.currentPresetName||e.currentProjectName||null,[e.currentPresetName,e.currentProjectName]),C=d.useCallback(()=>e.currentPresetId!==null||e.currentProjectName!=="",[e.currentPresetId,e.currentProjectName]);d.useEffect(()=>()=>{n.current&&clearTimeout(n.current)},[]);const x=d.useCallback(()=>e.currentPresetId||r.current.id,[e.currentPresetId]);return{projectState:e,updateCanvasState:s,setCurrentPreset:a,setPresetSaved:l,setProjectImported:c,setNewProject:u,setNewPreset:m,getDisplayName:p,shouldShowProjectStatus:C,initializeFromStorage:f,getCurrentPresetId:x}}function kj({onAddBlock:e,zoomLevel:t,canvasState:n,onLoadCanvas:r}){const[o,s]=d.useState(!1),[a,l]=d.useState(""),[c,u]=d.useState(!1),[m,f]=d.useState({top:0,left:0}),{toastNotificationsEnabled:p,setToastNotificationsEnabled:C}=n0(),x=d.useRef(null),h=d.useRef(null),{projectState:v,updateCanvasState:y,setCurrentPreset:g,setPresetSaved:w,setProjectImported:b,setNewPreset:N,getDisplayName:S,shouldShowProjectStatus:P,getCurrentPresetId:j}=xv();d.useEffect(()=>{y(n)},[n,y]);const[D,M]=d.useState([]);d.useEffect(()=>{(async()=>{const F=await hv(),Y=await Promise.all(F.map(async E=>({name:E,displayName:E.replace(/_/g," ").replace(/\b\w/g,L=>L.toUpperCase()),blocks:Object.entries(await bj(E)).map(([L,U])=>{var H,G,oe;return{type:L,label:((H=U.metadata)==null?void 0:H.title)||L.replace(/_/g," ").replace(/\b\w/g,$=>$.toUpperCase()),iconName:((G=U.metadata)==null?void 0:G.icon)||"box",color:((oe=U.metadata)==null?void 0:oe.color)||"teal"}})})));M(Y)})()},[]);const A=a.trim()?[{name:"search-results",displayName:"",blocks:D.flatMap(k=>k.blocks.filter(F=>F.label.toLowerCase().includes(a.toLowerCase())))}].filter(k=>k.blocks.length>0):D.map(k=>({...k,blocks:k.blocks}));d.useEffect(()=>{function k(F){x.current&&!x.current.contains(F.target)&&s(!1)}if(o)return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[o]);const T=k=>{if(k.preventDefault(),k.stopPropagation(),!o&&h.current){const F=h.current.getBoundingClientRect();f({top:F.bottom+window.scrollY+4,left:F.right+window.scrollX-256})}s(!o)},O=k=>{e(k)},B=(k,F)=>{F.preventDefault(),F.stopPropagation(),O(k),u(!1)};return i.jsxs("nav",{className:"glass-panel h-16 flex items-center justify-between px-6 relative z-50 border-b border-white/10",children:[i.jsxs("div",{className:"flex items-center space-x-6",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-teal-500 to-purple-500 rounded-lg flex items-center justify-center",children:i.jsx(wb,{className:"w-4 h-4 text-white"})}),i.jsx("h1",{className:"text-xl font-semibold bg-gradient-to-r from-teal-400 to-purple-400 bg-clip-text text-transparent",children:"MIDI Router"})]}),i.jsx(gv,{trigger:i.jsxs("button",{className:"glass-panel px-3 py-2 rounded-lg hover:bg-white/10 glow-teal flex items-center space-x-2",children:[i.jsx(Ka,{className:"w-4 h-4 text-teal-400"}),i.jsx("span",{className:"text-gray-200 text-sm",children:"Add Block"})]}),searchable:!0,searchPlaceholder:"Search blocks...",onSearchChange:l,searchQuery:a,contentClassName:"min-w-64",isOpen:c,onOpenChange:u,onItemSelect:()=>u(!1),keyboardShortcut:"Enter",children:A.length===0?i.jsxs("div",{className:"px-3 py-2 text-center text-gray-400 text-sm",children:['No blocks found matching "',a,'"']}):A.map(({name:k,displayName:F,blocks:Y})=>i.jsxs("div",{className:"space-y-0.5",children:[!a.trim()&&i.jsx("div",{className:"px-3 py-0.5 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:F}),Y.map(({type:E,label:L,iconName:U,color:H})=>i.jsxs("button",{onClick:G=>B(E,G),onTouchStart:G=>B(E,G),className:"w-full text-left px-3 py-1.5 rounded-lg flex items-center space-x-3 transition-colors hover:bg-white/10",style:{touchAction:"manipulation"},children:[i.jsx("div",{className:`w-6 h-6 bg-${H}-500/20 rounded flex items-center justify-center`,children:i.jsx(s0,{name:U,color:`${H}-400`,className:"w-3 h-3"})}),i.jsx("span",{className:"text-gray-200 text-sm",children:L})]},E))]},k))})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[P()&&i.jsx(jj,{displayName:S(),currentPresetId:j(),projectState:v}),i.jsx(Pj,{canvasState:n,onLoadCanvas:r,onPresetLoaded:g,onPresetSaved:w,onProjectImported:b,onNewPreset:N}),i.jsxs("div",{className:"glass-panel px-3 py-1 rounded-lg",children:[i.jsx("span",{className:"text-xs text-gray-400",children:"Zoom: "}),i.jsxs("span",{className:"text-sm text-teal-400",children:[t,"%"]})]}),i.jsx("div",{className:"relative",children:i.jsx("button",{ref:h,onClick:T,className:"glass-panel p-2 rounded-lg hover:bg-white/10 glow-teal",children:i.jsx(Wt,{className:"w-4 h-4 text-gray-400"})})})]}),o&&un.createPortal(i.jsxs("div",{className:"fixed inset-0 z-[9999] pointer-events-none",style:{backdropFilter:"none"},children:[i.jsx("div",{className:"fixed inset-0 pointer-events-auto bg-transparent",onClick:()=>s(!1)}),i.jsxs("div",{ref:x,className:"glass-panel rounded-xl p-4 min-w-64 border border-white/10 shadow-2xl pointer-events-auto",style:{position:"fixed",top:m.top,left:m.left,zIndex:1e4},children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-100 mb-4",children:"Settings"}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx("label",{htmlFor:"toast-notifications",className:"text-sm font-medium text-gray-200",children:"Toast Notifications"}),i.jsx("span",{className:"text-xs text-gray-400",children:"Show notifications for block operations"})]}),i.jsx(il,{id:"toast-notifications",checked:p,onCheckedChange:C})]})})]})]}),document.body)]})}function Mj(){const[e,t]=d.useState({isDragging:!1,dragType:null,dragData:null,startPosition:{x:0,y:0},currentPosition:{x:0,y:0}}),n=d.useRef(null),r=d.useCallback((l,c,u,m)=>{t({isDragging:!0,dragType:l,dragData:c,startPosition:u,currentPosition:u}),m&&(n.current=m)},[]),o=d.useCallback(l=>{t(c=>({...c,currentPosition:l}))},[]),s=d.useCallback(()=>{t({isDragging:!1,dragType:null,dragData:null,startPosition:{x:0,y:0},currentPosition:{x:0,y:0}}),n.current=null},[]),a=d.useCallback(()=>({x:e.currentPosition.x-e.startPosition.x,y:e.currentPosition.y-e.startPosition.y}),[e]);return{dragState:e,startDrag:r,updateDrag:o,endDrag:s,getDragOffset:a,dragRef:n}}function Ej({connections:e,blocks:t,selectedConnections:n=new Set,selectedBlocks:r=new Set,tempConnection:o,calculateBlockZIndex:s}){const a=(m,f)=>{const p=t.find(v=>v.id===m);if(!p)return{x:0,y:0};let C=Sa.findLoadedBlockDefinition(p.type);if(!C){const v=p.ports.find(k=>k.id===f);if(!v)return{x:p.position.x+95,y:p.position.y+60};const y=v.type==="output",w=p.ports.filter(k=>k.type===v.type).findIndex(k=>k.id===f),b=16,A=b+24+12+60+16+w*24+11,T=8,B={x:y?280-b-T-1:b+T+1,y:A-5};return{x:p.position.x+B.x,y:p.position.y+B.y}}const x=C.getPortPosition(p,f);return{x:p.position.x+x.x,y:p.position.y+x.y}},l=(m,f)=>{const p=f.x-m.x,C=f.y-m.y,x=Math.abs(p)*.6+Math.abs(C)*.3,h=m.x+x,v=m.y,y=f.x-x,g=f.y;return`M ${m.x} ${m.y} C ${h} ${v}, ${y} ${g}, ${f.x} ${f.y}`},c=(m,f,p=.6)=>{const C=f.x-m.x,x=f.y-m.y,h=Math.abs(C)*.6+Math.abs(x)*.3,v=m.x+h,y=m.y,g=f.x-h,w=f.y,b=1-p,N=b*b,S=N*b,P=p*p,j=P*p,D=S*m.x+3*N*p*v+3*b*P*g+j*f.x,M=S*m.y+3*N*p*y+3*b*P*w+j*f.y,A=3*N*(v-m.x)+6*b*p*(g-v)+3*P*(f.x-g),T=3*N*(y-m.y)+6*b*p*(w-y)+3*P*(f.y-w),O=Math.atan2(T,A)*(180/Math.PI);return{x:D,y:M,angle:O}},u=m=>{const f=t.find(v=>v.id===m.fromBlock),p=t.find(v=>v.id===m.toBlock);if(!f||!p)return 2;const C=s(f),x=s(p);return Math.max(C,x)+1};return i.jsxs(i.Fragment,{children:[e.map(m=>{const f=u(m),p=a(m.fromBlock,m.fromPort),C=a(m.toBlock,m.toPort),x=n.has(m.id),h=Math.min(p.x,C.x)-200,v=Math.max(p.x,C.x)+200,y=Math.min(p.y,C.y)-200,g=Math.max(p.y,C.y)+200,w={x:p.x-h,y:p.y-y},b={x:C.x-h,y:C.y-y},N=l(w,b),S=c(w,b,.6);return i.jsxs("svg",{className:"absolute pointer-events-none",style:{zIndex:f,left:`${h}px`,top:`${y}px`,width:`${v-h}px`,height:`${g-y}px`,overflow:"visible"},viewBox:`0 0 ${v-h} ${g-y}`,children:[i.jsx("defs",{children:i.jsx("marker",{id:`arrowhead-${m.id}`,markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:i.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:x?"hsl(280, 100%, 70%)":"hsl(174, 100%, 42%)"})})}),i.jsxs("g",{children:[i.jsx("path",{d:N,stroke:x?"hsl(280, 100%, 70%)":"hsl(174, 100%, 42%)",strokeWidth:"3",fill:"none",filter:x?"drop-shadow(0 0 8px hsla(280, 100%, 70%, 0.8))":"drop-shadow(0 0 5px hsla(174, 100%, 42%, 0.8))"}),i.jsx("polygon",{points:"0,-6 16,0 0,6",fill:x?"hsl(280, 100%, 70%)":"hsl(174, 100%, 42%)",transform:`translate(${S.x},${S.y}) rotate(${S.angle})`}),i.jsx("circle",{cx:w.x,cy:w.y,r:"2.5",fill:x?"hsl(280, 100%, 70%)":"hsl(174, 100%, 42%)"}),i.jsx("circle",{cx:b.x,cy:b.y,r:"2.5",fill:x?"hsl(280, 100%, 70%)":"hsl(174, 100%, 42%)"})]})]},m.id)}),o&&(()=>{const m=o.fromPort.split("-"),f=`${m[0]}-${m[1]}`,p=a(f,o.fromPort),C=o.currentPosition,x=Math.min(p.x,C.x)-500,h=Math.max(p.x,C.x)+500,v=Math.min(p.y,C.y)-500,y=Math.max(p.y,C.y)+500,g={x:p.x-x,y:p.y-v},w={x:C.x-x,y:C.y-v},b=l(g,w);return i.jsx("svg",{className:"absolute pointer-events-none",style:{zIndex:9999,left:`${x}px`,top:`${v}px`,width:`${h-x}px`,height:`${y-v}px`,overflow:"visible"},viewBox:`0 0 ${h-x} ${y-v}`,children:i.jsxs("g",{children:[i.jsx("path",{d:b,stroke:"hsl(174, 100%, 42%)",strokeWidth:"3",fill:"none",strokeDasharray:"8,4",opacity:"0.7",filter:"drop-shadow(0 0 5px hsla(174, 100%, 42%, 0.6))"}),i.jsx("circle",{cx:g.x,cy:g.y,r:"2.5",fill:"hsl(174, 100%, 42%)",opacity:"0.7"})]})})})()]})}function Ij({blocks:e,connections:t,zoom:n,pan:r,onZoomIn:o,onZoomOut:s,onResetView:a,onUpdatePan:l,onSetPan:c,onUpdateBlockPosition:u,onRemoveBlock:m,onAddConnection:f,onAddBlock:p,onWheelZoom:C,activePortIds:x=new Set,selectedBlocks:h=new Set,selectedConnections:v=new Set,onClearSelection:y,onSelectInBox:g,onSelectBlock:w,onSelectAllBlocks:b,onRemoveConnection:N,onBlockResize:S,onCanvasClick:P,onSavePreset:j}){const D=d.useRef(null),{dragState:M,startDrag:A,updateDrag:T,endDrag:O,getDragOffset:B}=Mj(),k=n/100,F=d.useRef(!1),Y=d.useRef({x:0,y:0}),E=d.useRef({x:0,y:0}),L=d.useRef(null),U=d.useRef({x:0,y:0}),H=d.useRef(new Map),G=d.useRef(null),oe=d.useRef(!1),$=d.useRef(!1),ne=d.useRef({x:0,y:0}),ye=5,[X,de]=d.useState(null),[z,I]=d.useState(null),R=d.useRef(!1),_=d.useRef({x:0,y:0}),[V,q]=d.useState(void 0),[se,fe]=d.useState(null),[ue,je]=d.useState(""),De=d.useRef(null),Pt=d.useCallback(K=>{De.current&&clearTimeout(De.current),je(K),De.current=setTimeout(()=>{je(""),De.current=null},5e3)},[]);d.useEffect(()=>()=>{De.current&&clearTimeout(De.current)},[]);const $e=d.useRef({touches:new Map,lastDistance:0,lastScale:k,isPinching:!1,isTouching:!1,touchStartTarget:null}),ee=d.useRef(null),ie=d.useCallback(K=>{var me;const pe=K.target;if(pe===D.current||pe.id==="blocks-container")if(K.ctrlKey)F.current=!0,Y.current={x:K.clientX,y:K.clientY},E.current={x:r.x,y:r.y},D.current&&(D.current.style.cursor="grabbing");else{R.current=!0;const Q=(me=D.current)==null?void 0:me.getBoundingClientRect();if(Q){const Z={x:(K.clientX-Q.left)/k-r.x,y:(K.clientY-Q.top)/k-r.y};_.current=Z,I({start:Z,end:Z}),P&&P(Z),y&&y()}}},[r,y,k,P]),ae=d.useCallback(K=>{var pe,me,Q;if(F.current){const Z=K.clientX-Y.current.x,re=K.clientY-Y.current.y,te={x:E.current.x+Z,y:E.current.y+re};c(te)}if(R.current){const Z=(pe=D.current)==null?void 0:pe.getBoundingClientRect();if(Z){const re={x:(K.clientX-Z.left-r.x*k)/k,y:(K.clientY-Z.top-r.y*k)/k};I({start:_.current,end:re})}}if(L.current){const Z=(me=D.current)==null?void 0:me.getBoundingClientRect();if(Z){const re={x:(K.clientX-Z.left-r.x)/k,y:(K.clientY-Z.top-r.y)/k};q({fromPort:L.current,currentPosition:re})}}if(M.isDragging&&M.dragType==="block"){const Z=(Q=D.current)==null?void 0:Q.getBoundingClientRect();if(Z){const re={x:(K.clientX-Z.left-r.x)/k,y:(K.clientY-Z.top-r.y)/k};T(re),!oe.current&&G.current&&(oe.current=!0,de(G.current.id));const te={x:re.x-M.startPosition.x,y:re.y-M.startPosition.y};H.current.forEach((le,xe)=>{u(xe,{x:le.x+te.x,y:le.y+te.y})})}}},[M,l,k,r,T,u,h,w]),Se=d.useCallback(()=>{F.current&&(console.log(" Ending pan mode"),F.current=!1,D.current&&(D.current.style.cursor="default")),R.current&&(R.current=!1,z&&g&&g(z),I(null)),L.current&&(L.current=null,q(void 0)),M.isDragging&&M.dragType==="block"&&(O(),G.current=null,oe.current=!1,H.current.clear())},[M,O,z,g]),Me=d.useCallback((K,pe)=>{var re;pe.stopPropagation();const me=pe.ctrlKey||pe.metaKey,Q=h.has(K.id);if(w&&(me?w(K.id,!0):Q||w(K.id,!1)),de(K.id),(re=D.current)==null?void 0:re.getBoundingClientRect()){G.current=K,oe.current=!1,H.current.clear();let te;me?Q?te=new Set(Array.from(h).filter(le=>le!==K.id)):(te=new Set(h),te.add(K.id)):te=Q?h:new Set([K.id]),te.forEach(le=>{const xe=e.find(ze=>ze.id===le);xe&&H.current.set(le,{...xe.position})}),U.current={...K.position},ne.current={x:pe.clientX,y:pe.clientY},$.current=!1}},[A,k,r,h,e,w]),wt=d.useCallback((K,pe)=>{pe.stopPropagation(),"ontouchstart"in window||navigator.maxTouchPoints>0||(L.current=K)},[]),Tt=d.useCallback((K,pe)=>{if(pe.stopPropagation(),!("ontouchstart"in window||navigator.maxTouchPoints>0)){if(L.current&&L.current!==K){const Q=L.current,Z=K,re=e.find(ut=>ut.ports.some(Yo=>Yo.id===Q)),te=e.find(ut=>ut.ports.some(Yo=>Yo.id===Z));if(re&&te&&re.id===te.id){L.current=null,q(void 0);return}const le=re==null?void 0:re.ports.find(ut=>ut.id===Q),xe=te==null?void 0:te.ports.find(ut=>ut.id===Z),ze=(le==null?void 0:le.type)==="output",et=(xe==null?void 0:xe.type)==="input",Rt=(le==null?void 0:le.type)==="input",Ot=(xe==null?void 0:xe.type)==="output";ze&&et||Rt&&Ot?f(Q,Z):Pt("Connection failed: invalid port types")}L.current=null,q(void 0)}},[f,e,Pt]),Dr=d.useCallback((K,pe)=>{if(pe.stopPropagation(),se===null)fe(K);else if(se===K)fe(null);else{const me=se,Q=K,Z=e.find(Ot=>Ot.ports.some(ut=>ut.id===me)),re=e.find(Ot=>Ot.ports.some(ut=>ut.id===Q));if(Z&&re&&Z.id===re.id){fe(null);return}const te=Z==null?void 0:Z.ports.find(Ot=>Ot.id===me),le=re==null?void 0:re.ports.find(Ot=>Ot.id===Q),xe=(te==null?void 0:te.type)==="output",ze=(le==null?void 0:le.type)==="input",et=(te==null?void 0:te.type)==="input",Rt=(le==null?void 0:le.type)==="output";xe&&ze||et&&Rt?f(xe?me:Q,xe?Q:me):Pt("Connection failed: invalid port types"),fe(null)}},[se,e,f,wt,Pt]),kn=d.useCallback(K=>{var me;if(K.preventDefault(),!!((me=D.current)==null?void 0:me.getBoundingClientRect())){if($e.current.isTouching=!0,$e.current.touchStartTarget=K.target,Array.from(K.touches).forEach(Q=>{$e.current.touches.set(Q.identifier,{x:Q.clientX,y:Q.clientY,startTime:Date.now()})}),K.touches.length===1){const Q=K.touches[0],Z=K.target,re=Z.closest("[data-port-id]");if(re&&re.getAttribute("data-port-id"))return;const te=Z.closest("[data-block-id]");if(te){const le=te.getAttribute("data-block-id"),xe=e.find(ze=>ze.id===le);if(xe){Me(xe,{clientX:Q.clientX,clientY:Q.clientY,preventDefault:()=>{},stopPropagation:()=>{},ctrlKey:!1,metaKey:!1});return}}F.current=!0,Y.current={x:Q.clientX,y:Q.clientY},E.current={...r}}else if(K.touches.length===2){$e.current.isPinching=!0;const Q=K.touches[0],Z=K.touches[1],re=Math.sqrt(Math.pow(Z.clientX-Q.clientX,2)+Math.pow(Z.clientY-Q.clientY,2));$e.current.lastDistance=re,$e.current.lastScale=k,F.current=!1,ee.current&&(clearTimeout(ee.current),ee.current=null)}}},[e,r,k,Me]),Jr=d.useCallback(K=>{var me;K.preventDefault();const pe=(me=D.current)==null?void 0:me.getBoundingClientRect();if(pe){if(K.touches.length===1){const Q=K.touches[0];if(ee.current&&(clearTimeout(ee.current),ee.current=null),M.isDragging&&M.dragType==="block"){const Z={x:(Q.clientX-pe.left-r.x)/k,y:(Q.clientY-pe.top-r.y)/k};T(Z),!oe.current&&G.current&&(oe.current=!0,de(G.current.id));const re={x:Z.x-M.startPosition.x,y:Z.y-M.startPosition.y};H.current.forEach((te,le)=>{u(le,{x:te.x+re.x,y:te.y+re.y})});return}if(F.current){const Z=Q.clientX-Y.current.x,re=Q.clientY-Y.current.y,te=Z/k,le=re/k,xe={x:E.current.x+te,y:E.current.y+le};c(xe)}}else if(K.touches.length===2&&$e.current.isPinching){const Q=K.touches[0],Z=K.touches[1],re=Math.sqrt(Math.pow(Z.clientX-Q.clientX,2)+Math.pow(Z.clientY-Q.clientY,2));if($e.current.lastDistance>0){const te=re/$e.current.lastDistance,le=Math.max(25,Math.min(400,n*te)),xe=(Q.clientX+Z.clientX)/2-pe.left,ze=(Q.clientY+Z.clientY)/2-pe.top;C(le-n,{x:xe,y:ze})}$e.current.lastDistance=re}}},[L,F,r,k,n,c,C,M,T,u]),eo=d.useCallback(K=>{K.preventDefault(),ee.current&&(clearTimeout(ee.current),ee.current=null),L.current&&(L.current=null,q(void 0)),M.isDragging&&M.dragType==="block"&&(O(),G.current=null,oe.current=!1,H.current.clear()),Array.from(K.changedTouches).forEach(pe=>{$e.current.touches.delete(pe.identifier)}),K.touches.length===0?($e.current.isTouching=!1,$e.current.isPinching=!1,F.current=!1,$e.current.lastDistance=0):K.touches.length===1&&$e.current.isPinching&&($e.current.isPinching=!1,$e.current.lastDistance=0)},[e,f,M,O]),Zn=d.useCallback(K=>{const pe=h.has(K.id),me=X===K.id,Q=K.zIndex??e.findIndex(Z=>Z.id===K.id)+1;return pe||me?Q+1e4:Q},[e,h,X]),jt=d.useCallback(K=>{const pe=h.has(K.id);K.id;const me=Zn(K),Q={block:K,onRemove:m,onMouseDown:te=>Me(K,te),onPortMouseDown:wt,onPortMouseUp:Tt,onPortClick:Dr,connections:t,activePortIds:x,selectedPortForConnection:se,isSelected:pe,onResize:S?te=>S(K.id,te):void 0},re=rf().find(te=>te.name===K.type);if(re){const te=re.definition.component;return i.jsx("div",{style:{zIndex:me},className:"relative",children:i.jsx(te,{...Q})},K.id)}return console.warn("No block definition found for type:",K.type),null},[m,Me,wt,Tt,Dr,t,x,h,se,X]);return d.useEffect(()=>{const K=Q=>{var Z,re,te;if(F.current){const le=Q.clientX-Y.current.x,xe=Q.clientY-Y.current.y,ze=le/k,et=xe/k,Rt={x:E.current.x+ze,y:E.current.y+et};c(Rt)}if(G.current&&!M.isDragging&&!$.current){const le=Q.clientX-ne.current.x,xe=Q.clientY-ne.current.y;if(Math.sqrt(le*le+xe*xe)>ye){$.current=!0;const et=(Z=D.current)==null?void 0:Z.getBoundingClientRect();et&&A("block",G.current,{x:(ne.current.x-et.left-r.x)/k,y:(ne.current.y-et.top-r.y)/k})}}if(M.isDragging&&M.dragType==="block"){const le=(re=D.current)==null?void 0:re.getBoundingClientRect();if(le){const xe={x:(Q.clientX-le.left-r.x)/k,y:(Q.clientY-le.top-r.y)/k};T(xe),!oe.current&&G.current&&(oe.current=!0,de(G.current.id));const ze={x:xe.x-M.startPosition.x,y:xe.y-M.startPosition.y};H.current.forEach((et,Rt)=>{u(Rt,{x:et.x+ze.x,y:et.y+ze.y})})}}if(L.current){const le=(te=D.current)==null?void 0:te.getBoundingClientRect();if(le){const xe=Q.clientX-le.left,ze=Q.clientY-le.top,et={x:xe/k-r.x,y:ze/k-r.y};q({fromPort:L.current,currentPosition:et})}}},pe=()=>{F.current&&(F.current=!1,D.current&&(D.current.style.cursor="default")),M.isDragging&&M.dragType==="block"&&(O(),G.current=null,oe.current=!1,H.current.clear(),$.current=!1),G.current&&!M.isDragging&&(G.current=null,$.current=!1),L.current&&(L.current=null,q(void 0))},me=Q=>{if(!be.getConfigModalOpen()){if((Q.ctrlKey||Q.metaKey)&&Q.key==="s"){console.log("Canvas: Ctrl+S detected, preventing default and calling save"),Q.preventDefault(),j?(console.log("Canvas: Calling onSavePreset function"),j()):console.log("Canvas: onSavePreset function not provided");return}(Q.ctrlKey||Q.metaKey)&&Q.key==="a"&&(Q.preventDefault(),b&&b()),(Q.key==="Delete"||Q.key==="Backspace")&&(Q.preventDefault(),h.forEach(Z=>{m(Z)}),N&&v.forEach(Z=>{N(Z)}))}};return document.addEventListener("mousemove",K),document.addEventListener("mouseup",pe),document.addEventListener("keydown",me),()=>{document.removeEventListener("mousemove",K),document.removeEventListener("mouseup",pe),document.removeEventListener("keydown",me)}},[c,k,r,e,b,h,v,m,N,M,T,u,O]),d.useEffect(()=>{const K=D.current;if(!K)return;const pe=me=>{if(me.ctrlKey){me.preventDefault();const Q=K.getBoundingClientRect(),Z={x:me.clientX-Q.left,y:me.clientY-Q.top},re=me.deltaY>0?-2:2;C(re,Z)}};return K.addEventListener("wheel",pe,{passive:!1}),()=>{K.removeEventListener("wheel",pe)}},[C]),i.jsxs("div",{className:"relative flex-1 overflow-hidden",style:{height:"calc(100vh - 4rem)"},children:[i.jsx("div",{ref:D,className:"canvas-grid relative w-full h-full cursor-default",onMouseDown:ie,onMouseMove:ae,onMouseUp:Se,onTouchStart:kn,onTouchMove:Jr,onTouchEnd:eo,style:{touchAction:"none"},children:i.jsxs("div",{id:"blocks-container",className:"absolute inset-0 z-20",style:{transform:`scale(${k}) translate(${r.x}px, ${r.y}px)`,transformOrigin:"0 0"},children:[i.jsx(Ej,{connections:t,blocks:e,selectedConnections:v,selectedBlocks:h,tempConnection:void 0,calculateBlockZIndex:Zn}),e.map(jt)]})}),z&&D.current&&un.createPortal(i.jsx("div",{className:"absolute border border-teal-400/50 bg-teal-400/10 pointer-events-none",style:{left:D.current.getBoundingClientRect().left+(Math.min(z.start.x,z.end.x)+r.x)*k,top:D.current.getBoundingClientRect().top+(Math.min(z.start.y,z.end.y)+r.y)*k,width:Math.abs(z.end.x-z.start.x)*k,height:Math.abs(z.end.y-z.start.y)*k,zIndex:9999}}),document.body),V&&D.current&&(()=>{const K=(Jn,hn)=>{const _t=e.find(Tr=>Tr.id===Jn);if(!_t)return{x:0,y:0};let Js=Sa.findLoadedBlockDefinition(_t.type);if(!Js){const Tr=_t.ports.find(Xo=>Xo.id===hn);if(!Tr)return{x:_t.position.x+95,y:_t.position.y+60};const ll=Tr.type==="output",cl=_t.ports.filter(Xo=>Xo.type===Tr.type).findIndex(Xo=>Xo.id===hn),ul=16,wv=ul+24+12+60+16+cl*24+11,af=8,lf={x:ll?280-ul-af-1:ul+af+1,y:wv-5};return{x:_t.position.x+lf.x,y:_t.position.y+lf.y}}const Go=Js.getPortPosition(_t,hn);return{x:_t.position.x+Go.x,y:_t.position.y+Go.y}},pe=(Jn,hn)=>{const _t=hn.x-Jn.x,Js=hn.y-Jn.y,Go=Math.abs(_t)*.6+Math.abs(Js)*.3,Tr=Jn.x+Go,ll=Jn.y,sf=hn.x-Go,cl=hn.y;return`M ${Jn.x} ${Jn.y} C ${Tr} ${ll}, ${sf} ${cl}, ${hn.x} ${hn.y}`},me=V.fromPort.split("-"),Q=`${me[0]}-${me[1]}`,Z=K(Q,V.fromPort),re=V.currentPosition,te=D.current.getBoundingClientRect(),le={x:te.left+Z.x*k+r.x*k,y:te.top+Z.y*k+r.y*k},xe={x:te.left+re.x*k+r.x*k,y:te.top+re.y*k+r.y*k},ze=Math.min(le.x,xe.x)-100,et=Math.max(le.x,xe.x)+100,Rt=Math.min(le.y,xe.y)-100,Ot=Math.max(le.y,xe.y)+100,ut={x:le.x-ze,y:le.y-Rt},Yo={x:xe.x-ze,y:xe.y-Rt},vv=pe(ut,Yo);return un.createPortal(i.jsx("svg",{className:"absolute pointer-events-none",style:{left:`${ze}px`,top:`${Rt}px`,width:`${et-ze}px`,height:`${Ot-Rt}px`,zIndex:1e4,overflow:"visible"},viewBox:`0 0 ${et-ze} ${Ot-Rt}`,children:i.jsxs("g",{children:[i.jsx("path",{d:vv,stroke:"hsl(174, 100%, 42%)",strokeWidth:"3",fill:"none",strokeDasharray:"8,4",opacity:"0.7",filter:"drop-shadow(0 0 5px hsla(174, 100%, 42%, 0.6))"}),i.jsx("circle",{cx:ut.x,cy:ut.y,r:"2.5",fill:"hsl(174, 100%, 42%)",opacity:"0.7"})]})}),document.body)})(),ue&&i.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 z-50",style:{top:"5px"},children:i.jsx("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 text-white px-3 py-1.5 rounded-md text-xs font-normal shadow-sm whitespace-nowrap",children:ue})}),i.jsxs("div",{className:"absolute bottom-6 right-6 flex flex-col space-y-2 z-40",children:[i.jsx("button",{onClick:o,onTouchStart:o,className:"glass-panel p-3 rounded-lg hover:bg-white/10 glow-teal",style:{touchAction:"manipulation"},children:i.jsx(Ka,{className:"w-4 h-4 text-teal-400"})}),i.jsx("button",{onClick:s,onTouchStart:s,className:"glass-panel p-3 rounded-lg hover:bg-white/10 glow-teal",style:{touchAction:"manipulation"},children:i.jsx(Mb,{className:"w-4 h-4 text-teal-400"})}),i.jsx("button",{onClick:a,onTouchStart:a,className:"glass-panel p-3 rounded-lg hover:bg-white/10 glow-purple",style:{touchAction:"manipulation"},children:i.jsx(kb,{className:"w-4 h-4 text-purple-400"})})]})]})}function Dj(e){return typeof e=="string"&&e.length>0}function Tj(){const[e,t]=d.useState({positions:new Map,blockDimensions:new Map}),n=d.useCallback((f,p)=>{let C;return(...x)=>{clearTimeout(C),C=setTimeout(()=>f.apply(null,x),p)}},[]),r=d.useCallback(f=>{const p=wr(f.type);if(!p){console.warn(`Block definition not found for type: ${f.type}`);return}t(C=>{const x=new Map(C.positions);return f.ports.forEach(h=>{try{const v=p.getPortPosition(f,h.id);x.set(h.id,v)}catch(v){console.error(`Error calculating port position for ${h.id}:`,v)}}),{...C,positions:x}})},[]),o=d.useCallback((f,p,C)=>{t(x=>{const h=new Map(x.blockDimensions);return h.set(f,p),{...x,blockDimensions:h}}),C&&r(C)},[r]),s=d.useMemo(()=>n(o,100),[o,n]),a=d.useCallback(f=>{t(p=>{const C=new Map;return f.forEach(x=>{const h=wr(x.type);h&&x.ports.forEach(v=>{try{const y=h.getPortPosition(x,v.id);C.set(v.id,y)}catch(y){console.error(`Error calculating port position for ${v.id}:`,y)}})}),{...p,positions:C}})},[]),l=d.useCallback((f,p)=>{const C=e.positions.get(p);if(C)return C;const x=wr(f.type);if(!x)return console.warn(`Block definition not found for type: ${f.type}`),{x:0,y:0};try{const h=x.getPortPosition(f,p);return t(v=>({...v,positions:new Map(v.positions).set(p,h)})),h}catch(h){return console.error(`Error calculating port position for ${p}:`,h),{x:0,y:0}}},[e.positions]),c=d.useCallback((f,p)=>{t(C=>{const x=new Map(C.positions),h=new Map(C.blockDimensions);return p.forEach(v=>{x.delete(v)}),h.delete(f),{positions:x,blockDimensions:h}})},[]),u=d.useCallback(()=>{t({positions:new Map,blockDimensions:new Map})},[]),m=d.useCallback(f=>e.blockDimensions.get(f)||null,[e.blockDimensions]);return{cache:e,handleBlockResize:s,recalculateBlockPorts:r,recalculateAllPorts:a,getPortPosition:l,removeBlock:c,clearCache:u,getBlockDimensions:m,debouncedHandleBlockResize:s}}const Us="midi-router-canvas-state";function Rj(){var e;try{const t=localStorage.getItem(Us);if(t){const n=JSON.parse(t);return((e=n.blocks)==null?void 0:e.some(o=>!o.id||o.id.includes("NaN")||o.id.endsWith("-undefined")||!wr(o.type)))?(console.warn("Found corrupted or invalid blocks, resetting canvas state"),localStorage.removeItem(Us),Na()):{...n,selectedBlocks:new Set(n.selectedBlocks||[]),selectedConnections:new Set(n.selectedConnections||[])}}}catch(t){console.warn("Failed to load canvas state from localStorage:",t)}return Na()}function Na(){return{zoom:100,pan:{x:0,y:0},blocks:[],connections:[],selectedBlocks:new Set,selectedConnections:new Set}}function Oj(e){try{const t={...e,selectedBlocks:Array.from(e.selectedBlocks),selectedConnections:Array.from(e.selectedConnections)};localStorage.setItem(Us,JSON.stringify(t))}catch(t){console.warn("Failed to save canvas state to localStorage:",t)}}function _j(){const{toast:e}=jd(),{toastNotificationsEnabled:t}=n0(),{autoSaveProject:n,loadPreset:r}=of(),{projectState:o,updateCanvasState:s,setCurrentPreset:a,setPresetSaved:l,setProjectImported:c,getDisplayName:u,shouldShowProjectStatus:m,initializeFromStorage:f}=xv(),{handleBlockResize:p,recalculateBlockPorts:C,recalculateAllPorts:x,getPortPosition:h,removeBlock:v,clearCache:y}=Tj(),g=Rj(),[w,b]=d.useState(()=>g.blocks.some(I=>I.ports.some(R=>R.id.includes("-input-")||R.id.includes("-output-")))?(localStorage.removeItem(Us),Na()):g),N=d.useRef(1),S=d.useRef(1),P=d.useRef({lastCanvasClick:{x:400,y:300},offsetCount:0,offsetStep:40,maxZIndex:1e3}),j=d.useRef(!1);d.useEffect(()=>{if(!j.current&&(j.current=!0,!f(w)&&w.blocks.length===0&&w.connections.length===0))try{const I=localStorage.getItem("lastLoadedPresetId");if(I){const R=r(I);if(R){const _={zoom:R.canvas.zoom,pan:R.canvas.pan,blocks:R.canvas.blocks,connections:R.canvas.connections,selectedBlocks:new Set,selectedConnections:new Set};b(_)}}}catch(I){console.warn("Failed to auto-load last preset:",I)}},[f,r]),d.useEffect(()=>{const z=async()=>{const I=w.blocks.map(_=>_.type),R=I.filter((_,V)=>I.indexOf(_)===V);for(const _ of R)try{await Sa.getBlockDefinition(_)}catch(V){console.warn(`Failed to preload block definition for ${_}:`,V)}};w.blocks.length>0&&z()},[w.blocks]),d.useEffect(()=>{Fi.updateConnections(w.connections,w.blocks)},[w.connections,w.blocks]),d.useEffect(()=>{s(w)},[w,s]),d.useEffect(()=>{const z=setInterval(()=>{(w.blocks.length>0||w.connections.length>0)&&n(w,"Auto-saved Project")},3e4);return()=>clearInterval(z)},[w,n]),d.useEffect(()=>{if(w.blocks.length>0){const z=w.blocks.map(I=>{const R=I.id.split("-");return parseInt(R[R.length-1])||0}).filter(I=>!isNaN(I));z.length>0&&(N.current=Math.max(...z)+1)}if(w.connections.length>0){const z=w.connections.map(I=>{const R=I.id.split("-");return parseInt(R[R.length-1])||0}).filter(I=>!isNaN(I));z.length>0&&(S.current=Math.max(...z)+1)}},[]),d.useEffect(()=>{if(w.blocks.length>0&&(x(w.blocks),w.blocks.some(I=>I.zIndex===void 0))){b(R=>({...R,blocks:R.blocks.map((_,V)=>({..._,zIndex:_.zIndex??V+1}))}));const I=Math.max(...w.blocks.map((R,_)=>R.zIndex??_+1));P.current.maxZIndex=Math.max(P.current.maxZIndex,I)}},[w.blocks.length,x]),d.useEffect(()=>{Oj(w)},[w]);const D=d.useCallback(z=>{b(I=>({...I,zoom:Math.max(25,Math.min(400,I.zoom+z))}))},[]),M=d.useCallback(z=>{b(I=>({...I,pan:{x:I.pan.x+z.x,y:I.pan.y+z.y}}))},[]),A=d.useCallback(z=>{b(I=>({...I,pan:{x:z.x,y:z.y}}))},[]),T=d.useCallback((z,I)=>{b(R=>{const _=R.zoom/100,V=I.x/_-R.pan.x,q=I.y/_-R.pan.y,se=Math.max(25,Math.min(400,R.zoom+z)),fe=se/100,ue=I.x/fe-V,je=I.y/fe-q;return{...R,zoom:se,pan:{x:ue,y:je}}})},[]),O=d.useCallback(()=>{b(z=>({...z,zoom:100,pan:{x:0,y:0}}))},[]),B=d.useCallback(()=>{localStorage.removeItem(Us),N.current=1,S.current=1,P.current={lastCanvasClick:{x:400,y:300},offsetCount:0,offsetStep:40,maxZIndex:1e3},b(Na())},[]),k=d.useCallback(z=>{P.current.lastCanvasClick=z,P.current.offsetCount=0},[]),F=d.useCallback(z=>{const I=P.current,R=I.offsetCount*I.offsetStep,_=I.offsetCount*I.offsetStep;let V=I.lastCanvasClick.x+R,q=I.lastCanvasClick.y+_;if(z){const se=z.width/(w.zoom/100),fe=z.height/(w.zoom/100),ue=-w.pan.x,je=-w.pan.y,De=ue+se,Pt=je+fe;(V>De-250||q>Pt-200)&&(V=ue+50+I.offsetCount%3*50,q=je+50+Math.floor(I.offsetCount/3)*60)}return I.offsetCount++,{x:V,y:q}},[w.zoom,w.pan]),Y=d.useCallback((z,I)=>{var fe;if(!Dj(z)){console.warn(`Invalid block type: ${z}`);return}if(!wr(z)){console.warn(`Block definition not found for type: ${z}`);return}const _=`${z}-${N.current}`;N.current++;const V=I||F(),q=++P.current.maxZIndex,se={id:_,type:z,position:V,config:Aj(z),ports:Lj(_,z),zIndex:q};if(b(ue=>({...ue,blocks:[...ue.blocks,se]})),t){const ue=wr(z),je=((fe=ue==null?void 0:ue.metadata)==null?void 0:fe.title)||z;setTimeout(()=>{e({title:"Block Added",description:`${je} block has been added to the canvas`})},0)}return _},[e,t]),E=d.useCallback((z,I)=>{b(R=>({...R,blocks:R.blocks.map(_=>_.id===z?{..._,position:I}:_)}))},[]),L=d.useCallback(z=>{b(I=>{const R=I.blocks.find(V=>V.id===z),_=I.connections.filter(V=>V.fromBlock===z||V.toBlock===z);if(R){const V=R.ports.map(q=>q.id);v(z,V),be.cleanupInstance(z)}if(R&&t){const V=_.length,q=R.type;setTimeout(()=>{e({title:"Block deleted",description:`Removed ${q} block${V>0?` and ${V} connection${V>1?"s":""}`:""}`,variant:"destructive",duration:2500})},0)}return{...I,blocks:I.blocks.filter(V=>V.id!==z),connections:I.connections.filter(V=>V.fromBlock!==z&&V.toBlock!==z)}})},[t,e,v]),U=d.useCallback((z,I)=>{b(R=>{const _=R.blocks.find(ie=>ie.ports.some(ae=>ae.id===z)),V=R.blocks.find(ie=>ie.ports.some(ae=>ae.id===I));if(!_||!V||_.id===V.id)return R;const q=_.ports.find(ie=>ie.id===z),se=V.ports.find(ie=>ie.id===I);if(!q||!se)return R;let fe=z,ue=I,je=_,De=V;if(q.type==="input"&&se.type==="output")fe=I,ue=z,je=V,De=_;else if(q.type!=="output"||se.type!=="input")return R;if(R.connections.find(ie=>ie.fromPort===fe&&ie.toPort===ue)){if(t){const ie=fe.split("-").pop()||"output",ae=ue.split("-").pop()||"input",Se=je.type,Me=De.type;setTimeout(()=>{e({title:"Connection already exists",description:`${Se} ${ie}  ${Me} ${ae} already connected`,variant:"destructive",duration:2500})},0)}return R}const ee={id:`conn-${S.current++}`,fromPort:fe,toPort:ue,fromBlock:je.id,toBlock:De.id};if(t){const ie=fe.split("-").pop()||"output",ae=ue.split("-").pop()||"input",Se=je.type,Me=De.type;setTimeout(()=>{e({title:"Connection created",description:`Connected ${Se} ${ie}  ${Me} ${ae}`,variant:"default",duration:2500})},0)}return{...R,connections:[...R.connections,ee]}})},[]),H=d.useCallback(z=>{b(I=>{const R=I.connections.find(_=>_.id===z);if(R&&t){const _=I.blocks.find(fe=>fe.id===R.fromBlock),V=I.blocks.find(fe=>fe.id===R.toBlock),q=(_==null?void 0:_.type)||"Unknown",se=(V==null?void 0:V.type)||"Unknown";setTimeout(()=>{e({title:"Connection deleted",description:`Removed connection from ${q} to ${se}`,variant:"destructive",duration:2500})},0)}return{...I,connections:I.connections.filter(_=>_.id!==z)}})},[t,e]),G=d.useCallback(()=>{b(z=>({...z,selectedBlocks:new Set,selectedConnections:new Set}))},[]),oe=d.useCallback((z,I=!1)=>{b(R=>{const _=I?new Set([...Array.from(R.selectedBlocks),...z]):new Set(z),V=R.connections.filter(se=>Array.from(_).some(fe=>se.fromBlock===fe||se.toBlock===fe)).map(se=>se.id),q=I?new Set([...Array.from(R.selectedConnections),...V]):new Set(V);return{...R,selectedBlocks:_,selectedConnections:q}})},[]),$=d.useCallback((z,I=!1)=>{b(R=>({...R,selectedConnections:I?new Set([...Array.from(R.selectedConnections),...z]):new Set(z)}))},[]),ne=d.useCallback(()=>{const z=w.blocks.map(I=>I.id);oe(z,!1)},[w.blocks,oe]),ye=d.useCallback(z=>{const I=(ee,ie)=>{if(ee.some(Se=>Se.x>=ie.left&&Se.x<=ie.right&&Se.y>=ie.top&&Se.y<=ie.bottom))return!0;for(let Se=0;Se<ee.length-1;Se++){const Me=ee[Se],wt=ee[Se+1];if(R(Me,wt,ie))return!0}return!1},R=(ee,ie,ae)=>!!(_(ee,ie,{x:ae.left,y:ae.top},{x:ae.right,y:ae.top})||_(ee,ie,{x:ae.left,y:ae.bottom},{x:ae.right,y:ae.bottom})||_(ee,ie,{x:ae.left,y:ae.top},{x:ae.left,y:ae.bottom})||_(ee,ie,{x:ae.right,y:ae.top},{x:ae.right,y:ae.bottom})),_=(ee,ie,ae,Se)=>{const Me=(ee.x-ie.x)*(ae.y-Se.y)-(ee.y-ie.y)*(ae.x-Se.x);if(Math.abs(Me)<1e-10)return!1;const wt=((ee.x-ae.x)*(ae.y-Se.y)-(ee.y-ae.y)*(ae.x-Se.x))/Me,Tt=-((ee.x-ie.x)*(ee.y-ae.y)-(ee.y-ie.y)*(ee.x-ae.x))/Me;return wt>=0&&wt<=1&&Tt>=0&&Tt<=1};w.zoom/100;const V=Math.min(z.start.x,z.end.x),q=Math.max(z.start.x,z.end.x),se=Math.min(z.start.y,z.end.y),fe=Math.max(z.start.y,z.end.y),ue=(ee,ie)=>!(ee.right<ie.left||ee.left>ie.right||ee.bottom<ie.top||ee.top>ie.bottom),je=w.blocks.filter(ee=>{try{const ie=document.querySelector(`[data-block-id="${ee.id}"]`);if(!ie)return!1;const ae=ie.getBoundingClientRect(),Se=w.zoom/100,Me={left:ee.position.x,right:ee.position.x+ae.width/Se,top:ee.position.y,bottom:ee.position.y+ae.height/Se};return ue({left:V,right:q,top:se,bottom:fe},Me)}catch{return!1}}).map(ee=>ee.id),De=(ee,ie)=>{const ae=w.blocks.find(te=>te.id===ee);if(!ae)return{x:0,y:0};const Se=Sa.findLoadedBlockDefinition(ae.type);if(Se){const te=Se.getPortPosition(ae,ie);return{x:ae.position.x+te.x,y:ae.position.y+te.y}}const Me=ae.ports.find(te=>te.id===ie);if(!Me)return{x:0,y:0};const wt=Me.type==="output",Dr=ae.ports.filter(te=>te.type===Me.type).findIndex(te=>te.id===ie),kn=16,me=kn+24+12+60+16+Dr*24+11,Q=8,re={x:wt?280-kn-Q-1:kn+Q+1,y:me-5};return{x:ae.position.x+re.x,y:ae.position.y+re.y}},Pt=(ee,ie,ae=20)=>{const Se=[],Me=ie.x-ee.x,wt=ie.y-ee.y,Tt=Math.abs(Me)*.6+Math.abs(wt)*.3,Dr=ee.x+Tt,kn=ee.y,Jr=ie.x-Tt,eo=ie.y;for(let Zn=0;Zn<=ae;Zn++){const jt=Zn/ae,K=1-jt,pe=K*K,me=pe*K,Q=jt*jt,Z=Q*jt,re=me*ee.x+3*pe*jt*Dr+3*K*Q*Jr+Z*ie.x,te=me*ee.y+3*pe*jt*kn+3*K*Q*eo+Z*ie.y;Se.push({x:re,y:te})}return Se},$e=w.connections.filter(ee=>{const ie=w.blocks.find(re=>re.id===ee.fromBlock),ae=w.blocks.find(re=>re.id===ee.toBlock);if(!ie||!ae)return console.log("Connection missing blocks:",ee.id),!1;const Se=De(ee.fromBlock,ee.fromPort),Me=De(ee.toBlock,ee.toPort),wt=Math.sqrt(Math.pow(Me.x-Se.x,2)+Math.pow(Me.y-Se.y,2)),Tt=w.zoom/100,kn=2*Math.max(1,Tt),Jr=Math.max(300,Math.ceil(wt*kn)),eo=Pt(Se,Me,Jr),jt=Math.max(2,8/Tt),K=V-jt,pe=q+jt,me=se-jt,Q=fe+jt;return I(eo,{left:K,right:pe,top:me,bottom:Q})}).map(ee=>ee.id);je.length>0?oe(je,!1):b(ee=>({...ee,selectedBlocks:new Set,selectedConnections:new Set($e)}))},[w.blocks,w.connections,w.zoom,w.pan,oe]),X=d.useCallback((z,I)=>{b(_=>({..._,blocks:_.blocks.map(V=>V.id===z?{...V,width:I.width,height:I.height}:V)}));const R=w.blocks.find(_=>_.id===z);R&&p(z,I,R)},[w.blocks,p]),de=d.useCallback(z=>{b(z),y(),z.blocks.length>0&&x(z.blocks)},[y,x]);return{canvasState:w,updateZoom:D,updatePan:M,setPan:A,wheelZoom:T,resetView:O,resetCanvas:B,addBlock:Y,updateBlockPosition:E,removeBlock:L,addConnection:U,removeConnection:H,clearSelection:G,selectBlocks:oe,selectConnections:$,selectAllBlocks:ne,selectInBox:ye,onBlockResize:X,getPortPosition:h,updateLastCanvasClick:k,loadCanvasState:de,projectState:o,setCurrentPreset:a,setPresetSaved:l,setProjectImported:c,getDisplayName:u,shouldShowProjectStatus:m}}function Aj(e){const n=rf().find(r=>r.name===e);return n?n.definition.getDefaultConfig():{}}function Lj(e,t){const r=rf().find(o=>o.name===t);return r?r.definition.generatePorts(e):[]}function $j(){const{canvasState:e,updateZoom:t,updatePan:n,setPan:r,wheelZoom:o,resetView:s,addBlock:a,updateBlockPosition:l,removeBlock:c,addConnection:u,removeConnection:m,clearSelection:f,selectBlocks:p,selectConnections:C,selectAllBlocks:x,selectInBox:h,onBlockResize:v,updateLastCanvasClick:y,loadCanvasState:g,projectState:w,setCurrentPreset:b,setPresetSaved:N,setProjectImported:S,getDisplayName:P,shouldShowProjectStatus:j}=_j(),D=d.useMemo(()=>e.blocks.flatMap(H=>{var ye,X;const G=wr(H.type);if(!G)return[];const $=G.component.portConfig;if(!$)return[];const ne=[];return(ye=$.inputs)==null||ye.forEach(de=>{ne.push(`${H.id}-${de.name}`)}),(X=$.outputs)==null||X.forEach(de=>{ne.push(`${H.id}-${de.name}`)}),ne}),[e.blocks]),M=i0(D),{savePreset:A,getAllPresets:T}=of(),O=d.useCallback(()=>{t(10)},[t]),B=d.useCallback(()=>{t(-10)},[t]),k=d.useCallback(H=>{a(H)},[a]),F=d.useCallback(H=>{n({x:H.x-e.pan.x,y:H.y-e.pan.y})},[n,e.pan]),Y=d.useCallback(H=>{r(H)},[r]),E=d.useCallback((H,G)=>{o(H,G)},[o]),L=d.useCallback(()=>{if(console.log("Save function called - Current preset ID:",w.currentPresetId),console.log("Save function called - Project name:",w.currentProjectName),console.log("Save function called - Has unsaved changes:",w.hasUnsavedChanges),w.currentPresetId&&w.currentProjectName!=="Untitled Preset"){const H=T();console.log("Available presets:",H.length);const G=H.find(oe=>oe.id===w.currentPresetId);console.log("Current preset found:",G?G.name:"Not found"),G&&(console.log("Saving preset with name:",G.name),A(e,G.name,G.description),N(w.currentPresetId,G.name,e),console.log("Preset save completed"))}else w.currentProjectName==="Untitled Preset"?console.log("Cannot save untitled preset with Ctrl+S - use Save Preset As instead"):console.log("No current preset loaded - cannot save with Ctrl+S")},[w.currentPresetId,w.currentProjectName,w.hasUnsavedChanges,e,A,T,N]);d.useCallback((H,G)=>{const oe=e.blocks.find(ne=>ne.id===H);if(!oe){console.warn(`Block ${H} not found`);return}const $=wr(oe.type);if(!$){console.warn(`Block definition for ${oe.type} not found`);return}try{const ne=$.component;if(ne.prototype&&ne.prototype.processMidiMessage){const X=Object.create(ne.prototype).processMidiMessage(G),de=(X==null?void 0:X.messages)||(X!=null&&X.message?[X.message]:[]);console.log(`MIDI Test Result for ${oe.type} (${H}):`,{input:G,output:X,messageCount:de.length,messages:de,processed:X!==null})}else console.warn(`Block ${oe.type} does not have processMidiMessage method`)}catch(ne){console.error(`Error processing MIDI message for block ${H}:`,ne)}},[e.blocks]);const U=d.useCallback((H,G)=>{p([H],G)},[p]);return i.jsx("div",{className:"min-h-screen text-gray-100 font-sans overflow-hidden flex",children:i.jsxs("div",{className:"flex-1 flex flex-col",children:[i.jsx(kj,{onAddBlock:k,zoomLevel:e.zoom,canvasState:e,onLoadCanvas:g}),i.jsx(Ij,{blocks:e.blocks,connections:e.connections,zoom:e.zoom,pan:e.pan,onZoomIn:O,onZoomOut:B,onResetView:s,onUpdatePan:F,onSetPan:Y,onUpdateBlockPosition:l,onRemoveBlock:c,onAddConnection:u,onAddBlock:a,onWheelZoom:E,activePortIds:new Set(Object.keys(M)),selectedBlocks:e.selectedBlocks,selectedConnections:e.selectedConnections,onClearSelection:f,onSelectInBox:h,onSelectBlock:U,onSelectAllBlocks:x,onRemoveConnection:m,onBlockResize:v,onCanvasClick:y,onSavePreset:L})]})})}function Bj(){return i.jsx(Tg,{base:"/midirouter",children:i.jsxs(bC,{children:[i.jsx(Sp,{path:"/",component:$j}),i.jsx(Sp,{component:W2})]})})}function zj(){return i.jsx(z2,{children:i.jsxs($2,{children:[i.jsx(fS,{}),i.jsx(Bj,{})]})})}Cg(document.getElementById("root")).render(i.jsx(zj,{}));
