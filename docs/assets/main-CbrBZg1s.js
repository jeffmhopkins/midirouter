function av(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const s=Object.getOwnPropertyDescriptor(r,o);s&&Object.defineProperty(e,o,s.get?s:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function Wp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Kp={exports:{}},va={},Yp={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $s=Symbol.for("react.element"),lv=Symbol.for("react.portal"),cv=Symbol.for("react.fragment"),uv=Symbol.for("react.strict_mode"),dv=Symbol.for("react.profiler"),fv=Symbol.for("react.provider"),pv=Symbol.for("react.context"),mv=Symbol.for("react.forward_ref"),hv=Symbol.for("react.suspense"),gv=Symbol.for("react.memo"),yv=Symbol.for("react.lazy"),Gd=Symbol.iterator;function xv(e){return e===null||typeof e!="object"?null:(e=Gd&&e[Gd]||e["@@iterator"],typeof e=="function"?e:null)}var Gp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xp=Object.assign,Qp={};function Oo(e,t,n){this.props=e,this.context=t,this.refs=Qp,this.updater=n||Gp}Oo.prototype.isReactComponent={};Oo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Oo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qp(){}qp.prototype=Oo.prototype;function wu(e,t,n){this.props=e,this.context=t,this.refs=Qp,this.updater=n||Gp}var Cu=wu.prototype=new qp;Cu.constructor=wu;Xp(Cu,Oo.prototype);Cu.isPureReactComponent=!0;var Xd=Array.isArray,Zp=Object.prototype.hasOwnProperty,bu={current:null},Jp={key:!0,ref:!0,__self:!0,__source:!0};function em(e,t,n){var r,o={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)Zp.call(t,r)&&!Jp.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:$s,type:e,key:s,ref:i,props:o,_owner:bu.current}}function vv(e,t){return{$$typeof:$s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Su(e){return typeof e=="object"&&e!==null&&e.$$typeof===$s}function wv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Qd=/\/+/g;function ol(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wv(""+e.key):t.toString(36)}function wi(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case $s:case lv:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+ol(i,0):r,Xd(o)?(n="",e!=null&&(n=e.replace(Qd,"$&/")+"/"),wi(o,t,n,"",function(u){return u})):o!=null&&(Su(o)&&(o=vv(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(Qd,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",Xd(e))for(var l=0;l<e.length;l++){s=e[l];var c=r+ol(s,l);i+=wi(s,t,n,c,o)}else if(c=xv(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=r+ol(s,l++),i+=wi(s,t,n,c,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Gs(e,t,n){if(e==null)return e;var r=[],o=0;return wi(e,r,"","",function(s){return t.call(n,s,o++)}),r}function Cv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var mt={current:null},Ci={transition:null},bv={ReactCurrentDispatcher:mt,ReactCurrentBatchConfig:Ci,ReactCurrentOwner:bu};function tm(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:Gs,forEach:function(e,t,n){Gs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Gs(e,function(){t++}),t},toArray:function(e){return Gs(e,function(t){return t})||[]},only:function(e){if(!Su(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};he.Component=Oo;he.Fragment=cv;he.Profiler=dv;he.PureComponent=wu;he.StrictMode=uv;he.Suspense=hv;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bv;he.act=tm;he.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Xp({},e.props),o=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=bu.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Zp.call(t,c)&&!Jp.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:$s,type:e.type,key:o,ref:s,props:r,_owner:i}};he.createContext=function(e){return e={$$typeof:pv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:fv,_context:e},e.Consumer=e};he.createElement=em;he.createFactory=function(e){var t=em.bind(null,e);return t.type=e,t};he.createRef=function(){return{current:null}};he.forwardRef=function(e){return{$$typeof:mv,render:e}};he.isValidElement=Su;he.lazy=function(e){return{$$typeof:yv,_payload:{_status:-1,_result:e},_init:Cv}};he.memo=function(e,t){return{$$typeof:gv,type:e,compare:t===void 0?null:t}};he.startTransition=function(e){var t=Ci.transition;Ci.transition={};try{e()}finally{Ci.transition=t}};he.unstable_act=tm;he.useCallback=function(e,t){return mt.current.useCallback(e,t)};he.useContext=function(e){return mt.current.useContext(e)};he.useDebugValue=function(){};he.useDeferredValue=function(e){return mt.current.useDeferredValue(e)};he.useEffect=function(e,t){return mt.current.useEffect(e,t)};he.useId=function(){return mt.current.useId()};he.useImperativeHandle=function(e,t,n){return mt.current.useImperativeHandle(e,t,n)};he.useInsertionEffect=function(e,t){return mt.current.useInsertionEffect(e,t)};he.useLayoutEffect=function(e,t){return mt.current.useLayoutEffect(e,t)};he.useMemo=function(e,t){return mt.current.useMemo(e,t)};he.useReducer=function(e,t,n){return mt.current.useReducer(e,t,n)};he.useRef=function(e){return mt.current.useRef(e)};he.useState=function(e){return mt.current.useState(e)};he.useSyncExternalStore=function(e,t,n){return mt.current.useSyncExternalStore(e,t,n)};he.useTransition=function(){return mt.current.useTransition()};he.version="18.3.1";Yp.exports=he;var f=Yp.exports;const Fe=Wp(f),nm=av({__proto__:null,default:Fe},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv=f,Nv=Symbol.for("react.element"),Pv=Symbol.for("react.fragment"),kv=Object.prototype.hasOwnProperty,jv=Sv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Mv={key:!0,ref:!0,__self:!0,__source:!0};function rm(e,t,n){var r,o={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)kv.call(t,r)&&!Mv.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:Nv,type:e,key:s,ref:i,props:o,_owner:jv.current}}va.Fragment=Pv;va.jsx=rm;va.jsxs=rm;Kp.exports=va;var a=Kp.exports,om={exports:{}},Rt={},sm={exports:{}},im={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,I){var T=k.length;k.push(I);e:for(;0<T;){var L=T-1>>>1,K=k[L];if(0<o(K,I))k[L]=I,k[T]=K,T=L;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var I=k[0],T=k.pop();if(T!==I){k[0]=T;e:for(var L=0,K=k.length,J=K>>>1;L<J;){var Z=2*(L+1)-1,ne=k[Z],ie=Z+1,G=k[ie];if(0>o(ne,T))ie<K&&0>o(G,ne)?(k[L]=G,k[ie]=T,L=ie):(k[L]=ne,k[Z]=T,L=Z);else if(ie<K&&0>o(G,T))k[L]=G,k[ie]=T,L=ie;else break e}}return I}function o(k,I){var T=k.sortIndex-I.sortIndex;return T!==0?T:k.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],p=1,m=null,d=3,y=!1,v=!1,h=!1,C=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(k){for(var I=n(u);I!==null;){if(I.callback===null)r(u);else if(I.startTime<=k)r(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=n(u)}}function b(k){if(h=!1,w(k),!v)if(n(c)!==null)v=!0,B(P);else{var I=n(u);I!==null&&E(b,I.startTime-k)}}function P(k,I){v=!1,h&&(h=!1,x(j),j=-1),y=!0;var T=d;try{for(w(I),m=n(c);m!==null&&(!(m.expirationTime>I)||k&&!z());){var L=m.callback;if(typeof L=="function"){m.callback=null,d=m.priorityLevel;var K=L(m.expirationTime<=I);I=e.unstable_now(),typeof K=="function"?m.callback=K:m===n(c)&&r(c),w(I)}else r(c);m=n(c)}if(m!==null)var J=!0;else{var Z=n(u);Z!==null&&E(b,Z.startTime-I),J=!1}return J}finally{m=null,d=T,y=!1}}var S=!1,N=null,j=-1,A=5,R=-1;function z(){return!(e.unstable_now()-R<A)}function O(){if(N!==null){var k=e.unstable_now();R=k;var I=!0;try{I=N(!0,k)}finally{I?U():(S=!1,N=null)}}else S=!1}var U;if(typeof g=="function")U=function(){g(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,M=D.port2;D.port1.onmessage=O,U=function(){M.postMessage(null)}}else U=function(){C(O,0)};function B(k){N=k,S||(S=!0,U())}function E(k,I){j=C(function(){k(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,B(P))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(k){switch(d){case 1:case 2:case 3:var I=3;break;default:I=d}var T=d;d=I;try{return k()}finally{d=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,I){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var T=d;d=k;try{return I()}finally{d=T}},e.unstable_scheduleCallback=function(k,I,T){var L=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?L+T:L):T=L,k){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=T+K,k={id:p++,callback:I,priorityLevel:k,startTime:T,expirationTime:K,sortIndex:-1},T>L?(k.sortIndex=T,t(u,k),n(c)===null&&k===n(u)&&(h?(x(j),j=-1):h=!0,E(b,T-L))):(k.sortIndex=K,t(c,k),v||y||(v=!0,B(P))),k},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(k){var I=d;return function(){var T=d;d=I;try{return k.apply(this,arguments)}finally{d=T}}}})(im);sm.exports=im;var Ev=sm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv=f,Dt=Ev;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var am=new Set,ys={};function Wr(e,t){bo(e,t),bo(e+"Capture",t)}function bo(e,t){for(ys[e]=t,e=0;e<t.length;e++)am.add(t[e])}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xl=Object.prototype.hasOwnProperty,Dv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qd={},Zd={};function Iv(e){return Xl.call(Zd,e)?!0:Xl.call(qd,e)?!1:Dv.test(e)?Zd[e]=!0:(qd[e]=!0,!1)}function Rv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ov(e,t,n,r){if(t===null||typeof t>"u"||Rv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ht(e,t,n,r,o,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ot[e]=new ht(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ot[t]=new ht(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ot[e]=new ht(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ot[e]=new ht(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ot[e]=new ht(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ot[e]=new ht(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ot[e]=new ht(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ot[e]=new ht(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ot[e]=new ht(e,5,!1,e.toLowerCase(),null,!1,!1)});var Nu=/[\-:]([a-z])/g;function Pu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Nu,Pu);ot[t]=new ht(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Nu,Pu);ot[t]=new ht(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Nu,Pu);ot[t]=new ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ot[e]=new ht(e,1,!1,e.toLowerCase(),null,!1,!1)});ot.xlinkHref=new ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ot[e]=new ht(e,1,!1,e.toLowerCase(),null,!0,!0)});function ku(e,t,n,r){var o=ot.hasOwnProperty(t)?ot[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ov(t,n,o,r)&&(n=null),r||o===null?Iv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Kn=Tv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xs=Symbol.for("react.element"),Zr=Symbol.for("react.portal"),Jr=Symbol.for("react.fragment"),ju=Symbol.for("react.strict_mode"),Ql=Symbol.for("react.profiler"),lm=Symbol.for("react.provider"),cm=Symbol.for("react.context"),Mu=Symbol.for("react.forward_ref"),ql=Symbol.for("react.suspense"),Zl=Symbol.for("react.suspense_list"),Eu=Symbol.for("react.memo"),er=Symbol.for("react.lazy"),um=Symbol.for("react.offscreen"),Jd=Symbol.iterator;function Wo(e){return e===null||typeof e!="object"?null:(e=Jd&&e[Jd]||e["@@iterator"],typeof e=="function"?e:null)}var Ae=Object.assign,sl;function ts(e){if(sl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);sl=t&&t[1]||""}return`
`+sl+e}var il=!1;function al(e,t){if(!e||il)return"";il=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),s=r.stack.split(`
`),i=o.length-1,l=s.length-1;1<=i&&0<=l&&o[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(o[i]!==s[l]){if(i!==1||l!==1)do if(i--,l--,0>l||o[i]!==s[l]){var c=`
`+o[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{il=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ts(e):""}function _v(e){switch(e.tag){case 5:return ts(e.type);case 16:return ts("Lazy");case 13:return ts("Suspense");case 19:return ts("SuspenseList");case 0:case 2:case 15:return e=al(e.type,!1),e;case 11:return e=al(e.type.render,!1),e;case 1:return e=al(e.type,!0),e;default:return""}}function Jl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Jr:return"Fragment";case Zr:return"Portal";case Ql:return"Profiler";case ju:return"StrictMode";case ql:return"Suspense";case Zl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case cm:return(e.displayName||"Context")+".Consumer";case lm:return(e._context.displayName||"Context")+".Provider";case Mu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Eu:return t=e.displayName||null,t!==null?t:Jl(e.type)||"Memo";case er:t=e._payload,e=e._init;try{return Jl(e(t))}catch{}}return null}function Av(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jl(t);case 8:return t===ju?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function yr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Lv(e){var t=dm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qs(e){e._valueTracker||(e._valueTracker=Lv(e))}function fm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dm(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function $i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ec(e,t){var n=t.checked;return Ae({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ef(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=yr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function pm(e,t){t=t.checked,t!=null&&ku(e,"checked",t,!1)}function tc(e,t){pm(e,t);var n=yr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?nc(e,t.type,n):t.hasOwnProperty("defaultValue")&&nc(e,t.type,yr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function nc(e,t,n){(t!=="number"||$i(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ns=Array.isArray;function fo(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+yr(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function rc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return Ae({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(H(92));if(ns(n)){if(1<n.length)throw Error(H(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:yr(n)}}function mm(e,t){var n=yr(t.value),r=yr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function rf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function hm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?hm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qs,gm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qs=qs||document.createElement("div"),qs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var is={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$v=["Webkit","ms","Moz","O"];Object.keys(is).forEach(function(e){$v.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),is[t]=is[e]})});function ym(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||is.hasOwnProperty(e)&&is[e]?(""+t).trim():t+"px"}function xm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=ym(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Bv=Ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sc(e,t){if(t){if(Bv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function ic(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ac=null;function Tu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lc=null,po=null,mo=null;function of(e){if(e=zs(e)){if(typeof lc!="function")throw Error(H(280));var t=e.stateNode;t&&(t=Na(t),lc(e.stateNode,e.type,t))}}function vm(e){po?mo?mo.push(e):mo=[e]:po=e}function wm(){if(po){var e=po,t=mo;if(mo=po=null,of(e),t)for(e=0;e<t.length;e++)of(t[e])}}function Cm(e,t){return e(t)}function bm(){}var ll=!1;function Sm(e,t,n){if(ll)return e(t,n);ll=!0;try{return Cm(e,t,n)}finally{ll=!1,(po!==null||mo!==null)&&(bm(),wm())}}function vs(e,t){var n=e.stateNode;if(n===null)return null;var r=Na(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var cc=!1;if(Fn)try{var Ko={};Object.defineProperty(Ko,"passive",{get:function(){cc=!0}}),window.addEventListener("test",Ko,Ko),window.removeEventListener("test",Ko,Ko)}catch{cc=!1}function Fv(e,t,n,r,o,s,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(p){this.onError(p)}}var as=!1,Bi=null,Fi=!1,uc=null,zv={onError:function(e){as=!0,Bi=e}};function Uv(e,t,n,r,o,s,i,l,c){as=!1,Bi=null,Fv.apply(zv,arguments)}function Vv(e,t,n,r,o,s,i,l,c){if(Uv.apply(this,arguments),as){if(as){var u=Bi;as=!1,Bi=null}else throw Error(H(198));Fi||(Fi=!0,uc=u)}}function Kr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Nm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sf(e){if(Kr(e)!==e)throw Error(H(188))}function Hv(e){var t=e.alternate;if(!t){if(t=Kr(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return sf(o),e;if(s===r)return sf(o),t;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,l=o.child;l;){if(l===n){i=!0,n=o,r=s;break}if(l===r){i=!0,r=o,n=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===n){i=!0,n=s,r=o;break}if(l===r){i=!0,r=s,n=o;break}l=l.sibling}if(!i)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function Pm(e){return e=Hv(e),e!==null?km(e):null}function km(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=km(e);if(t!==null)return t;e=e.sibling}return null}var jm=Dt.unstable_scheduleCallback,af=Dt.unstable_cancelCallback,Wv=Dt.unstable_shouldYield,Kv=Dt.unstable_requestPaint,Be=Dt.unstable_now,Yv=Dt.unstable_getCurrentPriorityLevel,Du=Dt.unstable_ImmediatePriority,Mm=Dt.unstable_UserBlockingPriority,zi=Dt.unstable_NormalPriority,Gv=Dt.unstable_LowPriority,Em=Dt.unstable_IdlePriority,wa=null,wn=null;function Xv(e){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(wa,e,void 0,(e.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:Zv,Qv=Math.log,qv=Math.LN2;function Zv(e){return e>>>=0,e===0?32:31-(Qv(e)/qv|0)|0}var Zs=64,Js=4194304;function rs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ui(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~o;l!==0?r=rs(l):(s&=i,s!==0&&(r=rs(s)))}else i=n&~o,i!==0?r=rs(i):s!==0&&(r=rs(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-on(t),o=1<<n,r|=e[n],t&=~o;return r}function Jv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function e1(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-on(s),l=1<<i,c=o[i];c===-1?(!(l&n)||l&r)&&(o[i]=Jv(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function dc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Tm(){var e=Zs;return Zs<<=1,!(Zs&4194240)&&(Zs=64),e}function cl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-on(t),e[t]=n}function t1(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-on(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function Iu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-on(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var be=0;function Dm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Im,Ru,Rm,Om,_m,fc=!1,ei=[],ar=null,lr=null,cr=null,ws=new Map,Cs=new Map,rr=[],n1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lf(e,t){switch(e){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":ws.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cs.delete(t.pointerId)}}function Yo(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=zs(t),t!==null&&Ru(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function r1(e,t,n,r,o){switch(t){case"focusin":return ar=Yo(ar,e,t,n,r,o),!0;case"dragenter":return lr=Yo(lr,e,t,n,r,o),!0;case"mouseover":return cr=Yo(cr,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return ws.set(s,Yo(ws.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,Cs.set(s,Yo(Cs.get(s)||null,e,t,n,r,o)),!0}return!1}function Am(e){var t=Dr(e.target);if(t!==null){var n=Kr(t);if(n!==null){if(t=n.tag,t===13){if(t=Nm(n),t!==null){e.blockedOn=t,_m(e.priority,function(){Rm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=pc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ac=r,n.target.dispatchEvent(r),ac=null}else return t=zs(n),t!==null&&Ru(t),e.blockedOn=n,!1;t.shift()}return!0}function cf(e,t,n){bi(e)&&n.delete(t)}function o1(){fc=!1,ar!==null&&bi(ar)&&(ar=null),lr!==null&&bi(lr)&&(lr=null),cr!==null&&bi(cr)&&(cr=null),ws.forEach(cf),Cs.forEach(cf)}function Go(e,t){e.blockedOn===t&&(e.blockedOn=null,fc||(fc=!0,Dt.unstable_scheduleCallback(Dt.unstable_NormalPriority,o1)))}function bs(e){function t(o){return Go(o,e)}if(0<ei.length){Go(ei[0],e);for(var n=1;n<ei.length;n++){var r=ei[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ar!==null&&Go(ar,e),lr!==null&&Go(lr,e),cr!==null&&Go(cr,e),ws.forEach(t),Cs.forEach(t),n=0;n<rr.length;n++)r=rr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<rr.length&&(n=rr[0],n.blockedOn===null);)Am(n),n.blockedOn===null&&rr.shift()}var ho=Kn.ReactCurrentBatchConfig,Vi=!0;function s1(e,t,n,r){var o=be,s=ho.transition;ho.transition=null;try{be=1,Ou(e,t,n,r)}finally{be=o,ho.transition=s}}function i1(e,t,n,r){var o=be,s=ho.transition;ho.transition=null;try{be=4,Ou(e,t,n,r)}finally{be=o,ho.transition=s}}function Ou(e,t,n,r){if(Vi){var o=pc(e,t,n,r);if(o===null)vl(e,t,r,Hi,n),lf(e,r);else if(r1(o,e,t,n,r))r.stopPropagation();else if(lf(e,r),t&4&&-1<n1.indexOf(e)){for(;o!==null;){var s=zs(o);if(s!==null&&Im(s),s=pc(e,t,n,r),s===null&&vl(e,t,r,Hi,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else vl(e,t,r,null,n)}}var Hi=null;function pc(e,t,n,r){if(Hi=null,e=Tu(r),e=Dr(e),e!==null)if(t=Kr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Nm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Hi=e,null}function Lm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yv()){case Du:return 1;case Mm:return 4;case zi:case Gv:return 16;case Em:return 536870912;default:return 16}default:return 16}}var sr=null,_u=null,Si=null;function $m(){if(Si)return Si;var e,t=_u,n=t.length,r,o="value"in sr?sr.value:sr.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[s-r];r++);return Si=o.slice(e,1<r?1-r:void 0)}function Ni(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ti(){return!0}function uf(){return!1}function Ot(e){function t(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ti:uf,this.isPropagationStopped=uf,this}return Ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ti)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ti)},persist:function(){},isPersistent:ti}),t}var _o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Au=Ot(_o),Fs=Ae({},_o,{view:0,detail:0}),a1=Ot(Fs),ul,dl,Xo,Ca=Ae({},Fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xo&&(Xo&&e.type==="mousemove"?(ul=e.screenX-Xo.screenX,dl=e.screenY-Xo.screenY):dl=ul=0,Xo=e),ul)},movementY:function(e){return"movementY"in e?e.movementY:dl}}),df=Ot(Ca),l1=Ae({},Ca,{dataTransfer:0}),c1=Ot(l1),u1=Ae({},Fs,{relatedTarget:0}),fl=Ot(u1),d1=Ae({},_o,{animationName:0,elapsedTime:0,pseudoElement:0}),f1=Ot(d1),p1=Ae({},_o,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),m1=Ot(p1),h1=Ae({},_o,{data:0}),ff=Ot(h1),g1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},x1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function v1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=x1[e])?!!t[e]:!1}function Lu(){return v1}var w1=Ae({},Fs,{key:function(e){if(e.key){var t=g1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ni(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?y1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lu,charCode:function(e){return e.type==="keypress"?Ni(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ni(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),C1=Ot(w1),b1=Ae({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pf=Ot(b1),S1=Ae({},Fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lu}),N1=Ot(S1),P1=Ae({},_o,{propertyName:0,elapsedTime:0,pseudoElement:0}),k1=Ot(P1),j1=Ae({},Ca,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),M1=Ot(j1),E1=[9,13,27,32],$u=Fn&&"CompositionEvent"in window,ls=null;Fn&&"documentMode"in document&&(ls=document.documentMode);var T1=Fn&&"TextEvent"in window&&!ls,Bm=Fn&&(!$u||ls&&8<ls&&11>=ls),mf=" ",hf=!1;function Fm(e,t){switch(e){case"keyup":return E1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var eo=!1;function D1(e,t){switch(e){case"compositionend":return zm(t);case"keypress":return t.which!==32?null:(hf=!0,mf);case"textInput":return e=t.data,e===mf&&hf?null:e;default:return null}}function I1(e,t){if(eo)return e==="compositionend"||!$u&&Fm(e,t)?(e=$m(),Si=_u=sr=null,eo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bm&&t.locale!=="ko"?null:t.data;default:return null}}var R1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!R1[e.type]:t==="textarea"}function Um(e,t,n,r){vm(r),t=Wi(t,"onChange"),0<t.length&&(n=new Au("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var cs=null,Ss=null;function O1(e){Jm(e,0)}function ba(e){var t=ro(e);if(fm(t))return e}function _1(e,t){if(e==="change")return t}var Vm=!1;if(Fn){var pl;if(Fn){var ml="oninput"in document;if(!ml){var yf=document.createElement("div");yf.setAttribute("oninput","return;"),ml=typeof yf.oninput=="function"}pl=ml}else pl=!1;Vm=pl&&(!document.documentMode||9<document.documentMode)}function xf(){cs&&(cs.detachEvent("onpropertychange",Hm),Ss=cs=null)}function Hm(e){if(e.propertyName==="value"&&ba(Ss)){var t=[];Um(t,Ss,e,Tu(e)),Sm(O1,t)}}function A1(e,t,n){e==="focusin"?(xf(),cs=t,Ss=n,cs.attachEvent("onpropertychange",Hm)):e==="focusout"&&xf()}function L1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ba(Ss)}function $1(e,t){if(e==="click")return ba(t)}function B1(e,t){if(e==="input"||e==="change")return ba(t)}function F1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var an=typeof Object.is=="function"?Object.is:F1;function Ns(e,t){if(an(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Xl.call(t,o)||!an(e[o],t[o]))return!1}return!0}function vf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wf(e,t){var n=vf(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vf(n)}}function Wm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Km(){for(var e=window,t=$i();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=$i(e.document)}return t}function Bu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function z1(e){var t=Km(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Wm(n.ownerDocument.documentElement,n)){if(r!==null&&Bu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=wf(n,s);var i=wf(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var U1=Fn&&"documentMode"in document&&11>=document.documentMode,to=null,mc=null,us=null,hc=!1;function Cf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hc||to==null||to!==$i(r)||(r=to,"selectionStart"in r&&Bu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),us&&Ns(us,r)||(us=r,r=Wi(mc,"onSelect"),0<r.length&&(t=new Au("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=to)))}function ni(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var no={animationend:ni("Animation","AnimationEnd"),animationiteration:ni("Animation","AnimationIteration"),animationstart:ni("Animation","AnimationStart"),transitionend:ni("Transition","TransitionEnd")},hl={},Ym={};Fn&&(Ym=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function Sa(e){if(hl[e])return hl[e];if(!no[e])return e;var t=no[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ym)return hl[e]=t[n];return e}var Gm=Sa("animationend"),Xm=Sa("animationiteration"),Qm=Sa("animationstart"),qm=Sa("transitionend"),Zm=new Map,bf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function br(e,t){Zm.set(e,t),Wr(t,[e])}for(var gl=0;gl<bf.length;gl++){var yl=bf[gl],V1=yl.toLowerCase(),H1=yl[0].toUpperCase()+yl.slice(1);br(V1,"on"+H1)}br(Gm,"onAnimationEnd");br(Xm,"onAnimationIteration");br(Qm,"onAnimationStart");br("dblclick","onDoubleClick");br("focusin","onFocus");br("focusout","onBlur");br(qm,"onTransitionEnd");bo("onMouseEnter",["mouseout","mouseover"]);bo("onMouseLeave",["mouseout","mouseover"]);bo("onPointerEnter",["pointerout","pointerover"]);bo("onPointerLeave",["pointerout","pointerover"]);Wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W1=new Set("cancel close invalid load scroll toggle".split(" ").concat(os));function Sf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Vv(r,t,void 0,e),e.currentTarget=null}function Jm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&o.isPropagationStopped())break e;Sf(o,l,u),s=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&o.isPropagationStopped())break e;Sf(o,l,u),s=c}}}if(Fi)throw e=uc,Fi=!1,uc=null,e}function Me(e,t){var n=t[wc];n===void 0&&(n=t[wc]=new Set);var r=e+"__bubble";n.has(r)||(eh(t,e,2,!1),n.add(r))}function xl(e,t,n){var r=0;t&&(r|=4),eh(n,e,r,t)}var ri="_reactListening"+Math.random().toString(36).slice(2);function Ps(e){if(!e[ri]){e[ri]=!0,am.forEach(function(n){n!=="selectionchange"&&(W1.has(n)||xl(n,!1,e),xl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ri]||(t[ri]=!0,xl("selectionchange",!1,t))}}function eh(e,t,n,r){switch(Lm(t)){case 1:var o=s1;break;case 4:o=i1;break;default:o=Ou}n=o.bind(null,t,n,e),o=void 0,!cc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function vl(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;i=i.return}for(;l!==null;){if(i=Dr(l),i===null)return;if(c=i.tag,c===5||c===6){r=s=i;continue e}l=l.parentNode}}r=r.return}Sm(function(){var u=s,p=Tu(n),m=[];e:{var d=Zm.get(e);if(d!==void 0){var y=Au,v=e;switch(e){case"keypress":if(Ni(n)===0)break e;case"keydown":case"keyup":y=C1;break;case"focusin":v="focus",y=fl;break;case"focusout":v="blur",y=fl;break;case"beforeblur":case"afterblur":y=fl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=df;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=c1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=N1;break;case Gm:case Xm:case Qm:y=f1;break;case qm:y=k1;break;case"scroll":y=a1;break;case"wheel":y=M1;break;case"copy":case"cut":case"paste":y=m1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=pf}var h=(t&4)!==0,C=!h&&e==="scroll",x=h?d!==null?d+"Capture":null:d;h=[];for(var g=u,w;g!==null;){w=g;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,x!==null&&(b=vs(g,x),b!=null&&h.push(ks(g,b,w)))),C)break;g=g.return}0<h.length&&(d=new y(d,v,null,n,p),m.push({event:d,listeners:h}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",d&&n!==ac&&(v=n.relatedTarget||n.fromElement)&&(Dr(v)||v[zn]))break e;if((y||d)&&(d=p.window===p?p:(d=p.ownerDocument)?d.defaultView||d.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=u,v=v?Dr(v):null,v!==null&&(C=Kr(v),v!==C||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(h=df,b="onMouseLeave",x="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(h=pf,b="onPointerLeave",x="onPointerEnter",g="pointer"),C=y==null?d:ro(y),w=v==null?d:ro(v),d=new h(b,g+"leave",y,n,p),d.target=C,d.relatedTarget=w,b=null,Dr(p)===u&&(h=new h(x,g+"enter",v,n,p),h.target=w,h.relatedTarget=C,b=h),C=b,y&&v)t:{for(h=y,x=v,g=0,w=h;w;w=Gr(w))g++;for(w=0,b=x;b;b=Gr(b))w++;for(;0<g-w;)h=Gr(h),g--;for(;0<w-g;)x=Gr(x),w--;for(;g--;){if(h===x||x!==null&&h===x.alternate)break t;h=Gr(h),x=Gr(x)}h=null}else h=null;y!==null&&Nf(m,d,y,h,!1),v!==null&&C!==null&&Nf(m,C,v,h,!0)}}e:{if(d=u?ro(u):window,y=d.nodeName&&d.nodeName.toLowerCase(),y==="select"||y==="input"&&d.type==="file")var P=_1;else if(gf(d))if(Vm)P=B1;else{P=L1;var S=A1}else(y=d.nodeName)&&y.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(P=$1);if(P&&(P=P(e,u))){Um(m,P,n,p);break e}S&&S(e,d,u),e==="focusout"&&(S=d._wrapperState)&&S.controlled&&d.type==="number"&&nc(d,"number",d.value)}switch(S=u?ro(u):window,e){case"focusin":(gf(S)||S.contentEditable==="true")&&(to=S,mc=u,us=null);break;case"focusout":us=mc=to=null;break;case"mousedown":hc=!0;break;case"contextmenu":case"mouseup":case"dragend":hc=!1,Cf(m,n,p);break;case"selectionchange":if(U1)break;case"keydown":case"keyup":Cf(m,n,p)}var N;if($u)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else eo?Fm(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(Bm&&n.locale!=="ko"&&(eo||j!=="onCompositionStart"?j==="onCompositionEnd"&&eo&&(N=$m()):(sr=p,_u="value"in sr?sr.value:sr.textContent,eo=!0)),S=Wi(u,j),0<S.length&&(j=new ff(j,e,null,n,p),m.push({event:j,listeners:S}),N?j.data=N:(N=zm(n),N!==null&&(j.data=N)))),(N=T1?D1(e,n):I1(e,n))&&(u=Wi(u,"onBeforeInput"),0<u.length&&(p=new ff("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:u}),p.data=N))}Jm(m,t)})}function ks(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wi(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=vs(e,n),s!=null&&r.unshift(ks(e,s,o)),s=vs(e,t),s!=null&&r.push(ks(e,s,o))),e=e.return}return r}function Gr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Nf(e,t,n,r,o){for(var s=t._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,o?(c=vs(n,s),c!=null&&i.unshift(ks(n,c,l))):o||(c=vs(n,s),c!=null&&i.push(ks(n,c,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var K1=/\r\n?/g,Y1=/\u0000|\uFFFD/g;function Pf(e){return(typeof e=="string"?e:""+e).replace(K1,`
`).replace(Y1,"")}function oi(e,t,n){if(t=Pf(t),Pf(e)!==t&&n)throw Error(H(425))}function Ki(){}var gc=null,yc=null;function xc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vc=typeof setTimeout=="function"?setTimeout:void 0,G1=typeof clearTimeout=="function"?clearTimeout:void 0,kf=typeof Promise=="function"?Promise:void 0,X1=typeof queueMicrotask=="function"?queueMicrotask:typeof kf<"u"?function(e){return kf.resolve(null).then(e).catch(Q1)}:vc;function Q1(e){setTimeout(function(){throw e})}function wl(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),bs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);bs(t)}function ur(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function jf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ao=Math.random().toString(36).slice(2),xn="__reactFiber$"+Ao,js="__reactProps$"+Ao,zn="__reactContainer$"+Ao,wc="__reactEvents$"+Ao,q1="__reactListeners$"+Ao,Z1="__reactHandles$"+Ao;function Dr(e){var t=e[xn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[zn]||n[xn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=jf(e);e!==null;){if(n=e[xn])return n;e=jf(e)}return t}e=n,n=e.parentNode}return null}function zs(e){return e=e[xn]||e[zn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ro(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function Na(e){return e[js]||null}var Cc=[],oo=-1;function Sr(e){return{current:e}}function Te(e){0>oo||(e.current=Cc[oo],Cc[oo]=null,oo--)}function Pe(e,t){oo++,Cc[oo]=e.current,e.current=t}var xr={},ut=Sr(xr),wt=Sr(!1),Ar=xr;function So(e,t){var n=e.type.contextTypes;if(!n)return xr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ct(e){return e=e.childContextTypes,e!=null}function Yi(){Te(wt),Te(ut)}function Mf(e,t,n){if(ut.current!==xr)throw Error(H(168));Pe(ut,t),Pe(wt,n)}function th(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(H(108,Av(e)||"Unknown",o));return Ae({},n,r)}function Gi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xr,Ar=ut.current,Pe(ut,e),Pe(wt,wt.current),!0}function Ef(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=th(e,t,Ar),r.__reactInternalMemoizedMergedChildContext=e,Te(wt),Te(ut),Pe(ut,e)):Te(wt),Pe(wt,n)}var An=null,Pa=!1,Cl=!1;function nh(e){An===null?An=[e]:An.push(e)}function J1(e){Pa=!0,nh(e)}function Nr(){if(!Cl&&An!==null){Cl=!0;var e=0,t=be;try{var n=An;for(be=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}An=null,Pa=!1}catch(o){throw An!==null&&(An=An.slice(e+1)),jm(Du,Nr),o}finally{be=t,Cl=!1}}return null}var so=[],io=0,Xi=null,Qi=0,Bt=[],Ft=0,Lr=null,Ln=1,$n="";function Er(e,t){so[io++]=Qi,so[io++]=Xi,Xi=e,Qi=t}function rh(e,t,n){Bt[Ft++]=Ln,Bt[Ft++]=$n,Bt[Ft++]=Lr,Lr=e;var r=Ln;e=$n;var o=32-on(r)-1;r&=~(1<<o),n+=1;var s=32-on(t)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Ln=1<<32-on(t)+o|n<<o|r,$n=s+e}else Ln=1<<s|n<<o|r,$n=e}function Fu(e){e.return!==null&&(Er(e,1),rh(e,1,0))}function zu(e){for(;e===Xi;)Xi=so[--io],so[io]=null,Qi=so[--io],so[io]=null;for(;e===Lr;)Lr=Bt[--Ft],Bt[Ft]=null,$n=Bt[--Ft],Bt[Ft]=null,Ln=Bt[--Ft],Bt[Ft]=null}var Et=null,Mt=null,Ie=!1,rn=null;function oh(e,t){var n=Ut(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Tf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Et=e,Mt=ur(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Et=e,Mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Lr!==null?{id:Ln,overflow:$n}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ut(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Et=e,Mt=null,!0):!1;default:return!1}}function bc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Sc(e){if(Ie){var t=Mt;if(t){var n=t;if(!Tf(e,t)){if(bc(e))throw Error(H(418));t=ur(n.nextSibling);var r=Et;t&&Tf(e,t)?oh(r,n):(e.flags=e.flags&-4097|2,Ie=!1,Et=e)}}else{if(bc(e))throw Error(H(418));e.flags=e.flags&-4097|2,Ie=!1,Et=e}}}function Df(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Et=e}function si(e){if(e!==Et)return!1;if(!Ie)return Df(e),Ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xc(e.type,e.memoizedProps)),t&&(t=Mt)){if(bc(e))throw sh(),Error(H(418));for(;t;)oh(e,t),t=ur(t.nextSibling)}if(Df(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Mt=ur(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Mt=null}}else Mt=Et?ur(e.stateNode.nextSibling):null;return!0}function sh(){for(var e=Mt;e;)e=ur(e.nextSibling)}function No(){Mt=Et=null,Ie=!1}function Uu(e){rn===null?rn=[e]:rn.push(e)}var ew=Kn.ReactCurrentBatchConfig;function Qo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var l=o.refs;i===null?delete l[s]:l[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function ii(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function If(e){var t=e._init;return t(e._payload)}function ih(e){function t(x,g){if(e){var w=x.deletions;w===null?(x.deletions=[g],x.flags|=16):w.push(g)}}function n(x,g){if(!e)return null;for(;g!==null;)t(x,g),g=g.sibling;return null}function r(x,g){for(x=new Map;g!==null;)g.key!==null?x.set(g.key,g):x.set(g.index,g),g=g.sibling;return x}function o(x,g){return x=mr(x,g),x.index=0,x.sibling=null,x}function s(x,g,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<g?(x.flags|=2,g):w):(x.flags|=2,g)):(x.flags|=1048576,g)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,g,w,b){return g===null||g.tag!==6?(g=Ml(w,x.mode,b),g.return=x,g):(g=o(g,w),g.return=x,g)}function c(x,g,w,b){var P=w.type;return P===Jr?p(x,g,w.props.children,b,w.key):g!==null&&(g.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===er&&If(P)===g.type)?(b=o(g,w.props),b.ref=Qo(x,g,w),b.return=x,b):(b=Di(w.type,w.key,w.props,null,x.mode,b),b.ref=Qo(x,g,w),b.return=x,b)}function u(x,g,w,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=El(w,x.mode,b),g.return=x,g):(g=o(g,w.children||[]),g.return=x,g)}function p(x,g,w,b,P){return g===null||g.tag!==7?(g=_r(w,x.mode,b,P),g.return=x,g):(g=o(g,w),g.return=x,g)}function m(x,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ml(""+g,x.mode,w),g.return=x,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Xs:return w=Di(g.type,g.key,g.props,null,x.mode,w),w.ref=Qo(x,null,g),w.return=x,w;case Zr:return g=El(g,x.mode,w),g.return=x,g;case er:var b=g._init;return m(x,b(g._payload),w)}if(ns(g)||Wo(g))return g=_r(g,x.mode,w,null),g.return=x,g;ii(x,g)}return null}function d(x,g,w,b){var P=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return P!==null?null:l(x,g,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xs:return w.key===P?c(x,g,w,b):null;case Zr:return w.key===P?u(x,g,w,b):null;case er:return P=w._init,d(x,g,P(w._payload),b)}if(ns(w)||Wo(w))return P!==null?null:p(x,g,w,b,null);ii(x,w)}return null}function y(x,g,w,b,P){if(typeof b=="string"&&b!==""||typeof b=="number")return x=x.get(w)||null,l(g,x,""+b,P);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Xs:return x=x.get(b.key===null?w:b.key)||null,c(g,x,b,P);case Zr:return x=x.get(b.key===null?w:b.key)||null,u(g,x,b,P);case er:var S=b._init;return y(x,g,w,S(b._payload),P)}if(ns(b)||Wo(b))return x=x.get(w)||null,p(g,x,b,P,null);ii(g,b)}return null}function v(x,g,w,b){for(var P=null,S=null,N=g,j=g=0,A=null;N!==null&&j<w.length;j++){N.index>j?(A=N,N=null):A=N.sibling;var R=d(x,N,w[j],b);if(R===null){N===null&&(N=A);break}e&&N&&R.alternate===null&&t(x,N),g=s(R,g,j),S===null?P=R:S.sibling=R,S=R,N=A}if(j===w.length)return n(x,N),Ie&&Er(x,j),P;if(N===null){for(;j<w.length;j++)N=m(x,w[j],b),N!==null&&(g=s(N,g,j),S===null?P=N:S.sibling=N,S=N);return Ie&&Er(x,j),P}for(N=r(x,N);j<w.length;j++)A=y(N,x,j,w[j],b),A!==null&&(e&&A.alternate!==null&&N.delete(A.key===null?j:A.key),g=s(A,g,j),S===null?P=A:S.sibling=A,S=A);return e&&N.forEach(function(z){return t(x,z)}),Ie&&Er(x,j),P}function h(x,g,w,b){var P=Wo(w);if(typeof P!="function")throw Error(H(150));if(w=P.call(w),w==null)throw Error(H(151));for(var S=P=null,N=g,j=g=0,A=null,R=w.next();N!==null&&!R.done;j++,R=w.next()){N.index>j?(A=N,N=null):A=N.sibling;var z=d(x,N,R.value,b);if(z===null){N===null&&(N=A);break}e&&N&&z.alternate===null&&t(x,N),g=s(z,g,j),S===null?P=z:S.sibling=z,S=z,N=A}if(R.done)return n(x,N),Ie&&Er(x,j),P;if(N===null){for(;!R.done;j++,R=w.next())R=m(x,R.value,b),R!==null&&(g=s(R,g,j),S===null?P=R:S.sibling=R,S=R);return Ie&&Er(x,j),P}for(N=r(x,N);!R.done;j++,R=w.next())R=y(N,x,j,R.value,b),R!==null&&(e&&R.alternate!==null&&N.delete(R.key===null?j:R.key),g=s(R,g,j),S===null?P=R:S.sibling=R,S=R);return e&&N.forEach(function(O){return t(x,O)}),Ie&&Er(x,j),P}function C(x,g,w,b){if(typeof w=="object"&&w!==null&&w.type===Jr&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Xs:e:{for(var P=w.key,S=g;S!==null;){if(S.key===P){if(P=w.type,P===Jr){if(S.tag===7){n(x,S.sibling),g=o(S,w.props.children),g.return=x,x=g;break e}}else if(S.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===er&&If(P)===S.type){n(x,S.sibling),g=o(S,w.props),g.ref=Qo(x,S,w),g.return=x,x=g;break e}n(x,S);break}else t(x,S);S=S.sibling}w.type===Jr?(g=_r(w.props.children,x.mode,b,w.key),g.return=x,x=g):(b=Di(w.type,w.key,w.props,null,x.mode,b),b.ref=Qo(x,g,w),b.return=x,x=b)}return i(x);case Zr:e:{for(S=w.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(x,g.sibling),g=o(g,w.children||[]),g.return=x,x=g;break e}else{n(x,g);break}else t(x,g);g=g.sibling}g=El(w,x.mode,b),g.return=x,x=g}return i(x);case er:return S=w._init,C(x,g,S(w._payload),b)}if(ns(w))return v(x,g,w,b);if(Wo(w))return h(x,g,w,b);ii(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(x,g.sibling),g=o(g,w),g.return=x,x=g):(n(x,g),g=Ml(w,x.mode,b),g.return=x,x=g),i(x)):n(x,g)}return C}var Po=ih(!0),ah=ih(!1),qi=Sr(null),Zi=null,ao=null,Vu=null;function Hu(){Vu=ao=Zi=null}function Wu(e){var t=qi.current;Te(qi),e._currentValue=t}function Nc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function go(e,t){Zi=e,Vu=ao=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(vt=!0),e.firstContext=null)}function Ht(e){var t=e._currentValue;if(Vu!==e)if(e={context:e,memoizedValue:t,next:null},ao===null){if(Zi===null)throw Error(H(308));ao=e,Zi.dependencies={lanes:0,firstContext:e}}else ao=ao.next=e;return t}var Ir=null;function Ku(e){Ir===null?Ir=[e]:Ir.push(e)}function lh(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Ku(t)):(n.next=o.next,o.next=n),t.interleaved=n,Un(e,r)}function Un(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var tr=!1;function Yu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ch(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function dr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,xe&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Un(e,n)}return o=r.interleaved,o===null?(t.next=t,Ku(r)):(t.next=o.next,o.next=t),r.interleaved=t,Un(e,n)}function Pi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Iu(e,n)}}function Rf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ji(e,t,n,r){var o=e.updateQueue;tr=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?s=u:i.next=u,i=c;var p=e.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==i&&(l===null?p.firstBaseUpdate=u:l.next=u,p.lastBaseUpdate=c))}if(s!==null){var m=o.baseState;i=0,p=u=c=null,l=s;do{var d=l.lane,y=l.eventTime;if((r&d)===d){p!==null&&(p=p.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,h=l;switch(d=t,y=n,h.tag){case 1:if(v=h.payload,typeof v=="function"){m=v.call(y,m,d);break e}m=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=h.payload,d=typeof v=="function"?v.call(y,m,d):v,d==null)break e;m=Ae({},m,d);break e;case 2:tr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=o.effects,d===null?o.effects=[l]:d.push(l))}else y={eventTime:y,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(u=p=y,c=m):p=p.next=y,i|=d;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;d=l,l=d.next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}while(!0);if(p===null&&(c=m),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=p,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);Br|=i,e.lanes=i,e.memoizedState=m}}function Of(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(H(191,o));o.call(r)}}}var Us={},Cn=Sr(Us),Ms=Sr(Us),Es=Sr(Us);function Rr(e){if(e===Us)throw Error(H(174));return e}function Gu(e,t){switch(Pe(Es,t),Pe(Ms,e),Pe(Cn,Us),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=oc(t,e)}Te(Cn),Pe(Cn,t)}function ko(){Te(Cn),Te(Ms),Te(Es)}function uh(e){Rr(Es.current);var t=Rr(Cn.current),n=oc(t,e.type);t!==n&&(Pe(Ms,e),Pe(Cn,n))}function Xu(e){Ms.current===e&&(Te(Cn),Te(Ms))}var Oe=Sr(0);function ea(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bl=[];function Qu(){for(var e=0;e<bl.length;e++)bl[e]._workInProgressVersionPrimary=null;bl.length=0}var ki=Kn.ReactCurrentDispatcher,Sl=Kn.ReactCurrentBatchConfig,$r=0,_e=null,He=null,Qe=null,ta=!1,ds=!1,Ts=0,tw=0;function it(){throw Error(H(321))}function qu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!an(e[n],t[n]))return!1;return!0}function Zu(e,t,n,r,o,s){if($r=s,_e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ki.current=e===null||e.memoizedState===null?sw:iw,e=n(r,o),ds){s=0;do{if(ds=!1,Ts=0,25<=s)throw Error(H(301));s+=1,Qe=He=null,t.updateQueue=null,ki.current=aw,e=n(r,o)}while(ds)}if(ki.current=na,t=He!==null&&He.next!==null,$r=0,Qe=He=_e=null,ta=!1,t)throw Error(H(300));return e}function Ju(){var e=Ts!==0;return Ts=0,e}function hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?_e.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function Wt(){if(He===null){var e=_e.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=Qe===null?_e.memoizedState:Qe.next;if(t!==null)Qe=t,He=e;else{if(e===null)throw Error(H(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Qe===null?_e.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function Ds(e,t){return typeof t=="function"?t(e):t}function Nl(e){var t=Wt(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=He,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var l=i=null,c=null,u=s;do{var p=u.lane;if(($r&p)===p)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var m={lane:p,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=m,i=r):c=c.next=m,_e.lanes|=p,Br|=p}u=u.next}while(u!==null&&u!==s);c===null?i=r:c.next=l,an(r,t.memoizedState)||(vt=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,_e.lanes|=s,Br|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pl(e){var t=Wt(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=e(s,i.action),i=i.next;while(i!==o);an(s,t.memoizedState)||(vt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function dh(){}function fh(e,t){var n=_e,r=Wt(),o=t(),s=!an(r.memoizedState,o);if(s&&(r.memoizedState=o,vt=!0),r=r.queue,ed(hh.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Qe!==null&&Qe.memoizedState.tag&1){if(n.flags|=2048,Is(9,mh.bind(null,n,r,o,t),void 0,null),Ze===null)throw Error(H(349));$r&30||ph(n,t,o)}return o}function ph(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=_e.updateQueue,t===null?(t={lastEffect:null,stores:null},_e.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function mh(e,t,n,r){t.value=n,t.getSnapshot=r,gh(t)&&yh(e)}function hh(e,t,n){return n(function(){gh(t)&&yh(e)})}function gh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!an(e,n)}catch{return!0}}function yh(e){var t=Un(e,1);t!==null&&sn(t,e,1,-1)}function _f(e){var t=hn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:e},t.queue=e,e=e.dispatch=ow.bind(null,_e,e),[t.memoizedState,e]}function Is(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=_e.updateQueue,t===null?(t={lastEffect:null,stores:null},_e.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function xh(){return Wt().memoizedState}function ji(e,t,n,r){var o=hn();_e.flags|=e,o.memoizedState=Is(1|t,n,void 0,r===void 0?null:r)}function ka(e,t,n,r){var o=Wt();r=r===void 0?null:r;var s=void 0;if(He!==null){var i=He.memoizedState;if(s=i.destroy,r!==null&&qu(r,i.deps)){o.memoizedState=Is(t,n,s,r);return}}_e.flags|=e,o.memoizedState=Is(1|t,n,s,r)}function Af(e,t){return ji(8390656,8,e,t)}function ed(e,t){return ka(2048,8,e,t)}function vh(e,t){return ka(4,2,e,t)}function wh(e,t){return ka(4,4,e,t)}function Ch(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bh(e,t,n){return n=n!=null?n.concat([e]):null,ka(4,4,Ch.bind(null,t,e),n)}function td(){}function Sh(e,t){var n=Wt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&qu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Nh(e,t){var n=Wt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&qu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ph(e,t,n){return $r&21?(an(n,t)||(n=Tm(),_e.lanes|=n,Br|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vt=!0),e.memoizedState=n)}function nw(e,t){var n=be;be=n!==0&&4>n?n:4,e(!0);var r=Sl.transition;Sl.transition={};try{e(!1),t()}finally{be=n,Sl.transition=r}}function kh(){return Wt().memoizedState}function rw(e,t,n){var r=pr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},jh(e))Mh(t,n);else if(n=lh(e,t,n,r),n!==null){var o=pt();sn(n,e,r,o),Eh(n,t,r)}}function ow(e,t,n){var r=pr(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(jh(e))Mh(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,l=s(i,n);if(o.hasEagerState=!0,o.eagerState=l,an(l,i)){var c=t.interleaved;c===null?(o.next=o,Ku(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}n=lh(e,t,o,r),n!==null&&(o=pt(),sn(n,e,r,o),Eh(n,t,r))}}function jh(e){var t=e.alternate;return e===_e||t!==null&&t===_e}function Mh(e,t){ds=ta=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Eh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Iu(e,n)}}var na={readContext:Ht,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},sw={readContext:Ht,useCallback:function(e,t){return hn().memoizedState=[e,t===void 0?null:t],e},useContext:Ht,useEffect:Af,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ji(4194308,4,Ch.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ji(4194308,4,e,t)},useInsertionEffect:function(e,t){return ji(4,2,e,t)},useMemo:function(e,t){var n=hn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=hn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=rw.bind(null,_e,e),[r.memoizedState,e]},useRef:function(e){var t=hn();return e={current:e},t.memoizedState=e},useState:_f,useDebugValue:td,useDeferredValue:function(e){return hn().memoizedState=e},useTransition:function(){var e=_f(!1),t=e[0];return e=nw.bind(null,e[1]),hn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=_e,o=hn();if(Ie){if(n===void 0)throw Error(H(407));n=n()}else{if(n=t(),Ze===null)throw Error(H(349));$r&30||ph(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Af(hh.bind(null,r,s,e),[e]),r.flags|=2048,Is(9,mh.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=hn(),t=Ze.identifierPrefix;if(Ie){var n=$n,r=Ln;n=(r&~(1<<32-on(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ts++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=tw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},iw={readContext:Ht,useCallback:Sh,useContext:Ht,useEffect:ed,useImperativeHandle:bh,useInsertionEffect:vh,useLayoutEffect:wh,useMemo:Nh,useReducer:Nl,useRef:xh,useState:function(){return Nl(Ds)},useDebugValue:td,useDeferredValue:function(e){var t=Wt();return Ph(t,He.memoizedState,e)},useTransition:function(){var e=Nl(Ds)[0],t=Wt().memoizedState;return[e,t]},useMutableSource:dh,useSyncExternalStore:fh,useId:kh,unstable_isNewReconciler:!1},aw={readContext:Ht,useCallback:Sh,useContext:Ht,useEffect:ed,useImperativeHandle:bh,useInsertionEffect:vh,useLayoutEffect:wh,useMemo:Nh,useReducer:Pl,useRef:xh,useState:function(){return Pl(Ds)},useDebugValue:td,useDeferredValue:function(e){var t=Wt();return He===null?t.memoizedState=e:Ph(t,He.memoizedState,e)},useTransition:function(){var e=Pl(Ds)[0],t=Wt().memoizedState;return[e,t]},useMutableSource:dh,useSyncExternalStore:fh,useId:kh,unstable_isNewReconciler:!1};function tn(e,t){if(e&&e.defaultProps){t=Ae({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Pc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ae({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ja={isMounted:function(e){return(e=e._reactInternals)?Kr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=pt(),o=pr(e),s=Bn(r,o);s.payload=t,n!=null&&(s.callback=n),t=dr(e,s,o),t!==null&&(sn(t,e,o,r),Pi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=pt(),o=pr(e),s=Bn(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=dr(e,s,o),t!==null&&(sn(t,e,o,r),Pi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pt(),r=pr(e),o=Bn(n,r);o.tag=2,t!=null&&(o.callback=t),t=dr(e,o,r),t!==null&&(sn(t,e,r,n),Pi(t,e,r))}};function Lf(e,t,n,r,o,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!Ns(n,r)||!Ns(o,s):!0}function Th(e,t,n){var r=!1,o=xr,s=t.contextType;return typeof s=="object"&&s!==null?s=Ht(s):(o=Ct(t)?Ar:ut.current,r=t.contextTypes,s=(r=r!=null)?So(e,o):xr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ja,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function $f(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ja.enqueueReplaceState(t,t.state,null)}function kc(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Yu(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=Ht(s):(s=Ct(t)?Ar:ut.current,o.context=So(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Pc(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&ja.enqueueReplaceState(o,o.state,null),Ji(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function jo(e,t){try{var n="",r=t;do n+=_v(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function kl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function jc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var lw=typeof WeakMap=="function"?WeakMap:Map;function Dh(e,t,n){n=Bn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){oa||(oa=!0,Lc=r),jc(e,t)},n}function Ih(e,t,n){n=Bn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){jc(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){jc(e,t),typeof r!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Bf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new lw;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=bw.bind(null,e,t,n),t.then(e,e))}function Ff(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zf(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Bn(-1,1),t.tag=2,dr(n,t,1))),n.lanes|=1),e)}var cw=Kn.ReactCurrentOwner,vt=!1;function ft(e,t,n,r){t.child=e===null?ah(t,null,n,r):Po(t,e.child,n,r)}function Uf(e,t,n,r,o){n=n.render;var s=t.ref;return go(t,o),r=Zu(e,t,n,r,s,o),n=Ju(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Vn(e,t,o)):(Ie&&n&&Fu(t),t.flags|=1,ft(e,t,r,o),t.child)}function Vf(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!cd(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Rh(e,t,s,r,o)):(e=Di(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ns,n(i,r)&&e.ref===t.ref)return Vn(e,t,o)}return t.flags|=1,e=mr(s,r),e.ref=t.ref,e.return=t,t.child=e}function Rh(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(Ns(s,r)&&e.ref===t.ref)if(vt=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(vt=!0);else return t.lanes=e.lanes,Vn(e,t,o)}return Mc(e,t,n,r,o)}function Oh(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(co,kt),kt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pe(co,kt),kt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Pe(co,kt),kt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Pe(co,kt),kt|=r;return ft(e,t,o,n),t.child}function _h(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Mc(e,t,n,r,o){var s=Ct(n)?Ar:ut.current;return s=So(t,s),go(t,o),n=Zu(e,t,n,r,s,o),r=Ju(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Vn(e,t,o)):(Ie&&r&&Fu(t),t.flags|=1,ft(e,t,n,o),t.child)}function Hf(e,t,n,r,o){if(Ct(n)){var s=!0;Gi(t)}else s=!1;if(go(t,o),t.stateNode===null)Mi(e,t),Th(t,n,r),kc(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ht(u):(u=Ct(n)?Ar:ut.current,u=So(t,u));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function";m||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&$f(t,i,r,u),tr=!1;var d=t.memoizedState;i.state=d,Ji(t,r,i,o),c=t.memoizedState,l!==r||d!==c||wt.current||tr?(typeof p=="function"&&(Pc(t,n,p,r),c=t.memoizedState),(l=tr||Lf(t,n,l,r,d,c,u))?(m||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,ch(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:tn(t.type,l),i.props=u,m=t.pendingProps,d=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ht(c):(c=Ct(n)?Ar:ut.current,c=So(t,c));var y=n.getDerivedStateFromProps;(p=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==m||d!==c)&&$f(t,i,r,c),tr=!1,d=t.memoizedState,i.state=d,Ji(t,r,i,o);var v=t.memoizedState;l!==m||d!==v||wt.current||tr?(typeof y=="function"&&(Pc(t,n,y,r),v=t.memoizedState),(u=tr||Lf(t,n,u,r,d,v,c)||!1)?(p||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,v,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,v,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),i.props=r,i.state=v,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ec(e,t,n,r,s,o)}function Ec(e,t,n,r,o,s){_h(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&Ef(t,n,!1),Vn(e,t,s);r=t.stateNode,cw.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Po(t,e.child,null,s),t.child=Po(t,null,l,s)):ft(e,t,l,s),t.memoizedState=r.state,o&&Ef(t,n,!0),t.child}function Ah(e){var t=e.stateNode;t.pendingContext?Mf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Mf(e,t.context,!1),Gu(e,t.containerInfo)}function Wf(e,t,n,r,o){return No(),Uu(o),t.flags|=256,ft(e,t,n,r),t.child}var Tc={dehydrated:null,treeContext:null,retryLane:0};function Dc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lh(e,t,n){var r=t.pendingProps,o=Oe.current,s=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Pe(Oe,o&1),e===null)return Sc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=Ta(i,r,0,null),e=_r(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Dc(n),t.memoizedState=Tc,e):nd(t,i));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return uw(e,t,i,r,l,o,n);if(s){s=r.fallback,i=t.mode,o=e.child,l=o.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=mr(o,c),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?s=mr(l,s):(s=_r(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?Dc(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=Tc,r}return s=e.child,e=s.sibling,r=mr(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function nd(e,t){return t=Ta({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ai(e,t,n,r){return r!==null&&Uu(r),Po(t,e.child,null,n),e=nd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function uw(e,t,n,r,o,s,i){if(n)return t.flags&256?(t.flags&=-257,r=kl(Error(H(422))),ai(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Ta({mode:"visible",children:r.children},o,0,null),s=_r(s,o,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Po(t,e.child,null,i),t.child.memoizedState=Dc(i),t.memoizedState=Tc,s);if(!(t.mode&1))return ai(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(H(419)),r=kl(s,r,void 0),ai(e,t,i,r)}if(l=(i&e.childLanes)!==0,vt||l){if(r=Ze,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,Un(e,o),sn(r,e,o,-1))}return ld(),r=kl(Error(H(421))),ai(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Sw.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,Mt=ur(o.nextSibling),Et=t,Ie=!0,rn=null,e!==null&&(Bt[Ft++]=Ln,Bt[Ft++]=$n,Bt[Ft++]=Lr,Ln=e.id,$n=e.overflow,Lr=t),t=nd(t,r.children),t.flags|=4096,t)}function Kf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Nc(e.return,t,n)}function jl(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function $h(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(ft(e,t,r.children,n),r=Oe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kf(e,n,t);else if(e.tag===19)Kf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Pe(Oe,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&ea(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),jl(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&ea(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}jl(t,!0,n,null,s);break;case"together":jl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Mi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Br|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=mr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=mr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function dw(e,t,n){switch(t.tag){case 3:Ah(t),No();break;case 5:uh(t);break;case 1:Ct(t.type)&&Gi(t);break;case 4:Gu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Pe(qi,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Pe(Oe,Oe.current&1),t.flags|=128,null):n&t.child.childLanes?Lh(e,t,n):(Pe(Oe,Oe.current&1),e=Vn(e,t,n),e!==null?e.sibling:null);Pe(Oe,Oe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return $h(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Pe(Oe,Oe.current),r)break;return null;case 22:case 23:return t.lanes=0,Oh(e,t,n)}return Vn(e,t,n)}var Bh,Ic,Fh,zh;Bh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ic=function(){};Fh=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Rr(Cn.current);var s=null;switch(n){case"input":o=ec(e,o),r=ec(e,r),s=[];break;case"select":o=Ae({},o,{value:void 0}),r=Ae({},r,{value:void 0}),s=[];break;case"textarea":o=rc(e,o),r=rc(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ki)}sc(n,r);var i;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ys.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ys.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Me("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};zh=function(e,t,n,r){n!==r&&(t.flags|=4)};function qo(e,t){if(!Ie)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function at(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fw(e,t,n){var r=t.pendingProps;switch(zu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(t),null;case 1:return Ct(t.type)&&Yi(),at(t),null;case 3:return r=t.stateNode,ko(),Te(wt),Te(ut),Qu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(si(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,rn!==null&&(Fc(rn),rn=null))),Ic(e,t),at(t),null;case 5:Xu(t);var o=Rr(Es.current);if(n=t.type,e!==null&&t.stateNode!=null)Fh(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(H(166));return at(t),null}if(e=Rr(Cn.current),si(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[xn]=t,r[js]=s,e=(t.mode&1)!==0,n){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(o=0;o<os.length;o++)Me(os[o],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":ef(r,s),Me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Me("invalid",r);break;case"textarea":nf(r,s),Me("invalid",r)}sc(n,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&oi(r.textContent,l,e),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&oi(r.textContent,l,e),o=["children",""+l]):ys.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Me("scroll",r)}switch(n){case"input":Qs(r),tf(r,s,!0);break;case"textarea":Qs(r),rf(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ki)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=hm(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[xn]=t,e[js]=r,Bh(e,t,!1,!1),t.stateNode=e;e:{switch(i=ic(n,r),n){case"dialog":Me("cancel",e),Me("close",e),o=r;break;case"iframe":case"object":case"embed":Me("load",e),o=r;break;case"video":case"audio":for(o=0;o<os.length;o++)Me(os[o],e);o=r;break;case"source":Me("error",e),o=r;break;case"img":case"image":case"link":Me("error",e),Me("load",e),o=r;break;case"details":Me("toggle",e),o=r;break;case"input":ef(e,r),o=ec(e,r),Me("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Ae({},r,{value:void 0}),Me("invalid",e);break;case"textarea":nf(e,r),o=rc(e,r),Me("invalid",e);break;default:o=r}sc(n,o),l=o;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?xm(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&gm(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&xs(e,c):typeof c=="number"&&xs(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ys.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Me("scroll",e):c!=null&&ku(e,s,c,i))}switch(n){case"input":Qs(e),tf(e,r,!1);break;case"textarea":Qs(e),rf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+yr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?fo(e,!!r.multiple,s,!1):r.defaultValue!=null&&fo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Ki)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return at(t),null;case 6:if(e&&t.stateNode!=null)zh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));if(n=Rr(Es.current),Rr(Cn.current),si(t)){if(r=t.stateNode,n=t.memoizedProps,r[xn]=t,(s=r.nodeValue!==n)&&(e=Et,e!==null))switch(e.tag){case 3:oi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&oi(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xn]=t,t.stateNode=r}return at(t),null;case 13:if(Te(Oe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ie&&Mt!==null&&t.mode&1&&!(t.flags&128))sh(),No(),t.flags|=98560,s=!1;else if(s=si(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(H(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[xn]=t}else No(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;at(t),s=!1}else rn!==null&&(Fc(rn),rn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Oe.current&1?We===0&&(We=3):ld())),t.updateQueue!==null&&(t.flags|=4),at(t),null);case 4:return ko(),Ic(e,t),e===null&&Ps(t.stateNode.containerInfo),at(t),null;case 10:return Wu(t.type._context),at(t),null;case 17:return Ct(t.type)&&Yi(),at(t),null;case 19:if(Te(Oe),s=t.memoizedState,s===null)return at(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)qo(s,!1);else{if(We!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=ea(e),i!==null){for(t.flags|=128,qo(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Pe(Oe,Oe.current&1|2),t.child}e=e.sibling}s.tail!==null&&Be()>Mo&&(t.flags|=128,r=!0,qo(s,!1),t.lanes=4194304)}else{if(!r)if(e=ea(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),qo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Ie)return at(t),null}else 2*Be()-s.renderingStartTime>Mo&&n!==1073741824&&(t.flags|=128,r=!0,qo(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Be(),t.sibling=null,n=Oe.current,Pe(Oe,r?n&1|2:n&1),t):(at(t),null);case 22:case 23:return ad(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?kt&1073741824&&(at(t),t.subtreeFlags&6&&(t.flags|=8192)):at(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function pw(e,t){switch(zu(t),t.tag){case 1:return Ct(t.type)&&Yi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ko(),Te(wt),Te(ut),Qu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Xu(t),null;case 13:if(Te(Oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));No()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Te(Oe),null;case 4:return ko(),null;case 10:return Wu(t.type._context),null;case 22:case 23:return ad(),null;case 24:return null;default:return null}}var li=!1,lt=!1,mw=typeof WeakSet=="function"?WeakSet:Set,X=null;function lo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$e(e,t,r)}else n.current=null}function Rc(e,t,n){try{n()}catch(r){$e(e,t,r)}}var Yf=!1;function hw(e,t){if(gc=Vi,e=Km(),Bu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,u=0,p=0,m=e,d=null;t:for(;;){for(var y;m!==n||o!==0&&m.nodeType!==3||(l=i+o),m!==s||r!==0&&m.nodeType!==3||(c=i+r),m.nodeType===3&&(i+=m.nodeValue.length),(y=m.firstChild)!==null;)d=m,m=y;for(;;){if(m===e)break t;if(d===n&&++u===o&&(l=i),d===s&&++p===r&&(c=i),(y=m.nextSibling)!==null)break;m=d,d=m.parentNode}m=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(yc={focusedElem:e,selectionRange:n},Vi=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var h=v.memoizedProps,C=v.memoizedState,x=t.stateNode,g=x.getSnapshotBeforeUpdate(t.elementType===t.type?h:tn(t.type,h),C);x.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(b){$e(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return v=Yf,Yf=!1,v}function fs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&Rc(t,n,s)}o=o.next}while(o!==r)}}function Ma(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Oc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Uh(e){var t=e.alternate;t!==null&&(e.alternate=null,Uh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xn],delete t[js],delete t[wc],delete t[q1],delete t[Z1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Vh(e){return e.tag===5||e.tag===3||e.tag===4}function Gf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _c(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ki));else if(r!==4&&(e=e.child,e!==null))for(_c(e,t,n),e=e.sibling;e!==null;)_c(e,t,n),e=e.sibling}function Ac(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ac(e,t,n),e=e.sibling;e!==null;)Ac(e,t,n),e=e.sibling}var nt=null,nn=!1;function Qn(e,t,n){for(n=n.child;n!==null;)Hh(e,t,n),n=n.sibling}function Hh(e,t,n){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(wa,n)}catch{}switch(n.tag){case 5:lt||lo(n,t);case 6:var r=nt,o=nn;nt=null,Qn(e,t,n),nt=r,nn=o,nt!==null&&(nn?(e=nt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):nt.removeChild(n.stateNode));break;case 18:nt!==null&&(nn?(e=nt,n=n.stateNode,e.nodeType===8?wl(e.parentNode,n):e.nodeType===1&&wl(e,n),bs(e)):wl(nt,n.stateNode));break;case 4:r=nt,o=nn,nt=n.stateNode.containerInfo,nn=!0,Qn(e,t,n),nt=r,nn=o;break;case 0:case 11:case 14:case 15:if(!lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&Rc(n,t,i),o=o.next}while(o!==r)}Qn(e,t,n);break;case 1:if(!lt&&(lo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){$e(n,t,l)}Qn(e,t,n);break;case 21:Qn(e,t,n);break;case 22:n.mode&1?(lt=(r=lt)||n.memoizedState!==null,Qn(e,t,n),lt=r):Qn(e,t,n);break;default:Qn(e,t,n)}}function Xf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new mw),t.forEach(function(r){var o=Nw.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function qt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:nt=l.stateNode,nn=!1;break e;case 3:nt=l.stateNode.containerInfo,nn=!0;break e;case 4:nt=l.stateNode.containerInfo,nn=!0;break e}l=l.return}if(nt===null)throw Error(H(160));Hh(s,i,o),nt=null,nn=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(u){$e(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Wh(t,e),t=t.sibling}function Wh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qt(t,e),mn(e),r&4){try{fs(3,e,e.return),Ma(3,e)}catch(h){$e(e,e.return,h)}try{fs(5,e,e.return)}catch(h){$e(e,e.return,h)}}break;case 1:qt(t,e),mn(e),r&512&&n!==null&&lo(n,n.return);break;case 5:if(qt(t,e),mn(e),r&512&&n!==null&&lo(n,n.return),e.flags&32){var o=e.stateNode;try{xs(o,"")}catch(h){$e(e,e.return,h)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&pm(o,s),ic(l,i);var u=ic(l,s);for(i=0;i<c.length;i+=2){var p=c[i],m=c[i+1];p==="style"?xm(o,m):p==="dangerouslySetInnerHTML"?gm(o,m):p==="children"?xs(o,m):ku(o,p,m,u)}switch(l){case"input":tc(o,s);break;case"textarea":mm(o,s);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?fo(o,!!s.multiple,y,!1):d!==!!s.multiple&&(s.defaultValue!=null?fo(o,!!s.multiple,s.defaultValue,!0):fo(o,!!s.multiple,s.multiple?[]:"",!1))}o[js]=s}catch(h){$e(e,e.return,h)}}break;case 6:if(qt(t,e),mn(e),r&4){if(e.stateNode===null)throw Error(H(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(h){$e(e,e.return,h)}}break;case 3:if(qt(t,e),mn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{bs(t.containerInfo)}catch(h){$e(e,e.return,h)}break;case 4:qt(t,e),mn(e);break;case 13:qt(t,e),mn(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(sd=Be())),r&4&&Xf(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(lt=(u=lt)||p,qt(t,e),lt=u):qt(t,e),mn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!p&&e.mode&1)for(X=e,p=e.child;p!==null;){for(m=X=p;X!==null;){switch(d=X,y=d.child,d.tag){case 0:case 11:case 14:case 15:fs(4,d,d.return);break;case 1:lo(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(h){$e(r,n,h)}}break;case 5:lo(d,d.return);break;case 22:if(d.memoizedState!==null){qf(m);continue}}y!==null?(y.return=d,X=y):qf(m)}p=p.sibling}e:for(p=null,m=e;;){if(m.tag===5){if(p===null){p=m;try{o=m.stateNode,u?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=m.stateNode,c=m.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=ym("display",i))}catch(h){$e(e,e.return,h)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(h){$e(e,e.return,h)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:qt(t,e),mn(e),r&4&&Xf(e);break;case 21:break;default:qt(t,e),mn(e)}}function mn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Vh(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(xs(o,""),r.flags&=-33);var s=Gf(e);Ac(e,s,o);break;case 3:case 4:var i=r.stateNode.containerInfo,l=Gf(e);_c(e,l,i);break;default:throw Error(H(161))}}catch(c){$e(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gw(e,t,n){X=e,Kh(e)}function Kh(e,t,n){for(var r=(e.mode&1)!==0;X!==null;){var o=X,s=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||li;if(!i){var l=o.alternate,c=l!==null&&l.memoizedState!==null||lt;l=li;var u=lt;if(li=i,(lt=c)&&!u)for(X=o;X!==null;)i=X,c=i.child,i.tag===22&&i.memoizedState!==null?Zf(o):c!==null?(c.return=i,X=c):Zf(o);for(;s!==null;)X=s,Kh(s),s=s.sibling;X=o,li=l,lt=u}Qf(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,X=s):Qf(e)}}function Qf(e){for(;X!==null;){var t=X;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:lt||Ma(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!lt)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:tn(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Of(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Of(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var p=u.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&bs(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}lt||t.flags&512&&Oc(t)}catch(d){$e(t,t.return,d)}}if(t===e){X=null;break}if(n=t.sibling,n!==null){n.return=t.return,X=n;break}X=t.return}}function qf(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var n=t.sibling;if(n!==null){n.return=t.return,X=n;break}X=t.return}}function Zf(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ma(4,t)}catch(c){$e(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(c){$e(t,o,c)}}var s=t.return;try{Oc(t)}catch(c){$e(t,s,c)}break;case 5:var i=t.return;try{Oc(t)}catch(c){$e(t,i,c)}}}catch(c){$e(t,t.return,c)}if(t===e){X=null;break}var l=t.sibling;if(l!==null){l.return=t.return,X=l;break}X=t.return}}var yw=Math.ceil,ra=Kn.ReactCurrentDispatcher,rd=Kn.ReactCurrentOwner,Vt=Kn.ReactCurrentBatchConfig,xe=0,Ze=null,ze=null,rt=0,kt=0,co=Sr(0),We=0,Rs=null,Br=0,Ea=0,od=0,ps=null,xt=null,sd=0,Mo=1/0,kn=null,oa=!1,Lc=null,fr=null,ci=!1,ir=null,sa=0,ms=0,$c=null,Ei=-1,Ti=0;function pt(){return xe&6?Be():Ei!==-1?Ei:Ei=Be()}function pr(e){return e.mode&1?xe&2&&rt!==0?rt&-rt:ew.transition!==null?(Ti===0&&(Ti=Tm()),Ti):(e=be,e!==0||(e=window.event,e=e===void 0?16:Lm(e.type)),e):1}function sn(e,t,n,r){if(50<ms)throw ms=0,$c=null,Error(H(185));Bs(e,n,r),(!(xe&2)||e!==Ze)&&(e===Ze&&(!(xe&2)&&(Ea|=n),We===4&&or(e,rt)),bt(e,r),n===1&&xe===0&&!(t.mode&1)&&(Mo=Be()+500,Pa&&Nr()))}function bt(e,t){var n=e.callbackNode;e1(e,t);var r=Ui(e,e===Ze?rt:0);if(r===0)n!==null&&af(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&af(n),t===1)e.tag===0?J1(Jf.bind(null,e)):nh(Jf.bind(null,e)),X1(function(){!(xe&6)&&Nr()}),n=null;else{switch(Dm(r)){case 1:n=Du;break;case 4:n=Mm;break;case 16:n=zi;break;case 536870912:n=Em;break;default:n=zi}n=eg(n,Yh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Yh(e,t){if(Ei=-1,Ti=0,xe&6)throw Error(H(327));var n=e.callbackNode;if(yo()&&e.callbackNode!==n)return null;var r=Ui(e,e===Ze?rt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ia(e,r);else{t=r;var o=xe;xe|=2;var s=Xh();(Ze!==e||rt!==t)&&(kn=null,Mo=Be()+500,Or(e,t));do try{ww();break}catch(l){Gh(e,l)}while(!0);Hu(),ra.current=s,xe=o,ze!==null?t=0:(Ze=null,rt=0,t=We)}if(t!==0){if(t===2&&(o=dc(e),o!==0&&(r=o,t=Bc(e,o))),t===1)throw n=Rs,Or(e,0),or(e,r),bt(e,Be()),n;if(t===6)or(e,r);else{if(o=e.current.alternate,!(r&30)&&!xw(o)&&(t=ia(e,r),t===2&&(s=dc(e),s!==0&&(r=s,t=Bc(e,s))),t===1))throw n=Rs,Or(e,0),or(e,r),bt(e,Be()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(H(345));case 2:Tr(e,xt,kn);break;case 3:if(or(e,r),(r&130023424)===r&&(t=sd+500-Be(),10<t)){if(Ui(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){pt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=vc(Tr.bind(null,e,xt,kn),t);break}Tr(e,xt,kn);break;case 4:if(or(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-on(r);s=1<<i,i=t[i],i>o&&(o=i),r&=~s}if(r=o,r=Be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yw(r/1960))-r,10<r){e.timeoutHandle=vc(Tr.bind(null,e,xt,kn),r);break}Tr(e,xt,kn);break;case 5:Tr(e,xt,kn);break;default:throw Error(H(329))}}}return bt(e,Be()),e.callbackNode===n?Yh.bind(null,e):null}function Bc(e,t){var n=ps;return e.current.memoizedState.isDehydrated&&(Or(e,t).flags|=256),e=ia(e,t),e!==2&&(t=xt,xt=n,t!==null&&Fc(t)),e}function Fc(e){xt===null?xt=e:xt.push.apply(xt,e)}function xw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!an(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function or(e,t){for(t&=~od,t&=~Ea,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-on(t),r=1<<n;e[n]=-1,t&=~r}}function Jf(e){if(xe&6)throw Error(H(327));yo();var t=Ui(e,0);if(!(t&1))return bt(e,Be()),null;var n=ia(e,t);if(e.tag!==0&&n===2){var r=dc(e);r!==0&&(t=r,n=Bc(e,r))}if(n===1)throw n=Rs,Or(e,0),or(e,t),bt(e,Be()),n;if(n===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tr(e,xt,kn),bt(e,Be()),null}function id(e,t){var n=xe;xe|=1;try{return e(t)}finally{xe=n,xe===0&&(Mo=Be()+500,Pa&&Nr())}}function Fr(e){ir!==null&&ir.tag===0&&!(xe&6)&&yo();var t=xe;xe|=1;var n=Vt.transition,r=be;try{if(Vt.transition=null,be=1,e)return e()}finally{be=r,Vt.transition=n,xe=t,!(xe&6)&&Nr()}}function ad(){kt=co.current,Te(co)}function Or(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,G1(n)),ze!==null)for(n=ze.return;n!==null;){var r=n;switch(zu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yi();break;case 3:ko(),Te(wt),Te(ut),Qu();break;case 5:Xu(r);break;case 4:ko();break;case 13:Te(Oe);break;case 19:Te(Oe);break;case 10:Wu(r.type._context);break;case 22:case 23:ad()}n=n.return}if(Ze=e,ze=e=mr(e.current,null),rt=kt=t,We=0,Rs=null,od=Ea=Br=0,xt=ps=null,Ir!==null){for(t=0;t<Ir.length;t++)if(n=Ir[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=o,r.next=i}n.pending=r}Ir=null}return e}function Gh(e,t){do{var n=ze;try{if(Hu(),ki.current=na,ta){for(var r=_e.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}ta=!1}if($r=0,Qe=He=_e=null,ds=!1,Ts=0,rd.current=null,n===null||n.return===null){We=1,Rs=t,ze=null;break}e:{var s=e,i=n.return,l=n,c=t;if(t=rt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,p=l,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var d=p.alternate;d?(p.updateQueue=d.updateQueue,p.memoizedState=d.memoizedState,p.lanes=d.lanes):(p.updateQueue=null,p.memoizedState=null)}var y=Ff(i);if(y!==null){y.flags&=-257,zf(y,i,l,s,t),y.mode&1&&Bf(s,u,t),t=y,c=u;var v=t.updateQueue;if(v===null){var h=new Set;h.add(c),t.updateQueue=h}else v.add(c);break e}else{if(!(t&1)){Bf(s,u,t),ld();break e}c=Error(H(426))}}else if(Ie&&l.mode&1){var C=Ff(i);if(C!==null){!(C.flags&65536)&&(C.flags|=256),zf(C,i,l,s,t),Uu(jo(c,l));break e}}s=c=jo(c,l),We!==4&&(We=2),ps===null?ps=[s]:ps.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var x=Dh(s,c,t);Rf(s,x);break e;case 1:l=c;var g=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(fr===null||!fr.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var b=Ih(s,l,t);Rf(s,b);break e}}s=s.return}while(s!==null)}qh(n)}catch(P){t=P,ze===n&&n!==null&&(ze=n=n.return);continue}break}while(!0)}function Xh(){var e=ra.current;return ra.current=na,e===null?na:e}function ld(){(We===0||We===3||We===2)&&(We=4),Ze===null||!(Br&268435455)&&!(Ea&268435455)||or(Ze,rt)}function ia(e,t){var n=xe;xe|=2;var r=Xh();(Ze!==e||rt!==t)&&(kn=null,Or(e,t));do try{vw();break}catch(o){Gh(e,o)}while(!0);if(Hu(),xe=n,ra.current=r,ze!==null)throw Error(H(261));return Ze=null,rt=0,We}function vw(){for(;ze!==null;)Qh(ze)}function ww(){for(;ze!==null&&!Wv();)Qh(ze)}function Qh(e){var t=Jh(e.alternate,e,kt);e.memoizedProps=e.pendingProps,t===null?qh(e):ze=t,rd.current=null}function qh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=pw(n,t),n!==null){n.flags&=32767,ze=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{We=6,ze=null;return}}else if(n=fw(n,t,kt),n!==null){ze=n;return}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);We===0&&(We=5)}function Tr(e,t,n){var r=be,o=Vt.transition;try{Vt.transition=null,be=1,Cw(e,t,n,r)}finally{Vt.transition=o,be=r}return null}function Cw(e,t,n,r){do yo();while(ir!==null);if(xe&6)throw Error(H(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(t1(e,s),e===Ze&&(ze=Ze=null,rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ci||(ci=!0,eg(zi,function(){return yo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Vt.transition,Vt.transition=null;var i=be;be=1;var l=xe;xe|=4,rd.current=null,hw(e,n),Wh(n,e),z1(yc),Vi=!!gc,yc=gc=null,e.current=n,gw(n),Kv(),xe=l,be=i,Vt.transition=s}else e.current=n;if(ci&&(ci=!1,ir=e,sa=o),s=e.pendingLanes,s===0&&(fr=null),Xv(n.stateNode),bt(e,Be()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(oa)throw oa=!1,e=Lc,Lc=null,e;return sa&1&&e.tag!==0&&yo(),s=e.pendingLanes,s&1?e===$c?ms++:(ms=0,$c=e):ms=0,Nr(),null}function yo(){if(ir!==null){var e=Dm(sa),t=Vt.transition,n=be;try{if(Vt.transition=null,be=16>e?16:e,ir===null)var r=!1;else{if(e=ir,ir=null,sa=0,xe&6)throw Error(H(331));var o=xe;for(xe|=4,X=e.current;X!==null;){var s=X,i=s.child;if(X.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(X=u;X!==null;){var p=X;switch(p.tag){case 0:case 11:case 15:fs(8,p,s)}var m=p.child;if(m!==null)m.return=p,X=m;else for(;X!==null;){p=X;var d=p.sibling,y=p.return;if(Uh(p),p===u){X=null;break}if(d!==null){d.return=y,X=d;break}X=y}}}var v=s.alternate;if(v!==null){var h=v.child;if(h!==null){v.child=null;do{var C=h.sibling;h.sibling=null,h=C}while(h!==null)}}X=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,X=i;else e:for(;X!==null;){if(s=X,s.flags&2048)switch(s.tag){case 0:case 11:case 15:fs(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,X=x;break e}X=s.return}}var g=e.current;for(X=g;X!==null;){i=X;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,X=w;else e:for(i=g;X!==null;){if(l=X,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ma(9,l)}}catch(P){$e(l,l.return,P)}if(l===i){X=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,X=b;break e}X=l.return}}if(xe=o,Nr(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(wa,e)}catch{}r=!0}return r}finally{be=n,Vt.transition=t}}return!1}function ep(e,t,n){t=jo(n,t),t=Dh(e,t,1),e=dr(e,t,1),t=pt(),e!==null&&(Bs(e,1,t),bt(e,t))}function $e(e,t,n){if(e.tag===3)ep(e,e,n);else for(;t!==null;){if(t.tag===3){ep(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fr===null||!fr.has(r))){e=jo(n,e),e=Ih(t,e,1),t=dr(t,e,1),e=pt(),t!==null&&(Bs(t,1,e),bt(t,e));break}}t=t.return}}function bw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=pt(),e.pingedLanes|=e.suspendedLanes&n,Ze===e&&(rt&n)===n&&(We===4||We===3&&(rt&130023424)===rt&&500>Be()-sd?Or(e,0):od|=n),bt(e,t)}function Zh(e,t){t===0&&(e.mode&1?(t=Js,Js<<=1,!(Js&130023424)&&(Js=4194304)):t=1);var n=pt();e=Un(e,t),e!==null&&(Bs(e,t,n),bt(e,n))}function Sw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Zh(e,n)}function Nw(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(t),Zh(e,n)}var Jh;Jh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||wt.current)vt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return vt=!1,dw(e,t,n);vt=!!(e.flags&131072)}else vt=!1,Ie&&t.flags&1048576&&rh(t,Qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Mi(e,t),e=t.pendingProps;var o=So(t,ut.current);go(t,n),o=Zu(null,t,r,e,o,n);var s=Ju();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ct(r)?(s=!0,Gi(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Yu(t),o.updater=ja,t.stateNode=o,o._reactInternals=t,kc(t,r,e,n),t=Ec(null,t,r,!0,s,n)):(t.tag=0,Ie&&s&&Fu(t),ft(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Mi(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=kw(r),e=tn(r,e),o){case 0:t=Mc(null,t,r,e,n);break e;case 1:t=Hf(null,t,r,e,n);break e;case 11:t=Uf(null,t,r,e,n);break e;case 14:t=Vf(null,t,r,tn(r.type,e),n);break e}throw Error(H(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:tn(r,o),Mc(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:tn(r,o),Hf(e,t,r,o,n);case 3:e:{if(Ah(t),e===null)throw Error(H(387));r=t.pendingProps,s=t.memoizedState,o=s.element,ch(e,t),Ji(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=jo(Error(H(423)),t),t=Wf(e,t,r,n,o);break e}else if(r!==o){o=jo(Error(H(424)),t),t=Wf(e,t,r,n,o);break e}else for(Mt=ur(t.stateNode.containerInfo.firstChild),Et=t,Ie=!0,rn=null,n=ah(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(No(),r===o){t=Vn(e,t,n);break e}ft(e,t,r,n)}t=t.child}return t;case 5:return uh(t),e===null&&Sc(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,i=o.children,xc(r,o)?i=null:s!==null&&xc(r,s)&&(t.flags|=32),_h(e,t),ft(e,t,i,n),t.child;case 6:return e===null&&Sc(t),null;case 13:return Lh(e,t,n);case 4:return Gu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Po(t,null,r,n):ft(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:tn(r,o),Uf(e,t,r,o,n);case 7:return ft(e,t,t.pendingProps,n),t.child;case 8:return ft(e,t,t.pendingProps.children,n),t.child;case 12:return ft(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value,Pe(qi,r._currentValue),r._currentValue=i,s!==null)if(an(s.value,i)){if(s.children===o.children&&!wt.current){t=Vn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){i=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Bn(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var p=u.pending;p===null?c.next=c:(c.next=p.next,p.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Nc(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(H(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Nc(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}ft(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,go(t,n),o=Ht(o),r=r(o),t.flags|=1,ft(e,t,r,n),t.child;case 14:return r=t.type,o=tn(r,t.pendingProps),o=tn(r.type,o),Vf(e,t,r,o,n);case 15:return Rh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:tn(r,o),Mi(e,t),t.tag=1,Ct(r)?(e=!0,Gi(t)):e=!1,go(t,n),Th(t,r,o),kc(t,r,o,n),Ec(null,t,r,!0,e,n);case 19:return $h(e,t,n);case 22:return Oh(e,t,n)}throw Error(H(156,t.tag))};function eg(e,t){return jm(e,t)}function Pw(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(e,t,n,r){return new Pw(e,t,n,r)}function cd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kw(e){if(typeof e=="function")return cd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Mu)return 11;if(e===Eu)return 14}return 2}function mr(e,t){var n=e.alternate;return n===null?(n=Ut(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Di(e,t,n,r,o,s){var i=2;if(r=e,typeof e=="function")cd(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Jr:return _r(n.children,o,s,t);case ju:i=8,o|=8;break;case Ql:return e=Ut(12,n,t,o|2),e.elementType=Ql,e.lanes=s,e;case ql:return e=Ut(13,n,t,o),e.elementType=ql,e.lanes=s,e;case Zl:return e=Ut(19,n,t,o),e.elementType=Zl,e.lanes=s,e;case um:return Ta(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lm:i=10;break e;case cm:i=9;break e;case Mu:i=11;break e;case Eu:i=14;break e;case er:i=16,r=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=Ut(i,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function _r(e,t,n,r){return e=Ut(7,e,r,t),e.lanes=n,e}function Ta(e,t,n,r){return e=Ut(22,e,r,t),e.elementType=um,e.lanes=n,e.stateNode={isHidden:!1},e}function Ml(e,t,n){return e=Ut(6,e,null,t),e.lanes=n,e}function El(e,t,n){return t=Ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jw(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cl(0),this.expirationTimes=cl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function ud(e,t,n,r,o,s,i,l,c){return e=new jw(e,t,n,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ut(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yu(s),e}function Mw(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function tg(e){if(!e)return xr;e=e._reactInternals;e:{if(Kr(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ct(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var n=e.type;if(Ct(n))return th(e,n,t)}return t}function ng(e,t,n,r,o,s,i,l,c){return e=ud(n,r,!0,e,o,s,i,l,c),e.context=tg(null),n=e.current,r=pt(),o=pr(n),s=Bn(r,o),s.callback=t??null,dr(n,s,o),e.current.lanes=o,Bs(e,o,r),bt(e,r),e}function Da(e,t,n,r){var o=t.current,s=pt(),i=pr(o);return n=tg(n),t.context===null?t.context=n:t.pendingContext=n,t=Bn(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=dr(o,t,i),e!==null&&(sn(e,o,i,s),Pi(e,o,i)),i}function aa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function tp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function dd(e,t){tp(e,t),(e=e.alternate)&&tp(e,t)}function Ew(){return null}var rg=typeof reportError=="function"?reportError:function(e){console.error(e)};function fd(e){this._internalRoot=e}Ia.prototype.render=fd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));Da(e,t,null,null)};Ia.prototype.unmount=fd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fr(function(){Da(null,e,null,null)}),t[zn]=null}};function Ia(e){this._internalRoot=e}Ia.prototype.unstable_scheduleHydration=function(e){if(e){var t=Om();e={blockedOn:null,target:e,priority:t};for(var n=0;n<rr.length&&t!==0&&t<rr[n].priority;n++);rr.splice(n,0,e),n===0&&Am(e)}};function pd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ra(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function np(){}function Tw(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var u=aa(i);s.call(u)}}var i=ng(t,r,e,0,null,!1,!1,"",np);return e._reactRootContainer=i,e[zn]=i.current,Ps(e.nodeType===8?e.parentNode:e),Fr(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var u=aa(c);l.call(u)}}var c=ud(e,0,!1,null,null,!1,!1,"",np);return e._reactRootContainer=c,e[zn]=c.current,Ps(e.nodeType===8?e.parentNode:e),Fr(function(){Da(t,c,n,r)}),c}function Oa(e,t,n,r,o){var s=n._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var l=o;o=function(){var c=aa(i);l.call(c)}}Da(t,i,e,o)}else i=Tw(n,t,e,o,r);return aa(i)}Im=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=rs(t.pendingLanes);n!==0&&(Iu(t,n|1),bt(t,Be()),!(xe&6)&&(Mo=Be()+500,Nr()))}break;case 13:Fr(function(){var r=Un(e,1);if(r!==null){var o=pt();sn(r,e,1,o)}}),dd(e,1)}};Ru=function(e){if(e.tag===13){var t=Un(e,134217728);if(t!==null){var n=pt();sn(t,e,134217728,n)}dd(e,134217728)}};Rm=function(e){if(e.tag===13){var t=pr(e),n=Un(e,t);if(n!==null){var r=pt();sn(n,e,t,r)}dd(e,t)}};Om=function(){return be};_m=function(e,t){var n=be;try{return be=e,t()}finally{be=n}};lc=function(e,t,n){switch(t){case"input":if(tc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Na(r);if(!o)throw Error(H(90));fm(r),tc(r,o)}}}break;case"textarea":mm(e,n);break;case"select":t=n.value,t!=null&&fo(e,!!n.multiple,t,!1)}};Cm=id;bm=Fr;var Dw={usingClientEntryPoint:!1,Events:[zs,ro,Na,vm,wm,id]},Zo={findFiberByHostInstance:Dr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Iw={bundleType:Zo.bundleType,version:Zo.version,rendererPackageName:Zo.rendererPackageName,rendererConfig:Zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Pm(e),e===null?null:e.stateNode},findFiberByHostInstance:Zo.findFiberByHostInstance||Ew,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ui=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ui.isDisabled&&ui.supportsFiber)try{wa=ui.inject(Iw),wn=ui}catch{}}Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dw;Rt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pd(t))throw Error(H(200));return Mw(e,t,null,n)};Rt.createRoot=function(e,t){if(!pd(e))throw Error(H(299));var n=!1,r="",o=rg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=ud(e,1,!1,null,null,n,!1,r,o),e[zn]=t.current,Ps(e.nodeType===8?e.parentNode:e),new fd(t)};Rt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=Pm(t),e=e===null?null:e.stateNode,e};Rt.flushSync=function(e){return Fr(e)};Rt.hydrate=function(e,t,n){if(!Ra(t))throw Error(H(200));return Oa(null,e,t,!0,n)};Rt.hydrateRoot=function(e,t,n){if(!pd(e))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",i=rg;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=ng(t,null,e,1,n??null,o,!1,s,i),e[zn]=t.current,Ps(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Ia(t)};Rt.render=function(e,t,n){if(!Ra(t))throw Error(H(200));return Oa(null,e,t,!1,n)};Rt.unmountComponentAtNode=function(e){if(!Ra(e))throw Error(H(40));return e._reactRootContainer?(Fr(function(){Oa(null,null,e,!1,function(){e._reactRootContainer=null,e[zn]=null})}),!0):!1};Rt.unstable_batchedUpdates=id;Rt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ra(n))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return Oa(e,t,n,!1,r)};Rt.version="18.3.1-next-f1338f8080-20240426";function og(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(og)}catch(e){console.error(e)}}og(),om.exports=Rt;var ln=om.exports;const Rw=Wp(ln);var sg,rp=ln;sg=rp.createRoot,rp.hydrateRoot;function Ow(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,o,s,i=[],l="",c=e.split("/");for(c[0]||c.shift();o=c.shift();)n=o[0],n==="*"?(i.push(n),l+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=o.indexOf("?",1),s=o.indexOf(".",1),i.push(o.substring(1,~r?r:~s?s:o.length)),l+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(l+=(~r?"?":"")+"\\"+o.substring(s))):l+="/"+o;return{keys:i,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var ig={exports:{}},ag={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eo=f;function _w(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Aw=typeof Object.is=="function"?Object.is:_w,Lw=Eo.useState,$w=Eo.useEffect,Bw=Eo.useLayoutEffect,Fw=Eo.useDebugValue;function zw(e,t){var n=t(),r=Lw({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return Bw(function(){o.value=n,o.getSnapshot=t,Tl(o)&&s({inst:o})},[e,n,t]),$w(function(){return Tl(o)&&s({inst:o}),e(function(){Tl(o)&&s({inst:o})})},[e]),Fw(n),n}function Tl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Aw(e,n)}catch{return!0}}function Uw(e,t){return t()}var Vw=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Uw:zw;ag.useSyncExternalStore=Eo.useSyncExternalStore!==void 0?Eo.useSyncExternalStore:Vw;ig.exports=ag;var Hw=ig.exports;const Ww=nm.useInsertionEffect,Kw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Yw=Kw?f.useLayoutEffect:f.useEffect,Gw=Ww||Yw,lg=e=>{const t=f.useRef([e,(...n)=>t[0](...n)]).current;return Gw(()=>{t[0]=e}),t[1]},Xw="popstate",md="pushState",hd="replaceState",Qw="hashchange",op=[Xw,md,hd,Qw],qw=e=>{for(const t of op)addEventListener(t,e);return()=>{for(const t of op)removeEventListener(t,e)}},cg=(e,t)=>Hw.useSyncExternalStore(qw,e,t),Zw=()=>location.search,Jw=({ssrSearch:e=""}={})=>cg(Zw,()=>e),sp=()=>location.pathname,eC=({ssrPath:e}={})=>cg(sp,e?()=>e:sp),tC=(e,{replace:t=!1,state:n=null}={})=>history[t?hd:md](n,"",e),nC=(e={})=>[eC(e),tC],ip=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[ip]>"u"){for(const e of[md,hd]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,ip,{value:!0})}const rC=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",ug=(e="")=>e==="/"?"":e,oC=(e,t)=>e[0]==="~"?e.slice(1):ug(t)+e,sC=(e="",t)=>rC(ap(ug(e)),ap(t)),ap=e=>{try{return decodeURI(e)}catch{return e}},dg={hook:nC,searchHook:Jw,parser:Ow,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},fg=f.createContext(dg),_a=()=>f.useContext(fg),pg={},mg=f.createContext(pg),iC=()=>f.useContext(mg),gd=e=>{const[t,n]=e.hook(e);return[sC(e.base,t),lg((r,o)=>n(oC(r,e.base),o))]},hg=(e,t,n,r)=>{const{pattern:o,keys:s}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),i=o.exec(n)||[],[l,...c]=i;return l!==void 0?[!0,(()=>{const u=s!==!1?Object.fromEntries(s.map((m,d)=>[m,c[d]])):i.groups;let p={...c};return u&&Object.assign(p,u),p})(),...r?[l]:[]]:[!1,null]},gg=({children:e,...t})=>{var p,m;const n=_a(),r=t.hook?dg:n;let o=r;const[s,i]=((p=t.ssrPath)==null?void 0:p.split("?"))??[];i&&(t.ssrSearch=i,t.ssrPath=s),t.hrefs=t.hrefs??((m=t.hook)==null?void 0:m.hrefs);let l=f.useRef({}),c=l.current,u=c;for(let d in r){const y=d==="base"?r[d]+(t[d]||""):t[d]||r[d];c===u&&y!==u[d]&&(l.current=u={...u}),u[d]=y,y!==r[d]&&(o=u)}return f.createElement(fg.Provider,{value:o,children:e})},lp=({children:e,component:t},n)=>t?f.createElement(t,{params:n}):typeof e=="function"?e(n):e,aC=e=>{let t=f.useRef(pg),n=t.current;for(const r in e)e[r]!==n[r]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},cp=({path:e,nest:t,match:n,...r})=>{const o=_a(),[s]=gd(o),[i,l,c]=n??hg(o.parser,e,s,t),u=aC({...iC(),...l});if(!i)return null;const p=c?f.createElement(gg,{base:c},lp(r,u)):lp(r,u);return f.createElement(mg.Provider,{value:u,children:p})};f.forwardRef((e,t)=>{const n=_a(),[r,o]=gd(n),{to:s="",href:i=s,onClick:l,asChild:c,children:u,className:p,replace:m,state:d,...y}=e,v=lg(C=>{C.ctrlKey||C.metaKey||C.altKey||C.shiftKey||C.button!==0||(l==null||l(C),C.defaultPrevented||(C.preventDefault(),o(i,e)))}),h=n.hrefs(i[0]==="~"?i.slice(1):n.base+i,n);return c&&f.isValidElement(u)?f.cloneElement(u,{onClick:v,href:h}):f.createElement("a",{...y,onClick:v,href:h,className:p!=null&&p.call?p(r===i):p,children:u,ref:t})});const yg=e=>Array.isArray(e)?e.flatMap(t=>yg(t&&t.type===f.Fragment?t.props.children:t)):[e],lC=({children:e,location:t})=>{const n=_a(),[r]=gd(n);for(const o of yg(e)){let s=0;if(f.isValidElement(o)&&(s=hg(n.parser,o.props.path,t||r,o.props.nest))[0])return f.cloneElement(o,{match:s})}return null},cC=1,uC=1e6;let Dl=0;function dC(){return Dl=(Dl+1)%Number.MAX_SAFE_INTEGER,Dl.toString()}const Il=new Map,up=e=>{if(Il.has(e))return;const t=setTimeout(()=>{Il.delete(e),hs({type:"REMOVE_TOAST",toastId:e})},uC);Il.set(e,t)},fC=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,cC)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?up(n):e.toasts.forEach(r=>{up(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Ii=[];let Ri={toasts:[]};function hs(e){Ri=fC(Ri,e),Ii.forEach(t=>{t(Ri)})}function pC({...e}){const t=dC(),n=o=>hs({type:"UPDATE_TOAST",toast:{...o,id:t}}),r=()=>hs({type:"DISMISS_TOAST",toastId:t});return hs({type:"ADD_TOAST",toast:{...e,id:t,open:!0,duration:e.duration||2500,onOpenChange:o=>{o||r()}}}),{id:t,dismiss:r,update:n}}function xg(){const[e,t]=f.useState(Ri);return f.useEffect(()=>(Ii.push(t),()=>{const n=Ii.indexOf(t);n>-1&&Ii.splice(n,1)}),[e]),{...e,toast:pC,dismiss:n=>hs({type:"DISMISS_TOAST",toastId:n})}}function te(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function dp(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function vg(...e){return t=>{let n=!1;const r=e.map(o=>{const s=dp(o,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let o=0;o<r.length;o++){const s=r[o];typeof s=="function"?s():dp(e[o],null)}}}}function ve(...e){return f.useCallback(vg(...e),e)}function mC(e,t){const n=f.createContext(t),r=s=>{const{children:i,...l}=s,c=f.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function o(s){const i=f.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,o]}function Yn(e,t=[]){let n=[];function r(s,i){const l=f.createContext(i),c=n.length;n=[...n,i];const u=m=>{var x;const{scope:d,children:y,...v}=m,h=((x=d==null?void 0:d[e])==null?void 0:x[c])||l,C=f.useMemo(()=>v,Object.values(v));return a.jsx(h.Provider,{value:C,children:y})};u.displayName=s+"Provider";function p(m,d){var h;const y=((h=d==null?void 0:d[e])==null?void 0:h[c])||l,v=f.useContext(y);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[u,p]}const o=()=>{const s=n.map(i=>f.createContext(i));return function(l){const c=(l==null?void 0:l[e])||s;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return o.scopeName=e,[r,hC(o,...t)]}function hC(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const m=c(s)[`__scope${u}`];return{...l,...m}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function To(e){const t=yC(e),n=f.forwardRef((r,o)=>{const{children:s,...i}=r,l=f.Children.toArray(s),c=l.find(vC);if(c){const u=c.props.children,p=l.map(m=>m===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:m);return a.jsx(t,{...i,ref:o,children:f.isValidElement(u)?f.cloneElement(u,void 0,p):null})}return a.jsx(t,{...i,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}var gC=To("Slot");function yC(e){const t=f.forwardRef((n,r)=>{const{children:o,...s}=n;if(f.isValidElement(o)){const i=CC(o),l=wC(s,o.props);return o.type!==f.Fragment&&(l.ref=r?vg(r,i):i),f.cloneElement(o,l)}return f.Children.count(o)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var wg=Symbol("radix.slottable");function xC(e){const t=({children:n})=>a.jsx(a.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=wg,t}function vC(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===wg}function wC(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...l)=>{s(...l),o(...l)}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function CC(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function yd(e){const t=e+"CollectionProvider",[n,r]=Yn(t),[o,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=h=>{const{scope:C,children:x}=h,g=Fe.useRef(null),w=Fe.useRef(new Map).current;return a.jsx(o,{scope:C,itemMap:w,collectionRef:g,children:x})};i.displayName=t;const l=e+"CollectionSlot",c=To(l),u=Fe.forwardRef((h,C)=>{const{scope:x,children:g}=h,w=s(l,x),b=ve(C,w.collectionRef);return a.jsx(c,{ref:b,children:g})});u.displayName=l;const p=e+"CollectionItemSlot",m="data-radix-collection-item",d=To(p),y=Fe.forwardRef((h,C)=>{const{scope:x,children:g,...w}=h,b=Fe.useRef(null),P=ve(C,b),S=s(p,x);return Fe.useEffect(()=>(S.itemMap.set(b,{ref:b,...w}),()=>void S.itemMap.delete(b))),a.jsx(d,{[m]:"",ref:P,children:g})});y.displayName=p;function v(h){const C=s(e+"CollectionConsumer",h);return Fe.useCallback(()=>{const g=C.collectionRef.current;if(!g)return[];const w=Array.from(g.querySelectorAll(`[${m}]`));return Array.from(C.itemMap.values()).sort((S,N)=>w.indexOf(S.ref.current)-w.indexOf(N.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:i,Slot:u,ItemSlot:y},v,r]}var bC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ue=bC.reduce((e,t)=>{const n=To(`Primitive.${t}`),r=f.forwardRef((o,s)=>{const{asChild:i,...l}=o,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Cg(e,t){e&&ln.flushSync(()=>e.dispatchEvent(t))}function It(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function SC(e,t=globalThis==null?void 0:globalThis.document){const n=It(e);f.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var NC="DismissableLayer",zc="dismissableLayer.update",PC="dismissableLayer.pointerDownOutside",kC="dismissableLayer.focusOutside",fp,bg=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vs=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:i,onDismiss:l,...c}=e,u=f.useContext(bg),[p,m]=f.useState(null),d=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=f.useState({}),v=ve(t,N=>m(N)),h=Array.from(u.layers),[C]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=h.indexOf(C),g=p?h.indexOf(p):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,b=g>=x,P=MC(N=>{const j=N.target,A=[...u.branches].some(R=>R.contains(j));!b||A||(o==null||o(N),i==null||i(N),N.defaultPrevented||l==null||l())},d),S=EC(N=>{const j=N.target;[...u.branches].some(R=>R.contains(j))||(s==null||s(N),i==null||i(N),N.defaultPrevented||l==null||l())},d);return SC(N=>{g===u.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},d),f.useEffect(()=>{if(p)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(fp=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(p)),u.layers.add(p),pp(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=fp)}},[p,d,n,u]),f.useEffect(()=>()=>{p&&(u.layers.delete(p),u.layersWithOutsidePointerEventsDisabled.delete(p),pp())},[p,u]),f.useEffect(()=>{const N=()=>y({});return document.addEventListener(zc,N),()=>document.removeEventListener(zc,N)},[]),a.jsx(ue.div,{...c,ref:v,style:{pointerEvents:w?b?"auto":"none":void 0,...e.style},onFocusCapture:te(e.onFocusCapture,S.onFocusCapture),onBlurCapture:te(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:te(e.onPointerDownCapture,P.onPointerDownCapture)})});Vs.displayName=NC;var jC="DismissableLayerBranch",Sg=f.forwardRef((e,t)=>{const n=f.useContext(bg),r=f.useRef(null),o=ve(t,r);return f.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),a.jsx(ue.div,{...e,ref:o})});Sg.displayName=jC;function MC(e,t=globalThis==null?void 0:globalThis.document){const n=It(e),r=f.useRef(!1),o=f.useRef(()=>{});return f.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let c=function(){Ng(PC,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=c,t.addEventListener("click",o.current,{once:!0})):c()}else t.removeEventListener("click",o.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function EC(e,t=globalThis==null?void 0:globalThis.document){const n=It(e),r=f.useRef(!1);return f.useEffect(()=>{const o=s=>{s.target&&!r.current&&Ng(kC,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function pp(){const e=new CustomEvent(zc);document.dispatchEvent(e)}function Ng(e,t,n,{discrete:r}){const o=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?Cg(o,s):o.dispatchEvent(s)}var TC=Vs,DC=Sg,dt=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},IC="Portal",Aa=f.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[o,s]=f.useState(!1);dt(()=>s(!0),[]);const i=n||o&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Rw.createPortal(a.jsx(ue.div,{...r,ref:t}),i):null});Aa.displayName=IC;function RC(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var Yr=e=>{const{present:t,children:n}=e,r=OC(t),o=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),s=ve(r.ref,_C(o));return typeof n=="function"||r.isPresent?f.cloneElement(o,{ref:s}):null};Yr.displayName="Presence";function OC(e){const[t,n]=f.useState(),r=f.useRef({}),o=f.useRef(e),s=f.useRef("none"),i=e?"mounted":"unmounted",[l,c]=RC(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const u=di(r.current);s.current=l==="mounted"?u:"none"},[l]),dt(()=>{const u=r.current,p=o.current;if(p!==e){const d=s.current,y=di(u);e?c("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(p&&d!==y?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,c]),dt(()=>{if(t){let u;const p=t.ownerDocument.defaultView??window,m=y=>{const h=di(r.current).includes(y.animationName);if(y.target===t&&h&&(c("ANIMATION_END"),!o.current)){const C=t.style.animationFillMode;t.style.animationFillMode="forwards",u=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=C)})}},d=y=>{y.target===t&&(s.current=di(r.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{p.clearTimeout(u),t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:f.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function di(e){return(e==null?void 0:e.animationName)||"none"}function _C(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function zr({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=AC({defaultProp:t,onChange:n}),s=e!==void 0,i=s?e:r,l=It(n),c=f.useCallback(u=>{if(s){const m=typeof u=="function"?u(e):u;m!==e&&l(m)}else o(u)},[s,e,o,l]);return[i,c]}function AC({defaultProp:e,onChange:t}){const n=f.useState(e),[r]=n,o=f.useRef(r),s=It(t);return f.useEffect(()=>{o.current!==r&&(s(r),o.current=r)},[r,o,s]),n}var LC="VisuallyHidden",Hs=f.forwardRef((e,t)=>a.jsx(ue.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Hs.displayName=LC;var $C=Hs,xd="ToastProvider",[vd,BC,FC]=yd("Toast"),[Pg,Ek]=Yn("Toast",[FC]),[zC,La]=Pg(xd),kg=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:s=50,children:i}=e,[l,c]=f.useState(null),[u,p]=f.useState(0),m=f.useRef(!1),d=f.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${xd}\`. Expected non-empty \`string\`.`),a.jsx(vd.Provider,{scope:t,children:a.jsx(zC,{scope:t,label:n,duration:r,swipeDirection:o,swipeThreshold:s,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:f.useCallback(()=>p(y=>y+1),[]),onToastRemove:f.useCallback(()=>p(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:d,children:i})})};kg.displayName=xd;var jg="ToastViewport",UC=["F8"],Uc="toast.viewportPause",Vc="toast.viewportResume",Mg=f.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=UC,label:o="Notifications ({hotkey})",...s}=e,i=La(jg,n),l=BC(n),c=f.useRef(null),u=f.useRef(null),p=f.useRef(null),m=f.useRef(null),d=ve(t,m,i.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=i.toastCount>0;f.useEffect(()=>{const C=x=>{var w;r.length!==0&&r.every(b=>x[b]||x.code===b)&&((w=m.current)==null||w.focus())};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[r]),f.useEffect(()=>{const C=c.current,x=m.current;if(v&&C&&x){const g=()=>{if(!i.isClosePausedRef.current){const S=new CustomEvent(Uc);x.dispatchEvent(S),i.isClosePausedRef.current=!0}},w=()=>{if(i.isClosePausedRef.current){const S=new CustomEvent(Vc);x.dispatchEvent(S),i.isClosePausedRef.current=!1}},b=S=>{!C.contains(S.relatedTarget)&&w()},P=()=>{C.contains(document.activeElement)||w()};return C.addEventListener("focusin",g),C.addEventListener("focusout",b),C.addEventListener("pointermove",g),C.addEventListener("pointerleave",P),window.addEventListener("blur",g),window.addEventListener("focus",w),()=>{C.removeEventListener("focusin",g),C.removeEventListener("focusout",b),C.removeEventListener("pointermove",g),C.removeEventListener("pointerleave",P),window.removeEventListener("blur",g),window.removeEventListener("focus",w)}}},[v,i.isClosePausedRef]);const h=f.useCallback(({tabbingDirection:C})=>{const g=l().map(w=>{const b=w.ref.current,P=[b,...tb(b)];return C==="forwards"?P:P.reverse()});return(C==="forwards"?g.reverse():g).flat()},[l]);return f.useEffect(()=>{const C=m.current;if(C){const x=g=>{var P,S,N;const w=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!w){const j=document.activeElement,A=g.shiftKey;if(g.target===C&&A){(P=u.current)==null||P.focus();return}const O=h({tabbingDirection:A?"backwards":"forwards"}),U=O.findIndex(D=>D===j);Rl(O.slice(U+1))?g.preventDefault():A?(S=u.current)==null||S.focus():(N=p.current)==null||N.focus()}};return C.addEventListener("keydown",x),()=>C.removeEventListener("keydown",x)}},[l,h]),a.jsxs(DC,{ref:c,role:"region","aria-label":o.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&a.jsx(Hc,{ref:u,onFocusFromOutsideViewport:()=>{const C=h({tabbingDirection:"forwards"});Rl(C)}}),a.jsx(vd.Slot,{scope:n,children:a.jsx(ue.ol,{tabIndex:-1,...s,ref:d})}),v&&a.jsx(Hc,{ref:p,onFocusFromOutsideViewport:()=>{const C=h({tabbingDirection:"backwards"});Rl(C)}})]})});Mg.displayName=jg;var Eg="ToastFocusProxy",Hc=f.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=e,s=La(Eg,n);return a.jsx(Hs,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=s.viewport)!=null&&u.contains(l))&&r()}})});Hc.displayName=Eg;var $a="Toast",VC="toast.swipeStart",HC="toast.swipeMove",WC="toast.swipeCancel",KC="toast.swipeEnd",Tg=f.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:s,...i}=e,[l=!0,c]=zr({prop:r,defaultProp:o,onChange:s});return a.jsx(Yr,{present:n||l,children:a.jsx(XC,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:It(e.onPause),onResume:It(e.onResume),onSwipeStart:te(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:te(e.onSwipeMove,u=>{const{x:p,y:m}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:te(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:te(e.onSwipeEnd,u=>{const{x:p,y:m}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});Tg.displayName=$a;var[YC,GC]=Pg($a,{onClose(){}}),XC=f.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:s,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:p,onSwipeMove:m,onSwipeCancel:d,onSwipeEnd:y,...v}=e,h=La($a,n),[C,x]=f.useState(null),g=ve(t,D=>x(D)),w=f.useRef(null),b=f.useRef(null),P=o||h.duration,S=f.useRef(0),N=f.useRef(P),j=f.useRef(0),{onToastAdd:A,onToastRemove:R}=h,z=It(()=>{var M;(C==null?void 0:C.contains(document.activeElement))&&((M=h.viewport)==null||M.focus()),i()}),O=f.useCallback(D=>{!D||D===1/0||(window.clearTimeout(j.current),S.current=new Date().getTime(),j.current=window.setTimeout(z,D))},[z]);f.useEffect(()=>{const D=h.viewport;if(D){const M=()=>{O(N.current),u==null||u()},B=()=>{const E=new Date().getTime()-S.current;N.current=N.current-E,window.clearTimeout(j.current),c==null||c()};return D.addEventListener(Uc,B),D.addEventListener(Vc,M),()=>{D.removeEventListener(Uc,B),D.removeEventListener(Vc,M)}}},[h.viewport,P,c,u,O]),f.useEffect(()=>{s&&!h.isClosePausedRef.current&&O(P)},[s,P,h.isClosePausedRef,O]),f.useEffect(()=>(A(),()=>R()),[A,R]);const U=f.useMemo(()=>C?Lg(C):null,[C]);return h.viewport?a.jsxs(a.Fragment,{children:[U&&a.jsx(QC,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:U}),a.jsx(YC,{scope:n,onClose:z,children:ln.createPortal(a.jsx(vd.ItemSlot,{scope:n,children:a.jsx(TC,{asChild:!0,onEscapeKeyDown:te(l,()=>{h.isFocusedToastEscapeKeyDownRef.current||z(),h.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(ue.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":h.swipeDirection,...v,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:te(e.onKeyDown,D=>{D.key==="Escape"&&(l==null||l(D.nativeEvent),D.nativeEvent.defaultPrevented||(h.isFocusedToastEscapeKeyDownRef.current=!0,z()))}),onPointerDown:te(e.onPointerDown,D=>{D.button===0&&(w.current={x:D.clientX,y:D.clientY})}),onPointerMove:te(e.onPointerMove,D=>{if(!w.current)return;const M=D.clientX-w.current.x,B=D.clientY-w.current.y,E=!!b.current,k=["left","right"].includes(h.swipeDirection),I=["left","up"].includes(h.swipeDirection)?Math.min:Math.max,T=k?I(0,M):0,L=k?0:I(0,B),K=D.pointerType==="touch"?10:2,J={x:T,y:L},Z={originalEvent:D,delta:J};E?(b.current=J,fi(HC,m,Z,{discrete:!1})):mp(J,h.swipeDirection,K)?(b.current=J,fi(VC,p,Z,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(M)>K||Math.abs(B)>K)&&(w.current=null)}),onPointerUp:te(e.onPointerUp,D=>{const M=b.current,B=D.target;if(B.hasPointerCapture(D.pointerId)&&B.releasePointerCapture(D.pointerId),b.current=null,w.current=null,M){const E=D.currentTarget,k={originalEvent:D,delta:M};mp(M,h.swipeDirection,h.swipeThreshold)?fi(KC,y,k,{discrete:!0}):fi(WC,d,k,{discrete:!0}),E.addEventListener("click",I=>I.preventDefault(),{once:!0})}})})})}),h.viewport)})]}):null}),QC=e=>{const{__scopeToast:t,children:n,...r}=e,o=La($a,t),[s,i]=f.useState(!1),[l,c]=f.useState(!1);return JC(()=>i(!0)),f.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(Aa,{asChild:!0,children:a.jsx(Hs,{...r,children:s&&a.jsxs(a.Fragment,{children:[o.label," ",n]})})})},qC="ToastTitle",Dg=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(ue.div,{...r,ref:t})});Dg.displayName=qC;var ZC="ToastDescription",Ig=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(ue.div,{...r,ref:t})});Ig.displayName=ZC;var Rg="ToastAction",Og=f.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?a.jsx(Ag,{altText:n,asChild:!0,children:a.jsx(wd,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Rg}\`. Expected non-empty \`string\`.`),null)});Og.displayName=Rg;var _g="ToastClose",wd=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,o=GC(_g,n);return a.jsx(Ag,{asChild:!0,children:a.jsx(ue.button,{type:"button",...r,ref:t,onClick:te(e.onClick,o.onClose)})})});wd.displayName=_g;var Ag=f.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...o}=e;return a.jsx(ue.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...o,ref:t})});function Lg(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),eb(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!o)if(s){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...Lg(r))}}),t}function fi(e,t,n,{discrete:r}){const o=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?Cg(o,s):o.dispatchEvent(s)}var mp=(e,t,n=0)=>{const r=Math.abs(e.x),o=Math.abs(e.y),s=r>o;return t==="left"||t==="right"?s&&r>n:!s&&o>n};function JC(e=()=>{}){const t=It(e);dt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function eb(e){return e.nodeType===e.ELEMENT_NODE}function tb(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Rl(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var nb=kg,$g=Mg,Bg=Tg,Fg=Dg,zg=Ig,Ug=Og,Vg=wd;function Hg(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Hg(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Wg(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Hg(e))&&(r&&(r+=" "),r+=t);return r}const hp=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,gp=Wg,Cd=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return gp(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:s}=t,i=Object.keys(o).map(u=>{const p=n==null?void 0:n[u],m=s==null?void 0:s[u];if(p===null)return null;const d=hp(p)||hp(m);return o[u][d]}),l=n&&Object.entries(n).reduce((u,p)=>{let[m,d]=p;return d===void 0||(u[m]=d),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,p)=>{let{class:m,className:d,...y}=p;return Object.entries(y).every(v=>{let[h,C]=v;return Array.isArray(C)?C.includes({...s,...l}[h]):{...s,...l}[h]===C})?[...u,m,d]:u},[]);return gp(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Kg=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ob={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:s,iconNode:i,...l},c)=>f.createElement("svg",{ref:c,...ob,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Kg("lucide",o),...l},[...i.map(([u,p])=>f.createElement(u,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=(e,t)=>{const n=f.forwardRef(({className:r,...o},s)=>f.createElement(sb,{ref:s,iconNode:t,className:Kg(`lucide-${rb(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=Ge("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=Ge("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=Ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=Ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=Ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=Ge("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=Ge("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=Ge("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=Ge("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=Ge("Piano",[["path",{d:"M18.5 8c-1.4 0-2.6-.8-3.2-2A6.87 6.87 0 0 0 2 9v11a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-8.5C22 9.6 20.4 8 18.5 8",key:"lag0yf"}],["path",{d:"M2 14h20",key:"myj16y"}],["path",{d:"M6 14v4",key:"9ng0ue"}],["path",{d:"M10 14v4",key:"1v8uk5"}],["path",{d:"M14 14v4",key:"1tqops"}],["path",{d:"M18 14v4",key:"18uqwm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=Ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=Ge("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=Ge("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=Ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=Ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=Ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=Ge("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=Ge("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=Ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Sd="-",hb=e=>{const t=yb(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const l=i.split(Sd);return l[0]===""&&l.length!==1&&l.shift(),ey(l,t)||gb(i)},getConflictingClassGroupIds:(i,l)=>{const c=n[i]||[];return l&&r[i]?[...c,...r[i]]:c}}},ey=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?ey(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const s=e.join(Sd);return(i=t.validators.find(({validator:l})=>l(s)))==null?void 0:i.classGroupId},xp=/^\[(.+)\]$/,gb=e=>{if(xp.test(e)){const t=xp.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},yb=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return vb(Object.entries(e.classGroups),n).forEach(([s,i])=>{Wc(i,r,s,t)}),r},Wc=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const s=o===""?t:vp(t,o);s.classGroupId=n;return}if(typeof o=="function"){if(xb(o)){Wc(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([s,i])=>{Wc(i,vp(t,s),n,r)})})},vp=(e,t)=>{let n=e;return t.split(Sd).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},xb=e=>e.isThemeGetter,vb=(e,t)=>t?e.map(([n,r])=>{const o=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([i,l])=>[t+i,l])):s);return[n,o]}):e,wb=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(s,i)=>{n.set(s,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let i=n.get(s);if(i!==void 0)return i;if((i=r.get(s))!==void 0)return o(s,i),i},set(s,i){n.has(s)?n.set(s,i):o(s,i)}}},ty="!",Cb=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],s=t.length,i=l=>{const c=[];let u=0,p=0,m;for(let C=0;C<l.length;C++){let x=l[C];if(u===0){if(x===o&&(r||l.slice(C,C+s)===t)){c.push(l.slice(p,C)),p=C+s;continue}if(x==="/"){m=C;continue}}x==="["?u++:x==="]"&&u--}const d=c.length===0?l:l.substring(p),y=d.startsWith(ty),v=y?d.substring(1):d,h=m&&m>p?m-p:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:v,maybePostfixModifierPosition:h}};return n?l=>n({className:l,parseClassName:i}):i},bb=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},Sb=e=>({cache:wb(e.cacheSize),parseClassName:Cb(e),...hb(e)}),Nb=/\s+/,Pb=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,s=[],i=e.trim().split(Nb);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:p,hasImportantModifier:m,baseClassName:d,maybePostfixModifierPosition:y}=n(u);let v=!!y,h=r(v?d.substring(0,y):d);if(!h){if(!v){l=u+(l.length>0?" "+l:l);continue}if(h=r(d),!h){l=u+(l.length>0?" "+l:l);continue}v=!1}const C=bb(p).join(":"),x=m?C+ty:C,g=x+h;if(s.includes(g))continue;s.push(g);const w=o(h,v);for(let b=0;b<w.length;++b){const P=w[b];s.push(x+P)}l=u+(l.length>0?" "+l:l)}return l};function kb(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=ny(t))&&(r&&(r+=" "),r+=n);return r}const ny=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=ny(e[r]))&&(n&&(n+=" "),n+=t);return n};function jb(e,...t){let n,r,o,s=i;function i(c){const u=t.reduce((p,m)=>m(p),e());return n=Sb(u),r=n.cache.get,o=n.cache.set,s=l,l(c)}function l(c){const u=r(c);if(u)return u;const p=Pb(c,n);return o(c,p),p}return function(){return s(kb.apply(null,arguments))}}const je=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},ry=/^\[(?:([a-z-]+):)?(.+)\]$/i,Mb=/^\d+\/\d+$/,Eb=new Set(["px","full","screen"]),Tb=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Db=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ib=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Rb=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ob=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Pn=e=>xo(e)||Eb.has(e)||Mb.test(e),qn=e=>Lo(e,"length",Ub),xo=e=>!!e&&!Number.isNaN(Number(e)),Ol=e=>Lo(e,"number",xo),Jo=e=>!!e&&Number.isInteger(Number(e)),_b=e=>e.endsWith("%")&&xo(e.slice(0,-1)),ce=e=>ry.test(e),Zn=e=>Tb.test(e),Ab=new Set(["length","size","percentage"]),Lb=e=>Lo(e,Ab,oy),$b=e=>Lo(e,"position",oy),Bb=new Set(["image","url"]),Fb=e=>Lo(e,Bb,Hb),zb=e=>Lo(e,"",Vb),es=()=>!0,Lo=(e,t,n)=>{const r=ry.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},Ub=e=>Db.test(e)&&!Ib.test(e),oy=()=>!1,Vb=e=>Rb.test(e),Hb=e=>Ob.test(e),Wb=()=>{const e=je("colors"),t=je("spacing"),n=je("blur"),r=je("brightness"),o=je("borderColor"),s=je("borderRadius"),i=je("borderSpacing"),l=je("borderWidth"),c=je("contrast"),u=je("grayscale"),p=je("hueRotate"),m=je("invert"),d=je("gap"),y=je("gradientColorStops"),v=je("gradientColorStopPositions"),h=je("inset"),C=je("margin"),x=je("opacity"),g=je("padding"),w=je("saturate"),b=je("scale"),P=je("sepia"),S=je("skew"),N=je("space"),j=je("translate"),A=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",ce,t],O=()=>[ce,t],U=()=>["",Pn,qn],D=()=>["auto",xo,ce],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],E=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],k=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",ce],T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>[xo,ce];return{cacheSize:500,separator:":",theme:{colors:[es],spacing:[Pn,qn],blur:["none","",Zn,ce],brightness:L(),borderColor:[e],borderRadius:["none","","full",Zn,ce],borderSpacing:O(),borderWidth:U(),contrast:L(),grayscale:I(),hueRotate:L(),invert:I(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[_b,qn],inset:z(),margin:z(),opacity:L(),padding:O(),saturate:L(),scale:L(),sepia:I(),skew:L(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",ce]}],container:["container"],columns:[{columns:[Zn]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),ce]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[h]}],"inset-x":[{"inset-x":[h]}],"inset-y":[{"inset-y":[h]}],start:[{start:[h]}],end:[{end:[h]}],top:[{top:[h]}],right:[{right:[h]}],bottom:[{bottom:[h]}],left:[{left:[h]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Jo,ce]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ce]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",Jo,ce]}],"grid-cols":[{"grid-cols":[es]}],"col-start-end":[{col:["auto",{span:["full",Jo,ce]},ce]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[es]}],"row-start-end":[{row:["auto",{span:[Jo,ce]},ce]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ce]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...k()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...k(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...k(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ce,t]}],"min-w":[{"min-w":[ce,t,"min","max","fit"]}],"max-w":[{"max-w":[ce,t,"none","full","min","max","fit","prose",{screen:[Zn]},Zn]}],h:[{h:[ce,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ce,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ce,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ce,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Zn,qn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ol]}],"font-family":[{font:[es]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ce]}],"line-clamp":[{"line-clamp":["none",xo,Ol]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Pn,ce]}],"list-image":[{"list-image":["none",ce]}],"list-style-type":[{list:["none","disc","decimal",ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Pn,qn]}],"underline-offset":[{"underline-offset":["auto",Pn,ce]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),$b]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Lb]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Fb]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:B()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[Pn,ce]}],"outline-w":[{outline:[Pn,qn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Pn,qn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Zn,zb]}],"shadow-color":[{shadow:[es]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...E(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":E()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Zn,ce]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[m]}],saturate:[{saturate:[w]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ce]}],duration:[{duration:L()}],ease:[{ease:["linear","in","out","in-out",ce]}],delay:[{delay:L()}],animate:[{animate:["none","spin","ping","pulse","bounce",ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Jo,ce]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ce]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Pn,qn,Ol]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Kb=jb(Wb);function me(...e){return Kb(Wg(e))}const Yb=nb,sy=f.forwardRef(({className:e,...t},n)=>a.jsx($g,{ref:n,className:me("fixed bottom-4 left-2 z-[100] flex max-h-screen w-full max-w-[280px] flex-col-reverse gap-1 p-2",e),...t}));sy.displayName=$g.displayName;const Gb=Cd("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-2 pr-6 shadow-lg transition-all opacity-60 data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-left-full data-[state=open]:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),iy=f.forwardRef(({className:e,variant:t,...n},r)=>a.jsx(Bg,{ref:r,className:me(Gb({variant:t}),e),...n}));iy.displayName=Bg.displayName;const Xb=f.forwardRef(({className:e,...t},n)=>a.jsx(Ug,{ref:n,className:me("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Xb.displayName=Ug.displayName;const ay=f.forwardRef(({className:e,...t},n)=>a.jsx(Vg,{ref:n,className:me("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(bd,{className:"h-4 w-4"})}));ay.displayName=Vg.displayName;const ly=f.forwardRef(({className:e,...t},n)=>a.jsx(Fg,{ref:n,className:me("text-xs font-semibold",e),...t}));ly.displayName=Fg.displayName;const cy=f.forwardRef(({className:e,...t},n)=>a.jsx(zg,{ref:n,className:me("text-xs opacity-90",e),...t}));cy.displayName=zg.displayName;function Qb(){const{toasts:e}=xg();return a.jsxs(Yb,{children:[e.map(function({id:t,title:n,description:r,action:o,...s}){return a.jsxs(iy,{...s,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(ly,{children:n}),r&&a.jsx(cy,{children:r})]}),o,a.jsx(ay,{})]},t)}),a.jsx(sy,{})]})}var qb=nm[" useId ".trim().toString()]||(()=>{}),Zb=0;function vo(e){const[t,n]=f.useState(qb());return dt(()=>{n(r=>r??String(Zb++))},[e]),t?`radix-${t}`:""}const Jb=["top","right","bottom","left"],vr=Math.min,jt=Math.max,la=Math.round,pi=Math.floor,bn=e=>({x:e,y:e}),eS={left:"right",right:"left",bottom:"top",top:"bottom"},tS={start:"end",end:"start"};function Kc(e,t,n){return jt(e,vr(t,n))}function Hn(e,t){return typeof e=="function"?e(t):e}function Wn(e){return e.split("-")[0]}function $o(e){return e.split("-")[1]}function Nd(e){return e==="x"?"y":"x"}function Pd(e){return e==="y"?"height":"width"}function wr(e){return["top","bottom"].includes(Wn(e))?"y":"x"}function kd(e){return Nd(wr(e))}function nS(e,t,n){n===void 0&&(n=!1);const r=$o(e),o=kd(e),s=Pd(o);let i=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=ca(i)),[i,ca(i)]}function rS(e){const t=ca(e);return[Yc(e),t,Yc(t)]}function Yc(e){return e.replace(/start|end/g,t=>tS[t])}function oS(e,t,n){const r=["left","right"],o=["right","left"],s=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?s:i;default:return[]}}function sS(e,t,n,r){const o=$o(e);let s=oS(Wn(e),n==="start",r);return o&&(s=s.map(i=>i+"-"+o),t&&(s=s.concat(s.map(Yc)))),s}function ca(e){return e.replace(/left|right|bottom|top/g,t=>eS[t])}function iS(e){return{top:0,right:0,bottom:0,left:0,...e}}function uy(e){return typeof e!="number"?iS(e):{top:e,right:e,bottom:e,left:e}}function ua(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function wp(e,t,n){let{reference:r,floating:o}=e;const s=wr(t),i=kd(t),l=Pd(i),c=Wn(t),u=s==="y",p=r.x+r.width/2-o.width/2,m=r.y+r.height/2-o.height/2,d=r[l]/2-o[l]/2;let y;switch(c){case"top":y={x:p,y:r.y-o.height};break;case"bottom":y={x:p,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:m};break;case"left":y={x:r.x-o.width,y:m};break;default:y={x:r.x,y:r.y}}switch($o(t)){case"start":y[i]-=d*(n&&u?-1:1);break;case"end":y[i]+=d*(n&&u?-1:1);break}return y}const aS=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:i}=n,l=s.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:p,y:m}=wp(u,r,c),d=r,y={},v=0;for(let h=0;h<l.length;h++){const{name:C,fn:x}=l[h],{x:g,y:w,data:b,reset:P}=await x({x:p,y:m,initialPlacement:r,placement:d,strategy:o,middlewareData:y,rects:u,platform:i,elements:{reference:e,floating:t}});p=g??p,m=w??m,y={...y,[C]:{...y[C],...b}},P&&v<=50&&(v++,typeof P=="object"&&(P.placement&&(d=P.placement),P.rects&&(u=P.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:o}):P.rects),{x:p,y:m}=wp(u,d,c)),h=-1)}return{x:p,y:m,placement:d,strategy:o,middlewareData:y}};async function Os(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:s,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:d=!1,padding:y=0}=Hn(t,e),v=uy(y),C=l[d?m==="floating"?"reference":"floating":m],x=ua(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(C)))==null||n?C:C.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:p,strategy:c})),g=m==="floating"?{x:r,y:o,width:i.floating.width,height:i.floating.height}:i.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),b=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},P=ua(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:w,strategy:c}):g);return{top:(x.top-P.top+v.top)/b.y,bottom:(P.bottom-x.bottom+v.bottom)/b.y,left:(x.left-P.left+v.left)/b.x,right:(P.right-x.right+v.right)/b.x}}const lS=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:s,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:p=0}=Hn(e,t)||{};if(u==null)return{};const m=uy(p),d={x:n,y:r},y=kd(o),v=Pd(y),h=await i.getDimensions(u),C=y==="y",x=C?"top":"left",g=C?"bottom":"right",w=C?"clientHeight":"clientWidth",b=s.reference[v]+s.reference[y]-d[y]-s.floating[v],P=d[y]-s.reference[y],S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let N=S?S[w]:0;(!N||!await(i.isElement==null?void 0:i.isElement(S)))&&(N=l.floating[w]||s.floating[v]);const j=b/2-P/2,A=N/2-h[v]/2-1,R=vr(m[x],A),z=vr(m[g],A),O=R,U=N-h[v]-z,D=N/2-h[v]/2+j,M=Kc(O,D,U),B=!c.arrow&&$o(o)!=null&&D!==M&&s.reference[v]/2-(D<O?R:z)-h[v]/2<0,E=B?D<O?D-O:D-U:0;return{[y]:d[y]+E,data:{[y]:M,centerOffset:D-M-E,...B&&{alignmentOffset:E}},reset:B}}}),cS=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:s,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:d,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:h=!0,...C}=Hn(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const x=Wn(o),g=wr(l),w=Wn(l)===l,b=await(c.isRTL==null?void 0:c.isRTL(u.floating)),P=d||(w||!h?[ca(l)]:rS(l)),S=v!=="none";!d&&S&&P.push(...sS(l,h,v,b));const N=[l,...P],j=await Os(t,C),A=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(p&&A.push(j[x]),m){const D=nS(o,i,b);A.push(j[D[0]],j[D[1]])}if(R=[...R,{placement:o,overflows:A}],!A.every(D=>D<=0)){var z,O;const D=(((z=s.flip)==null?void 0:z.index)||0)+1,M=N[D];if(M)return{data:{index:D,overflows:R},reset:{placement:M}};let B=(O=R.filter(E=>E.overflows[0]<=0).sort((E,k)=>E.overflows[1]-k.overflows[1])[0])==null?void 0:O.placement;if(!B)switch(y){case"bestFit":{var U;const E=(U=R.filter(k=>{if(S){const I=wr(k.placement);return I===g||I==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(I=>I>0).reduce((I,T)=>I+T,0)]).sort((k,I)=>k[1]-I[1])[0])==null?void 0:U[0];E&&(B=E);break}case"initialPlacement":B=l;break}if(o!==B)return{reset:{placement:B}}}return{}}}};function Cp(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function bp(e){return Jb.some(t=>e[t]>=0)}const uS=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=Hn(e,t);switch(r){case"referenceHidden":{const s=await Os(t,{...o,elementContext:"reference"}),i=Cp(s,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:bp(i)}}}case"escaped":{const s=await Os(t,{...o,altBoundary:!0}),i=Cp(s,n.floating);return{data:{escapedOffsets:i,escaped:bp(i)}}}default:return{}}}}};async function dS(e,t){const{placement:n,platform:r,elements:o}=e,s=await(r.isRTL==null?void 0:r.isRTL(o.floating)),i=Wn(n),l=$o(n),c=wr(n)==="y",u=["left","top"].includes(i)?-1:1,p=s&&c?-1:1,m=Hn(t,e);let{mainAxis:d,crossAxis:y,alignmentAxis:v}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof v=="number"&&(y=l==="end"?v*-1:v),c?{x:y*p,y:d*u}:{x:d*u,y:y*p}}const fS=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:s,placement:i,middlewareData:l}=t,c=await dS(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:o+c.x,y:s+c.y,data:{...c,placement:i}}}}},pS=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:l={fn:C=>{let{x,y:g}=C;return{x,y:g}}},...c}=Hn(e,t),u={x:n,y:r},p=await Os(t,c),m=wr(Wn(o)),d=Nd(m);let y=u[d],v=u[m];if(s){const C=d==="y"?"top":"left",x=d==="y"?"bottom":"right",g=y+p[C],w=y-p[x];y=Kc(g,y,w)}if(i){const C=m==="y"?"top":"left",x=m==="y"?"bottom":"right",g=v+p[C],w=v-p[x];v=Kc(g,v,w)}const h=l.fn({...t,[d]:y,[m]:v});return{...h,data:{x:h.x-n,y:h.y-r,enabled:{[d]:s,[m]:i}}}}}},mS=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:s,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Hn(e,t),p={x:n,y:r},m=wr(o),d=Nd(m);let y=p[d],v=p[m];const h=Hn(l,t),C=typeof h=="number"?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(c){const w=d==="y"?"height":"width",b=s.reference[d]-s.floating[w]+C.mainAxis,P=s.reference[d]+s.reference[w]-C.mainAxis;y<b?y=b:y>P&&(y=P)}if(u){var x,g;const w=d==="y"?"width":"height",b=["top","left"].includes(Wn(o)),P=s.reference[m]-s.floating[w]+(b&&((x=i.offset)==null?void 0:x[m])||0)+(b?0:C.crossAxis),S=s.reference[m]+s.reference[w]+(b?0:((g=i.offset)==null?void 0:g[m])||0)-(b?C.crossAxis:0);v<P?v=P:v>S&&(v=S)}return{[d]:y,[m]:v}}}},hS=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:s,platform:i,elements:l}=t,{apply:c=()=>{},...u}=Hn(e,t),p=await Os(t,u),m=Wn(o),d=$o(o),y=wr(o)==="y",{width:v,height:h}=s.floating;let C,x;m==="top"||m==="bottom"?(C=m,x=d===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(x=m,C=d==="end"?"top":"bottom");const g=h-p.top-p.bottom,w=v-p.left-p.right,b=vr(h-p[C],g),P=vr(v-p[x],w),S=!t.middlewareData.shift;let N=b,j=P;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(j=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(N=g),S&&!d){const R=jt(p.left,0),z=jt(p.right,0),O=jt(p.top,0),U=jt(p.bottom,0);y?j=v-2*(R!==0||z!==0?R+z:jt(p.left,p.right)):N=h-2*(O!==0||U!==0?O+U:jt(p.top,p.bottom))}await c({...t,availableWidth:j,availableHeight:N});const A=await i.getDimensions(l.floating);return v!==A.width||h!==A.height?{reset:{rects:!0}}:{}}}};function Ba(){return typeof window<"u"}function Bo(e){return dy(e)?(e.nodeName||"").toLowerCase():"#document"}function Tt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Nn(e){var t;return(t=(dy(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function dy(e){return Ba()?e instanceof Node||e instanceof Tt(e).Node:!1}function cn(e){return Ba()?e instanceof Element||e instanceof Tt(e).Element:!1}function Sn(e){return Ba()?e instanceof HTMLElement||e instanceof Tt(e).HTMLElement:!1}function Sp(e){return!Ba()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Tt(e).ShadowRoot}function Ws(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=un(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function gS(e){return["table","td","th"].includes(Bo(e))}function Fa(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function jd(e){const t=Md(),n=cn(e)?un(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function yS(e){let t=Cr(e);for(;Sn(t)&&!Do(t);){if(jd(t))return t;if(Fa(t))return null;t=Cr(t)}return null}function Md(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Do(e){return["html","body","#document"].includes(Bo(e))}function un(e){return Tt(e).getComputedStyle(e)}function za(e){return cn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Cr(e){if(Bo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Sp(e)&&e.host||Nn(e);return Sp(t)?t.host:t}function fy(e){const t=Cr(e);return Do(t)?e.ownerDocument?e.ownerDocument.body:e.body:Sn(t)&&Ws(t)?t:fy(t)}function _s(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=fy(e),s=o===((r=e.ownerDocument)==null?void 0:r.body),i=Tt(o);if(s){const l=Gc(i);return t.concat(i,i.visualViewport||[],Ws(o)?o:[],l&&n?_s(l):[])}return t.concat(o,_s(o,[],n))}function Gc(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function py(e){const t=un(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Sn(e),s=o?e.offsetWidth:n,i=o?e.offsetHeight:r,l=la(n)!==s||la(r)!==i;return l&&(n=s,r=i),{width:n,height:r,$:l}}function Ed(e){return cn(e)?e:e.contextElement}function wo(e){const t=Ed(e);if(!Sn(t))return bn(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:s}=py(t);let i=(s?la(n.width):n.width)/r,l=(s?la(n.height):n.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const xS=bn(0);function my(e){const t=Tt(e);return!Md()||!t.visualViewport?xS:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function vS(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Tt(e)?!1:t}function Ur(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=Ed(e);let i=bn(1);t&&(r?cn(r)&&(i=wo(r)):i=wo(e));const l=vS(s,n,r)?my(s):bn(0);let c=(o.left+l.x)/i.x,u=(o.top+l.y)/i.y,p=o.width/i.x,m=o.height/i.y;if(s){const d=Tt(s),y=r&&cn(r)?Tt(r):r;let v=d,h=Gc(v);for(;h&&r&&y!==v;){const C=wo(h),x=h.getBoundingClientRect(),g=un(h),w=x.left+(h.clientLeft+parseFloat(g.paddingLeft))*C.x,b=x.top+(h.clientTop+parseFloat(g.paddingTop))*C.y;c*=C.x,u*=C.y,p*=C.x,m*=C.y,c+=w,u+=b,v=Tt(h),h=Gc(v)}}return ua({width:p,height:m,x:c,y:u})}function Td(e,t){const n=za(e).scrollLeft;return t?t.left+n:Ur(Nn(e)).left+n}function hy(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:Td(e,r)),s=r.top+t.scrollTop;return{x:o,y:s}}function wS(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const s=o==="fixed",i=Nn(r),l=t?Fa(t.floating):!1;if(r===i||l&&s)return n;let c={scrollLeft:0,scrollTop:0},u=bn(1);const p=bn(0),m=Sn(r);if((m||!m&&!s)&&((Bo(r)!=="body"||Ws(i))&&(c=za(r)),Sn(r))){const y=Ur(r);u=wo(r),p.x=y.x+r.clientLeft,p.y=y.y+r.clientTop}const d=i&&!m&&!s?hy(i,c,!0):bn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+p.x+d.x,y:n.y*u.y-c.scrollTop*u.y+p.y+d.y}}function CS(e){return Array.from(e.getClientRects())}function bS(e){const t=Nn(e),n=za(e),r=e.ownerDocument.body,o=jt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=jt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Td(e);const l=-n.scrollTop;return un(r).direction==="rtl"&&(i+=jt(t.clientWidth,r.clientWidth)-o),{width:o,height:s,x:i,y:l}}function SS(e,t){const n=Tt(e),r=Nn(e),o=n.visualViewport;let s=r.clientWidth,i=r.clientHeight,l=0,c=0;if(o){s=o.width,i=o.height;const u=Md();(!u||u&&t==="fixed")&&(l=o.offsetLeft,c=o.offsetTop)}return{width:s,height:i,x:l,y:c}}function NS(e,t){const n=Ur(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,s=Sn(e)?wo(e):bn(1),i=e.clientWidth*s.x,l=e.clientHeight*s.y,c=o*s.x,u=r*s.y;return{width:i,height:l,x:c,y:u}}function Np(e,t,n){let r;if(t==="viewport")r=SS(e,n);else if(t==="document")r=bS(Nn(e));else if(cn(t))r=NS(t,n);else{const o=my(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return ua(r)}function gy(e,t){const n=Cr(e);return n===t||!cn(n)||Do(n)?!1:un(n).position==="fixed"||gy(n,t)}function PS(e,t){const n=t.get(e);if(n)return n;let r=_s(e,[],!1).filter(l=>cn(l)&&Bo(l)!=="body"),o=null;const s=un(e).position==="fixed";let i=s?Cr(e):e;for(;cn(i)&&!Do(i);){const l=un(i),c=jd(i);!c&&l.position==="fixed"&&(o=null),(s?!c&&!o:!c&&l.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Ws(i)&&!c&&gy(e,i))?r=r.filter(p=>p!==i):o=l,i=Cr(i)}return t.set(e,r),r}function kS(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[...n==="clippingAncestors"?Fa(t)?[]:PS(t,this._c):[].concat(n),r],l=i[0],c=i.reduce((u,p)=>{const m=Np(t,p,o);return u.top=jt(m.top,u.top),u.right=vr(m.right,u.right),u.bottom=vr(m.bottom,u.bottom),u.left=jt(m.left,u.left),u},Np(t,l,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function jS(e){const{width:t,height:n}=py(e);return{width:t,height:n}}function MS(e,t,n){const r=Sn(t),o=Nn(t),s=n==="fixed",i=Ur(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=bn(0);if(r||!r&&!s)if((Bo(t)!=="body"||Ws(o))&&(l=za(t)),r){const d=Ur(t,!0,s,t);c.x=d.x+t.clientLeft,c.y=d.y+t.clientTop}else o&&(c.x=Td(o));const u=o&&!r&&!s?hy(o,l):bn(0),p=i.left+l.scrollLeft-c.x-u.x,m=i.top+l.scrollTop-c.y-u.y;return{x:p,y:m,width:i.width,height:i.height}}function _l(e){return un(e).position==="static"}function Pp(e,t){if(!Sn(e)||un(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Nn(e)===n&&(n=n.ownerDocument.body),n}function yy(e,t){const n=Tt(e);if(Fa(e))return n;if(!Sn(e)){let o=Cr(e);for(;o&&!Do(o);){if(cn(o)&&!_l(o))return o;o=Cr(o)}return n}let r=Pp(e,t);for(;r&&gS(r)&&_l(r);)r=Pp(r,t);return r&&Do(r)&&_l(r)&&!jd(r)?n:r||yS(e)||n}const ES=async function(e){const t=this.getOffsetParent||yy,n=this.getDimensions,r=await n(e.floating);return{reference:MS(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function TS(e){return un(e).direction==="rtl"}const DS={convertOffsetParentRelativeRectToViewportRelativeRect:wS,getDocumentElement:Nn,getClippingRect:kS,getOffsetParent:yy,getElementRects:ES,getClientRects:CS,getDimensions:jS,getScale:wo,isElement:cn,isRTL:TS};function xy(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function IS(e,t){let n=null,r;const o=Nn(e);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:p,top:m,width:d,height:y}=u;if(l||t(),!d||!y)return;const v=pi(m),h=pi(o.clientWidth-(p+d)),C=pi(o.clientHeight-(m+y)),x=pi(p),w={rootMargin:-v+"px "+-h+"px "+-C+"px "+-x+"px",threshold:jt(0,vr(1,c))||1};let b=!0;function P(S){const N=S[0].intersectionRatio;if(N!==c){if(!b)return i();N?i(!1,N):r=setTimeout(()=>{i(!1,1e-7)},1e3)}N===1&&!xy(u,e.getBoundingClientRect())&&i(),b=!1}try{n=new IntersectionObserver(P,{...w,root:o.ownerDocument})}catch{n=new IntersectionObserver(P,w)}n.observe(e)}return i(!0),s}function RS(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Ed(e),p=o||s?[...u?_s(u):[],..._s(t)]:[];p.forEach(x=>{o&&x.addEventListener("scroll",n,{passive:!0}),s&&x.addEventListener("resize",n)});const m=u&&l?IS(u,n):null;let d=-1,y=null;i&&(y=new ResizeObserver(x=>{let[g]=x;g&&g.target===u&&y&&(y.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var w;(w=y)==null||w.observe(t)})),n()}),u&&!c&&y.observe(u),y.observe(t));let v,h=c?Ur(e):null;c&&C();function C(){const x=Ur(e);h&&!xy(h,x)&&n(),h=x,v=requestAnimationFrame(C)}return n(),()=>{var x;p.forEach(g=>{o&&g.removeEventListener("scroll",n),s&&g.removeEventListener("resize",n)}),m==null||m(),(x=y)==null||x.disconnect(),y=null,c&&cancelAnimationFrame(v)}}const OS=fS,_S=pS,AS=cS,LS=hS,$S=uS,kp=lS,BS=mS,FS=(e,t,n)=>{const r=new Map,o={platform:DS,...n},s={...o.platform,_c:r};return aS(e,t,{...o,platform:s})};var Oi=typeof document<"u"?f.useLayoutEffect:f.useEffect;function da(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!da(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const s=o[r];if(!(s==="_owner"&&e.$$typeof)&&!da(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function vy(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function jp(e,t){const n=vy(e);return Math.round(t*n)/n}function Al(e){const t=f.useRef(e);return Oi(()=>{t.current=e}),t}function zS(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:s,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[p,m]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[d,y]=f.useState(r);da(d,r)||y(r);const[v,h]=f.useState(null),[C,x]=f.useState(null),g=f.useCallback(k=>{k!==S.current&&(S.current=k,h(k))},[]),w=f.useCallback(k=>{k!==N.current&&(N.current=k,x(k))},[]),b=s||v,P=i||C,S=f.useRef(null),N=f.useRef(null),j=f.useRef(p),A=c!=null,R=Al(c),z=Al(o),O=Al(u),U=f.useCallback(()=>{if(!S.current||!N.current)return;const k={placement:t,strategy:n,middleware:d};z.current&&(k.platform=z.current),FS(S.current,N.current,k).then(I=>{const T={...I,isPositioned:O.current!==!1};D.current&&!da(j.current,T)&&(j.current=T,ln.flushSync(()=>{m(T)}))})},[d,t,n,z,O]);Oi(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,m(k=>({...k,isPositioned:!1})))},[u]);const D=f.useRef(!1);Oi(()=>(D.current=!0,()=>{D.current=!1}),[]),Oi(()=>{if(b&&(S.current=b),P&&(N.current=P),b&&P){if(R.current)return R.current(b,P,U);U()}},[b,P,U,R,A]);const M=f.useMemo(()=>({reference:S,floating:N,setReference:g,setFloating:w}),[g,w]),B=f.useMemo(()=>({reference:b,floating:P}),[b,P]),E=f.useMemo(()=>{const k={position:n,left:0,top:0};if(!B.floating)return k;const I=jp(B.floating,p.x),T=jp(B.floating,p.y);return l?{...k,transform:"translate("+I+"px, "+T+"px)",...vy(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:I,top:T}},[n,l,B.floating,p.x,p.y]);return f.useMemo(()=>({...p,update:U,refs:M,elements:B,floatingStyles:E}),[p,U,M,B,E])}const US=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?kp({element:r.current,padding:o}).fn(n):{}:r?kp({element:r,padding:o}).fn(n):{}}}},VS=(e,t)=>({...OS(e),options:[e,t]}),HS=(e,t)=>({..._S(e),options:[e,t]}),WS=(e,t)=>({...BS(e),options:[e,t]}),KS=(e,t)=>({...AS(e),options:[e,t]}),YS=(e,t)=>({...LS(e),options:[e,t]}),GS=(e,t)=>({...$S(e),options:[e,t]}),XS=(e,t)=>({...US(e),options:[e,t]});var QS="Arrow",wy=f.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...s}=e;return a.jsx(ue.svg,{...s,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});wy.displayName=QS;var qS=wy;function Ua(e){const[t,n]=f.useState(void 0);return dt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const s=o[0];let i,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Dd="Popper",[Cy,Va]=Yn(Dd),[ZS,by]=Cy(Dd),Sy=e=>{const{__scopePopper:t,children:n}=e,[r,o]=f.useState(null);return a.jsx(ZS,{scope:t,anchor:r,onAnchorChange:o,children:n})};Sy.displayName=Dd;var Ny="PopperAnchor",Py=f.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,s=by(Ny,n),i=f.useRef(null),l=ve(t,i);return f.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:a.jsx(ue.div,{...o,ref:l})});Py.displayName=Ny;var Id="PopperContent",[JS,eN]=Cy(Id),ky=f.forwardRef((e,t)=>{var G,se,ke,_,F,$;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:s="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:d=!1,updatePositionStrategy:y="optimized",onPlaced:v,...h}=e,C=by(Id,n),[x,g]=f.useState(null),w=ve(t,V=>g(V)),[b,P]=f.useState(null),S=Ua(b),N=(S==null?void 0:S.width)??0,j=(S==null?void 0:S.height)??0,A=r+(s!=="center"?"-"+s:""),R=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},z=Array.isArray(u)?u:[u],O=z.length>0,U={padding:R,boundary:z.filter(nN),altBoundary:O},{refs:D,floatingStyles:M,placement:B,isPositioned:E,middlewareData:k}=zS({strategy:"fixed",placement:A,whileElementsMounted:(...V)=>RS(...V,{animationFrame:y==="always"}),elements:{reference:C.anchor},middleware:[VS({mainAxis:o+j,alignmentAxis:i}),c&&HS({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?WS():void 0,...U}),c&&KS({...U}),YS({...U,apply:({elements:V,rects:Q,availableWidth:ae,availableHeight:we})=>{const{width:ye,height:Se}=Q.reference,Xe=V.floating.style;Xe.setProperty("--radix-popper-available-width",`${ae}px`),Xe.setProperty("--radix-popper-available-height",`${we}px`),Xe.setProperty("--radix-popper-anchor-width",`${ye}px`),Xe.setProperty("--radix-popper-anchor-height",`${Se}px`)}}),b&&XS({element:b,padding:l}),rN({arrowWidth:N,arrowHeight:j}),d&&GS({strategy:"referenceHidden",...U})]}),[I,T]=Ey(B),L=It(v);dt(()=>{E&&(L==null||L())},[E,L]);const K=(G=k.arrow)==null?void 0:G.x,J=(se=k.arrow)==null?void 0:se.y,Z=((ke=k.arrow)==null?void 0:ke.centerOffset)!==0,[ne,ie]=f.useState();return dt(()=>{x&&ie(window.getComputedStyle(x).zIndex)},[x]),a.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:E?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ne,"--radix-popper-transform-origin":[(_=k.transformOrigin)==null?void 0:_.x,(F=k.transformOrigin)==null?void 0:F.y].join(" "),...(($=k.hide)==null?void 0:$.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(JS,{scope:n,placedSide:I,onArrowChange:P,arrowX:K,arrowY:J,shouldHideArrow:Z,children:a.jsx(ue.div,{"data-side":I,"data-align":T,...h,ref:w,style:{...h.style,animation:E?void 0:"none"}})})})});ky.displayName=Id;var jy="PopperArrow",tN={top:"bottom",right:"left",bottom:"top",left:"right"},My=f.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,s=eN(jy,r),i=tN[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(qS,{...o,ref:n,style:{...o.style,display:"block"}})})});My.displayName=jy;function nN(e){return e!==null}var rN=e=>({name:"transformOrigin",options:e,fn(t){var C,x,g;const{placement:n,rects:r,middlewareData:o}=t,i=((C=o.arrow)==null?void 0:C.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,p]=Ey(n),m={start:"0%",center:"50%",end:"100%"}[p],d=(((x=o.arrow)==null?void 0:x.x)??0)+l/2,y=(((g=o.arrow)==null?void 0:g.y)??0)+c/2;let v="",h="";return u==="bottom"?(v=i?m:`${d}px`,h=`${-c}px`):u==="top"?(v=i?m:`${d}px`,h=`${r.floating.height+c}px`):u==="right"?(v=`${-c}px`,h=i?m:`${y}px`):u==="left"&&(v=`${r.floating.width+c}px`,h=i?m:`${y}px`),{data:{x:v,y:h}}}});function Ey(e){const[t,n="center"]=e.split("-");return[t,n]}var oN=Sy,Ty=Py,Dy=ky,Iy=My,[Ha,Tk]=Yn("Tooltip",[Va]),Rd=Va(),Ry="TooltipProvider",sN=700,Mp="tooltip.open",[iN,Oy]=Ha(Ry),_y=e=>{const{__scopeTooltip:t,delayDuration:n=sN,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:s}=e,i=f.useRef(!0),l=f.useRef(!1),c=f.useRef(0);return f.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),a.jsx(iN,{scope:t,isOpenDelayedRef:i,delayDuration:n,onOpen:f.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:f.useCallback(u=>{l.current=u},[]),disableHoverableContent:o,children:s})};_y.displayName=Ry;var Ay="Tooltip",[Dk,Wa]=Ha(Ay),Xc="TooltipTrigger",aN=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Wa(Xc,n),s=Oy(Xc,n),i=Rd(n),l=f.useRef(null),c=ve(t,l,o.onTriggerChange),u=f.useRef(!1),p=f.useRef(!1),m=f.useCallback(()=>u.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),a.jsx(Ty,{asChild:!0,...i,children:a.jsx(ue.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:c,onPointerMove:te(e.onPointerMove,d=>{d.pointerType!=="touch"&&!p.current&&!s.isPointerInTransitRef.current&&(o.onTriggerEnter(),p.current=!0)}),onPointerLeave:te(e.onPointerLeave,()=>{o.onTriggerLeave(),p.current=!1}),onPointerDown:te(e.onPointerDown,()=>{o.open&&o.onClose(),u.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:te(e.onFocus,()=>{u.current||o.onOpen()}),onBlur:te(e.onBlur,o.onClose),onClick:te(e.onClick,o.onClose)})})});aN.displayName=Xc;var lN="TooltipPortal",[Ik,cN]=Ha(lN,{forceMount:void 0}),Io="TooltipContent",Ly=f.forwardRef((e,t)=>{const n=cN(Io,e.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...s}=e,i=Wa(Io,e.__scopeTooltip);return a.jsx(Yr,{present:r||i.open,children:i.disableHoverableContent?a.jsx($y,{side:o,...s,ref:t}):a.jsx(uN,{side:o,...s,ref:t})})}),uN=f.forwardRef((e,t)=>{const n=Wa(Io,e.__scopeTooltip),r=Oy(Io,e.__scopeTooltip),o=f.useRef(null),s=ve(t,o),[i,l]=f.useState(null),{trigger:c,onClose:u}=n,p=o.current,{onPointerInTransitChange:m}=r,d=f.useCallback(()=>{l(null),m(!1)},[m]),y=f.useCallback((v,h)=>{const C=v.currentTarget,x={x:v.clientX,y:v.clientY},g=hN(x,C.getBoundingClientRect()),w=gN(x,g),b=yN(h.getBoundingClientRect()),P=vN([...w,...b]);l(P),m(!0)},[m]);return f.useEffect(()=>()=>d(),[d]),f.useEffect(()=>{if(c&&p){const v=C=>y(C,p),h=C=>y(C,c);return c.addEventListener("pointerleave",v),p.addEventListener("pointerleave",h),()=>{c.removeEventListener("pointerleave",v),p.removeEventListener("pointerleave",h)}}},[c,p,y,d]),f.useEffect(()=>{if(i){const v=h=>{const C=h.target,x={x:h.clientX,y:h.clientY},g=(c==null?void 0:c.contains(C))||(p==null?void 0:p.contains(C)),w=!xN(x,i);g?d():w&&(d(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,p,i,u,d]),a.jsx($y,{...e,ref:s})}),[dN,fN]=Ha(Ay,{isInside:!1}),pN=xC("TooltipContent"),$y=f.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:s,onPointerDownOutside:i,...l}=e,c=Wa(Io,n),u=Rd(n),{onClose:p}=c;return f.useEffect(()=>(document.addEventListener(Mp,p),()=>document.removeEventListener(Mp,p)),[p]),f.useEffect(()=>{if(c.trigger){const m=d=>{const y=d.target;y!=null&&y.contains(c.trigger)&&p()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,p]),a.jsx(Vs,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:m=>m.preventDefault(),onDismiss:p,children:a.jsxs(Dy,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(pN,{children:r}),a.jsx(dN,{scope:n,isInside:!0,children:a.jsx($C,{id:c.contentId,role:"tooltip",children:o||r})})]})})});Ly.displayName=Io;var By="TooltipArrow",mN=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Rd(n);return fN(By,n).isInside?null:a.jsx(Iy,{...o,...r,ref:t})});mN.displayName=By;function hN(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,o,s)){case s:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function gN(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function yN(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}function xN(e,t){const{x:n,y:r}=e;let o=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const l=t[s].x,c=t[s].y,u=t[i].x,p=t[i].y;c>r!=p>r&&n<(u-l)*(r-c)/(p-c)+l&&(o=!o)}return o}function vN(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),wN(t)}function wN(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const o=e[r];for(;t.length>=2;){const s=t[t.length-1],i=t[t.length-2];if((s.x-i.x)*(o.y-i.y)>=(s.y-i.y)*(o.x-i.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const o=e[r];for(;n.length>=2;){const s=n[n.length-1],i=n[n.length-2];if((s.x-i.x)*(o.y-i.y)>=(s.y-i.y)*(o.x-i.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var CN=_y,Fy=Ly;const bN=CN,SN=f.forwardRef(({className:e,sideOffset:t=4,...n},r)=>a.jsx(Fy,{ref:r,sideOffset:t,className:me("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));SN.displayName=Fy.displayName;const zy=f.createContext(void 0);function NN({children:e}){const[t,n]=f.useState(()=>{try{const r=localStorage.getItem("midi-router-toast-enabled");return r?JSON.parse(r):!0}catch{return!0}});return f.useEffect(()=>{localStorage.setItem("midi-router-toast-enabled",JSON.stringify(t))},[t]),a.jsx(zy.Provider,{value:{toastNotificationsEnabled:t,setToastNotificationsEnabled:n},children:e})}function Uy(){const e=f.useContext(zy);if(e===void 0)throw new Error("useSettings must be used within a SettingsProvider");return e}const Vy=f.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:me("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Vy.displayName="Card";const PN=f.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:me("flex flex-col space-y-1.5 p-6",e),...t}));PN.displayName="CardHeader";const kN=f.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:me("text-2xl font-semibold leading-none tracking-tight",e),...t}));kN.displayName="CardTitle";const jN=f.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:me("text-sm text-muted-foreground",e),...t}));jN.displayName="CardDescription";const Hy=f.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:me("p-6 pt-0",e),...t}));Hy.displayName="CardContent";const MN=f.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:me("flex items-center p-6 pt-0",e),...t}));MN.displayName="CardFooter";function EN(){return a.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:a.jsx(Vy,{className:"w-full max-w-md mx-4",children:a.jsxs(Hy,{className:"pt-6",children:[a.jsxs("div",{className:"flex mb-4 gap-2",children:[a.jsx(lb,{className:"h-8 w-8 text-red-500"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),a.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function Ep(e,t){let n="port w-4 h-4 rounded-full cursor-pointer";return e.type==="input"?n+=" port-input":e.type==="output"&&(n+=" port-output"),t.hasConnection&&(n+=" port-connected",e.type==="output"&&(n+=" port-output-connected")),t.isActive&&(n+=" port-active"),t.isSelected&&(n+=" port-selected"),n}const xa=class xa{constructor(){this.connections=[],this.blocks=[],this.inputHandlers=new Map,this.connectionMap=new Map,this.messageCounter=0,this.isProcessing=!1,this.pendingMessages=[]}static getInstance(){return this.instance||(this.instance=new xa),this.instance}updateConnections(t,n){this.connections=[...t],this.blocks=[...n],this.rebuildConnectionMap()}rebuildConnectionMap(){this.connectionMap.clear(),this.connections.forEach(t=>{const n=t.fromPort,r=t.toPort;this.connectionMap.has(n)||this.connectionMap.set(n,[]),this.connectionMap.get(n).push(r)})}registerInputHandler(t,n){this.inputHandlers.set(t,n)}unregisterInputHandler(t){this.inputHandlers.delete(t)}routeMessage(t){this.pendingMessages.push(t),this.isProcessing||this.processMessageQueue()}processMessageQueue(){this.isProcessing=!0,this.pendingMessages.length;try{for(;this.pendingMessages.length>0;){const t=this.pendingMessages.shift();this.processSingleMessage(t)}}finally{this.isProcessing=!1}}processSingleMessage(t){const{blockId:n,portId:r,message:o,messageId:s,visitedBlocks:i}=t,l=s||`msg_${++this.messageCounter}_${Date.now()}`,c=i||new Set;c.add(n),(this.connectionMap.get(r)||[]).forEach(p=>{const m=this.blocks.find(v=>v.ports.some(h=>h.id===p));if(!m){console.warn(`Target block not found for input port: ${p}`);return}if(c.has(m.id)){console.warn(`Loop detected: skipping route to ${m.id}`);return}const d=this.inputHandlers.get(m.id);if(!d){console.warn(`No input handler registered for block: ${m.id}`);return}const y={messageId:l,sourceBlockId:n,sourcePortId:r,targetBlockId:m.id,targetPortId:p,message:{...o},timestamp:Date.now(),visitedBlocks:new Set(c)};try{d(y)}catch(v){console.error(`Error routing MIDI message to block ${m.id}:`,v)}})}getRoutingStats(){return{totalConnections:this.connections.length,totalBlocks:this.blocks.length,registeredHandlers:this.inputHandlers.size,connectionMap:Object.fromEntries(this.connectionMap),messagesProcessed:this.messageCounter}}reset(){this.connections=[],this.blocks=[],this.inputHandlers.clear(),this.connectionMap.clear(),this.messageCounter=0,this.isProcessing=!1,this.pendingMessages=[]}};xa.instance=null;let Qc=xa;const _i=Qc.getInstance(),TN=({className:e="w-4 h-4",strokeWidth:t=1.5})=>a.jsxs("svg",{className:e,viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:t,children:[a.jsx("rect",{x:"1",y:"4",width:"14",height:"8",rx:"0.5",fill:"none"}),a.jsx("line",{x1:"3",y1:"4",x2:"3",y2:"12",strokeWidth:"0.5"}),a.jsx("line",{x1:"5",y1:"4",x2:"5",y2:"12",strokeWidth:"0.5"}),a.jsx("line",{x1:"7",y1:"4",x2:"7",y2:"12",strokeWidth:"0.5"}),a.jsx("line",{x1:"9",y1:"4",x2:"9",y2:"12",strokeWidth:"0.5"}),a.jsx("line",{x1:"11",y1:"4",x2:"11",y2:"12",strokeWidth:"0.5"}),a.jsx("line",{x1:"13",y1:"4",x2:"13",y2:"12",strokeWidth:"0.5"}),a.jsx("rect",{x:"2.5",y:"4",width:"1",height:"4",fill:"currentColor",strokeWidth:"0"}),a.jsx("rect",{x:"4.5",y:"4",width:"1",height:"4",fill:"currentColor",strokeWidth:"0"}),a.jsx("rect",{x:"8.5",y:"4",width:"1",height:"4",fill:"currentColor",strokeWidth:"0"}),a.jsx("rect",{x:"10.5",y:"4",width:"1",height:"4",fill:"currentColor",strokeWidth:"0"}),a.jsx("rect",{x:"12.5",y:"4",width:"1",height:"4",fill:"currentColor",strokeWidth:"0"})]}),DN=({className:e="w-4 h-4",strokeWidth:t=1.5})=>a.jsxs("svg",{className:e,viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:t,children:[a.jsx("rect",{x:"2",y:"3",width:"12",height:"8",rx:"1"}),a.jsx("path",{d:"M2 7h12M2 9h12",strokeWidth:.8}),a.jsx("path",{d:"M6 11v2M10 11v2M4 13h8"})]}),IN=({className:e="w-4 h-4",strokeWidth:t=1.5})=>a.jsxs("svg",{className:e,viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:t,children:[a.jsx("path",{d:"M3 4h10l-3 3v4l-4 1v-5l-3-3z"}),a.jsx("path",{d:"M3 4l3 3M13 4l-3 3",strokeWidth:1})]}),RN=({className:e="w-4 h-4",strokeWidth:t=1.5})=>a.jsxs("svg",{className:e,viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:t,children:[a.jsx("path",{d:"M4 2v12M8 2v12M12 2v12"}),a.jsx("rect",{x:"3",y:"5",width:"2",height:"2",rx:"0.5"}),a.jsx("rect",{x:"7",y:"7",width:"2",height:"2",rx:"0.5"}),a.jsx("rect",{x:"11",y:"4",width:"2",height:"2",rx:"0.5"})]}),Tp=({className:e="w-4 h-4",strokeWidth:t=1.5})=>a.jsxs("svg",{className:e,viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:t,children:[a.jsx("path",{d:"M2 8c1.5-3 3-3 4.5 0s3 3 4.5 0s3-3 4.5 0"}),a.jsx("circle",{cx:"2",cy:"8",r:"0.5",fill:"currentColor"}),a.jsx("circle",{cx:"14",cy:"8",r:"0.5",fill:"currentColor"})]}),ON=({className:e="w-4 h-4",strokeWidth:t=1.5})=>a.jsxs("svg",{className:e,viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:t,children:[a.jsx("path",{d:"M3 8h3M6 8h3M9 8h3"}),a.jsx("circle",{cx:"4.5",cy:"8",r:"1",strokeWidth:1}),a.jsx("circle",{cx:"7.5",cy:"8",r:"1",strokeWidth:.8,opacity:"0.7"}),a.jsx("circle",{cx:"10.5",cy:"8",r:"1",strokeWidth:.6,opacity:"0.4"})]}),Dp=({className:e="w-4 h-4",strokeWidth:t=1.5})=>a.jsxs("svg",{className:e,viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:t,children:[a.jsx("path",{d:"M4 2h6l2 2v9a1 1 0 01-1 1H4a1 1 0 01-1-1V3a1 1 0 011-1z"}),a.jsx("path",{d:"M10 2v2h2M6 7h4M6 9h4M6 11h2",strokeWidth:1})]}),_N=({className:e="w-4 h-4",strokeWidth:t=1.5})=>a.jsxs("svg",{className:e,viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:t,children:[a.jsx("circle",{cx:"8",cy:"8",r:"5"}),a.jsx("path",{d:"M6 8h4M8 6v4",strokeWidth:1}),a.jsx("circle",{cx:"8",cy:"8",r:"1.5",fill:"none",strokeWidth:1})]}),AN=({className:e="w-4 h-4",strokeWidth:t=1.5})=>a.jsxs("svg",{className:e,viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:t,children:[a.jsx("circle",{cx:"8",cy:"8",r:"5"}),a.jsx("path",{d:"M6 8l2-2v1h4v2h-4v1l-2-2z",fill:"currentColor",strokeWidth:.5})]}),LN=({className:e="w-4 h-4",strokeWidth:t=1.5})=>a.jsxs("svg",{className:e,viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:t,children:[a.jsx("polyline",{points:"2,12 6,8 10,10 14,4"}),a.jsx("polyline",{points:"10,4 14,4 14,8"})]}),Ip={piano:TN,monitor:DN,filter:IN,mixer:RN,wave:Tp,delay:ON,document:Dp,input:_N,output:AN,template:Dp,oscillator:Tp,"trending-up":LN},Wy=({name:e,color:t="current",className:n="w-4 h-4",strokeWidth:r=1.5})=>{const o=Ip[e];if(!o)return console.warn(`Icon "${e}" not found in registry`),Ip.document({className:n,strokeWidth:r});const s=`${n} ${t!=="current"?`text-${t}`:""} drop-shadow-glow`;return a.jsx(o,{className:s,strokeWidth:r})};function Ky(e){const[t,n]=f.useState({}),r=f.useRef(new Map);return f.useCallback((o,s)=>{n(i=>{if(s===i[o])return i;if(s)return{...i,[o]:!0};{const l={...i};return delete l[o],l}})},[]),f.useEffect(()=>{const o=(s,i)=>{n(l=>{if(i===l[s])return l;if(i)return{...l,[s]:!0};{const c={...l};return delete c[s],c}})};return e.forEach(s=>{r.current.set(s,o),ge.registerPortActivityHandler(s,o)}),()=>{e.forEach(s=>{ge.unregisterPortActivityHandler(s),r.current.delete(s)})}},[e]),t}const Ee=class Ee{constructor(){this.data={}}static setConfigModalOpen(t){Ee.isConfigModalOpen=t}static getConfigModalOpen(){return Ee.isConfigModalOpen}useInstanceData(t){const n=this.blockId,r=this.constructor.name;Ee.instanceRegistries.has(r)||Ee.instanceRegistries.set(r,new Map);const o=Ee.instanceRegistries.get(r);return o.has(n)||o.set(n,t),o.get(n)}static cleanupInstance(t){Array.from(this.instanceRegistries.values()).forEach(n=>{n.delete(t)})}static setPortActive(t,n=!0){const r=this.portActivityTimers.get(t);r&&(clearTimeout(r),this.portActivityTimers.delete(t));const o=this.activePortUpdateHandlers.get(t);if(o&&o(t,n),n){const s=setTimeout(()=>{this.portActivityTimers.delete(t);const i=this.activePortUpdateHandlers.get(t);i&&i(t,!1)},100);this.portActivityTimers.set(t,s)}}static registerPortActivityHandler(t,n){this.activePortUpdateHandlers.set(t,n)}static unregisterPortActivityHandler(t){this.activePortUpdateHandlers.delete(t);const n=this.portActivityTimers.get(t);n&&(clearTimeout(n),this.portActivityTimers.delete(t))}emitMidiMessage(t,n,r,o){Ee.setPortActive(n,!0);const s={blockId:t,portId:n,message:r,messageId:o==null?void 0:o.messageId,visitedBlocks:o==null?void 0:o.visitedBlocks};_i.routeMessage(s)}handleRoutedMidiMessage(t){Ee.setPortActive(t.targetPortId,!0);const n=t.targetPortId.split("-").pop();this.blockId=t.targetBlockId;const r=this.processMidiMessage(t.message,n);if(r){const s=this.constructor.portConfig.outputs,i=r.targetPorts||s.map(c=>c.name);(r.messages||(r.message?[r.message]:[])).forEach((c,u)=>{i.forEach(p=>{if(!s.some(y=>y.name===p)){console.warn(`Block ${t.targetBlockId}: Output port '${p}' does not exist`);return}const d=`${t.targetBlockId}-${p}`;this.emitMidiMessage(t.targetBlockId,d,c,t)})})}}static getType(){return this.title.toLowerCase().replace(/\s+/g,"").replace(/[^a-z0-9]/g,"")}static generatePorts(t){const n=[];return this.portConfig.inputs.forEach(r=>{n.push({id:`${t}-${r.name}`,type:"input",blockId:t,position:{x:0,y:0}})}),this.portConfig.outputs.forEach(r=>{n.push({id:`${t}-${r.name}`,type:"output",blockId:t,position:{x:0,y:0}})}),n}static getPortPosition(t,n){return this.getSimplePortPosition(t,n)}static getDOMPortPosition(t,n){const r=document.querySelector(`[data-port-id="${n}"]`),o=document.getElementById("blocks-container");if(r&&o){const s=r.getBoundingClientRect(),i=o.getBoundingClientRect(),l=s.left+s.width/2,c=s.top+s.height/2,p=window.getComputedStyle(o).transform;let m=1,d=0,y=0;if(p&&p!=="none"){const C=p.match(/matrix\(([^)]+)\)/);if(C){const x=C[1].split(",").map(g=>parseFloat(g.trim()));m=x[0],d=x[4],y=x[5]}}const v=(l-i.left-d)/m,h=(c-i.top-y)/m;return t.type==="KeyboardVisualizerBlock"&&console.log(`[${this.name}] DOM coordinate conversion:`,{screenCoords:{x:l,y:c},canvasRect:{left:i.left,top:i.top},transform:{scale:m,translateX:d,translateY:y},finalPosition:{x:v,y:h}}),{x:v,y:h}}return this.getSimplePortPosition(t,n)}static getContentElement(t){let n=t.querySelector(".block-content");if(!n&&this.contentSelector&&(n=t.querySelector(this.contentSelector)),!n){const r=['[class*="space-y-3"]','[class*="space-y-2"]',".space-y-2.mb-4",".space-y-3",".space-y-2"];for(const o of r)if(n=t.querySelector(o),n)break}return n}static getSimplePortPosition(t,n){var w;const r=this.calculateBlockWidth?this.calculateBlockWidth(t):this.width;this.height;const o=(w=t.ports)==null?void 0:w.find(b=>b.id===n),s=(o==null?void 0:o.type)==="output",l=t.ports.filter(b=>b.type===(o==null?void 0:o.type)).findIndex(b=>b.id===n),c=16,u=24,p=12,m=16;Math.max(this.portConfig.inputs.length,this.portConfig.outputs.length);let d=60;const y=document.querySelector(`[data-block-id="${t.id}"]`);if(y){const b=this.getContentElement(y);b&&(d=b.scrollHeight)}d===60&&(this.name==="FilterBlock"?d=112:this.name==="MixerBlock"?d=108:this.name==="KeyboardVisualizerBlock"?d=200:d=64);const v=c+u+p+d+m,h=24,C=v+l*h+11,x=8,g={x:s?r-c-x-1:c+x+1,y:C-5};return t.type==="KeyboardVisualizerBlock"&&console.log(`[${this.name}] Simple port position calculation:`,{blockId:t.id,portId:n,blockWidth:r,staticWidth:this.width,blockHeight:this.height,padding:c,headerHeight:u,headerMargin:p,actualContentHeight:d,contentMargin:m,portsStartY:v,portIndex:l,portSpacing:h,portCenterY:C,isOutput:s,portRadius:x,finalPosition:g,calculations:{x:s?`${r} - ${c} - ${x} - 1 = ${g.x}`:`${c} + ${x} + 1 = ${g.x}`,y:`${v} + ${l} * ${h} + 11 - 5 = ${g.y}`}}),g}static getDefaultConfig(){return{}}static calculateBlockHeight(t){const n=this.portConfig.inputs.length,r=this.portConfig.outputs.length,o=Math.max(n,r),s=16,i=24,l=12,c=16,u=o*24,p=16;let m=this.height-s-i-l-c-24-p;if(t)try{const y=document.querySelector(`[data-block-id="${t}"]`),v=y&&this.getContentElement(y);if(v){const h=v.getBoundingClientRect();m=Math.max(m,h.height)}}catch{}const d=s+i+l+m+c+u+p;return Math.max(this.height,d)}static createComponent(){const t=this;return function(r){const{block:o,onRemove:s,onMouseDown:i,onPortMouseDown:l,onPortMouseUp:c,onPortClick:u,connections:p=[],activePortIds:m=new Set,selectedPortForConnection:d,isSelected:y=!1,onResize:v}=r,[h,C]=f.useState(null),[x,g]=f.useState(t.calculateBlockHeight()),w=Fe.useRef(null),b=Fe.useRef(null),P=Fe.useRef(null),S=Fe.useRef(null);Fe.useEffect(()=>{S.current=Object.create(t.prototype);const M=B=>{S.current&&S.current.handleRoutedMidiMessage(B)};return _i.registerInputHandler(o.id,M),()=>{_i.unregisterInputHandler(o.id)}},[o.id]),Fe.useEffect(()=>{if(S.current){const M=S.current.constructor.name;Ee.instanceRegistries.has(M)||Ee.instanceRegistries.set(M,new Map);const B=Ee.instanceRegistries.get(M);if(!B.has(o.id))B.set(o.id,{isSelected:y});else{const E=B.get(o.id);E&&typeof E=="object"&&(E.isSelected=y)}}},[y,o.id]),Fe.useEffect(()=>{if(!(!b.current||!v))return P.current=new ResizeObserver(M=>{for(const B of M){const{width:E,height:k}=B.contentRect;v({width:E,height:k})}}),P.current.observe(b.current),()=>{P.current&&(P.current.disconnect(),P.current=null)}},[v]),Fe.useEffect(()=>{const M=()=>{if(w.current){const E=Math.max(t.portConfig.inputs.length,t.portConfig.outputs.length),k=16,I=24,T=12,L=16,K=E*24,J=8,Z=w.current.scrollHeight,ne=k+I+T+Z+L+K+J;g(Math.max(t.height,ne))}};M();const B=new ResizeObserver(M);return w.current&&B.observe(w.current),()=>B.disconnect()},[]);const N=o.ports.filter(M=>M.type==="input"),j=o.ports.filter(M=>M.type==="output"),A=Fe.useMemo(()=>[...N,...j].map(M=>M.id),[N.length,j.length,o.id]),R=Ky(A),z=M=>{M.stopPropagation(),s(o.id)},O=M=>{const B=p.some(k=>k.fromPort===M||k.toPort===M),E=m.has(M)||R[M]||!1;return{hasConnection:B,isActive:E,isHovered:h===M,isSelected:d===M}},U=Object.create(t.prototype);U.blockId=o.id;const D=M=>{o.config={...o.config,...M},g(t.calculateBlockHeight(o.id))};return a.jsxs("div",{ref:b,className:`glass-block rounded-xl p-4 absolute block-hover cursor-move select-none ${y?"block-selected":""}`,style:{left:o.position.x,top:o.position.y,width:t.calculateBlockWidth?t.calculateBlockWidth(o):t.width,height:x},onMouseDown:i,"data-block-id":o.id,children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Wy,{name:t.icon,color:t.iconColor||t.color+"-400",className:"w-4 h-4"}),a.jsx("h3",{className:"text-sm font-medium text-gray-200",children:t.title})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[t.renderHeaderButtons&&t.renderHeaderButtons(o,D),a.jsx("button",{className:"text-gray-400 hover:text-gray-200 text-xs transition-colors p-2 -m-2 touch-manipulation",onClick:z,onTouchStart:M=>M.stopPropagation(),onTouchEnd:M=>M.stopPropagation(),style:{touchAction:"manipulation"},children:a.jsx(bd,{className:"w-3 h-3"})})]})]}),a.jsx("div",{ref:w,className:"space-y-2 mb-4",children:U.renderContent(o)}),a.jsxs("div",{className:"relative",style:{height:`${Math.max(N.length,j.length)*24}px`},children:[a.jsx("div",{className:"absolute left-0 top-0",children:N.map((M,B)=>{const E=O(M.id),k=t.portConfig.inputs[B],I=B*24;return a.jsxs("div",{className:"absolute flex items-center",style:{top:`${I}px`,left:0},children:[a.jsx("div",{className:Ep(M,E),onMouseDown:T=>{T.stopPropagation(),"ontouchstart"in window||navigator.maxTouchPoints>0||l(M.id,T)},onMouseUp:T=>{T.stopPropagation(),"ontouchstart"in window||navigator.maxTouchPoints>0||c(M.id,T)},onClick:T=>{console.log("Input port clicked:",M.id),T.preventDefault(),T.stopPropagation(),u&&u(M.id,T)},onMouseEnter:()=>C(M.id),onMouseLeave:()=>C(null),onTouchStart:T=>{T.stopPropagation(),l(M.id,T)},onTouchEnd:T=>{T.stopPropagation(),c(M.id,T)},"data-port-type":"input","data-port-id":M.id,style:{touchAction:"none"}}),a.jsx("span",{className:"ml-2 text-xs text-gray-400 select-none whitespace-nowrap overflow-hidden",style:{maxWidth:`${t.width/2-40}px`},children:(k==null?void 0:k.label)||M.id.split("-").pop()})]},M.id)})}),a.jsx("div",{className:"absolute right-0 top-0",children:j.map((M,B)=>{const E=O(M.id),k=t.portConfig.outputs[B],I=B*24;return a.jsxs("div",{className:"absolute flex items-center justify-end",style:{top:`${I}px`,right:0},children:[a.jsx("span",{className:"mr-2 text-xs text-gray-400 select-none text-right whitespace-nowrap overflow-hidden",style:{maxWidth:`${t.width/2-40}px`},children:(k==null?void 0:k.label)||M.id.split("-").pop()}),a.jsx("div",{className:Ep(M,E),onMouseDown:T=>{T.stopPropagation(),"ontouchstart"in window||navigator.maxTouchPoints>0||l(M.id,T)},onMouseUp:T=>{T.stopPropagation(),"ontouchstart"in window||navigator.maxTouchPoints>0||c(M.id,T)},onClick:T=>{console.log("Output port clicked:",M.id),T.preventDefault(),T.stopPropagation(),u&&u(M.id,T)},onMouseEnter:()=>C(M.id),onMouseLeave:()=>C(null),onTouchStart:T=>{T.stopPropagation(),l(M.id,T)},onTouchEnd:T=>{T.stopPropagation(),c(M.id,T)},"data-port-type":"output","data-port-id":M.id,style:{touchAction:"none"}})]},M.id)})})]})]})}}triggerUpdate(){var n;const t=this.constructor.getType();(n=Ee.observers.get(t))==null||n.forEach(r=>r({}))}useAutoUpdate(){const[,t]=Fe.useState({}),n=this.constructor.getType();Fe.useEffect(()=>(Ee.observers.has(n)||Ee.observers.set(n,new Set),Ee.observers.get(n).add(t),()=>{var r;(r=Ee.observers.get(n))==null||r.delete(t)}),[n,t])}};Ee.width=190,Ee.height=120,Ee.color="orange",Ee.isConfigModalOpen=!1,Ee.instanceRegistries=new Map,Ee.portActivityTimers=new Map,Ee.activePortUpdateHandlers=new Map,Ee.observers=new Map;let ge=Ee;const Yy=Object.freeze(Object.defineProperty({__proto__:null,BaseBlockClass:ge},Symbol.toStringTag,{value:"Module"})),Ll={BANK_SELECT:0,MODULATION_WHEEL:1,BREATH_CONTROLLER:2,FOOT_CONTROLLER:4,PORTAMENTO_TIME:5,DATA_ENTRY:6,VOLUME:7,BALANCE:8,PAN:10,EXPRESSION:11,EFFECT_CONTROL_1:12,EFFECT_CONTROL_2:13,SUSTAIN_PEDAL:64,PORTAMENTO:65,SOSTENUTO_PEDAL:66,SOFT_PEDAL:67,LEGATO_PEDAL:68,HOLD_2_PEDAL:69,NRPN_LSB:98,NRPN_MSB:99,RPN_LSB:100,RPN_MSB:101,ALL_SOUND_OFF:120,RESET_ALL_CONTROLLERS:121,LOCAL_CONTROL:122,ALL_NOTES_OFF:123,OMNI_MODE_OFF:124,OMNI_MODE_ON:125,MONO_MODE_ON:126,POLY_MODE_ON:127};class Le{static parseMidiMessage(t){if(t.length===0)throw new Error("Empty MIDI data");const n=t[0],r=n&15,o=n&240,s=Array.from(t.slice(1));let i="unknown";if(o>=128&&o<=239)switch(o){case 128:i="noteOff";break;case 144:i=s[1]===0?"noteOff":"noteOn";break;case 160:i="polyphonicKeyPressure";break;case 176:i="controlChange";break;case 192:i="programChange";break;case 208:i="channelPressure";break;case 224:i="pitchBend";break}else if(n>=240)switch(n){case 240:i="systemExclusive";break;case 241:i="midiTimeCodeQuarterFrame";break;case 242:i="songPositionPointer";break;case 243:i="songSelect";break;case 246:i="tuneRequest";break;case 247:i="endOfExclusive";break;case 248:i="timingClock";break;case 250:i="start";break;case 251:i="continue";break;case 252:i="stop";break;case 254:i="activeSensing";break;case 255:i="reset";break}return{type:i,channel:r,status:n,dataBytes:s}}static createMidiMessage(t,n,...r){let o;switch(t){case"noteOff":o=128;break;case"noteOn":o=144;break;case"polyphonicKeyPressure":o=160;break;case"controlChange":o=176;break;case"programChange":o=192;break;case"channelPressure":o=208;break;case"pitchBend":o=224;break;case"systemExclusive":o=240;break;case"midiTimeCodeQuarterFrame":o=241;break;case"songPositionPointer":o=242;break;case"songSelect":o=243;break;case"tuneRequest":o=246;break;case"endOfExclusive":o=247;break;case"timingClock":o=248;break;case"start":o=250;break;case"continue":o=251;break;case"stop":o=252;break;case"activeSensing":o=254;break;case"reset":o=255;break;default:throw new Error(`Unknown MIDI message type: ${t}`)}return o>=128&&o<=239&&(o|=n&15),new Uint8Array([o,...r])}static getNoteFromNumber(t){const n=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],r=Math.floor(t/12)-1;return`${n[t%12]}${r}`}static getNumberFromNote(t){const n={C:0,"C#":1,DB:1,D:2,"D#":3,EB:3,E:4,F:5,"F#":6,GB:6,G:7,"G#":8,AB:8,A:9,"A#":10,BB:10,B:11},r=t.match(/^([A-G][#B]?)(-?\d+)$/i);if(!r)throw new Error(`Invalid note name: ${t}`);const[,o,s]=r,i=parseInt(s),l=n[o.toUpperCase()];if(l===void 0)throw new Error(`Invalid note: ${o}`);return(i+1)*12+l}static pitchBendToSemitones(t,n,r=2){return((n<<7|t)-8192)/8192*r}static semitonesToPitchBend(t,n=2){const r=t/n*8192,o=Math.max(0,Math.min(16383,Math.round(r+8192)));return{lsb:o&127,msb:o>>7&127}}static isMessageType(t,n){try{return this.parseMidiMessage(t).type===n}catch{return!1}}static filterMessagesByType(t,n){return t.filter(r=>this.isMessageType(r.data,n))}}class Gy{static format(t,n={}){const r=t.data[0],o=(r&15)+1,s=r&240;let i="Unknown",l="";if(r>=240){switch(r){case 248:i="Clock",l="";break;case 250:i="Start",l="";break;case 251:i="Continue",l="";break;case 252:i="Stop",l="";break;case 254:i="Active",l="";break;case 255:i="Reset",l="";break;default:i="System",l=`0x${r.toString(16).toUpperCase()}`}return n.format==="compact"?i:`${i}${l?` ${l}`:""}`}else{switch(s){case 144:if(t.data.length>=3){const u=t.data[1],p=t.data[2];p===0?(i="Note Off",l=`Note:${u} Vel:${p}`):(i="Note On",l=`Note:${u} Vel:${p}`)}break;case 128:t.data.length>=3&&(i="Note Off",l=`Note:${t.data[1]} Vel:${t.data[2]}`);break;case 176:t.data.length>=3&&(i="Control Change",l=`CC:${t.data[1]} Val:${t.data[2]}`);break;case 192:t.data.length>=2&&(i="Program Change",l=`Program:${t.data[1]}`);break;case 224:if(t.data.length>=3){const u=t.data[2]<<7|t.data[1];i="Pitch Bend",l=`Value:${u}`}break;case 160:t.data.length>=3&&(i="Aftertouch",l=`Note:${t.data[1]} Press:${t.data[2]}`);break;case 208:t.data.length>=2&&(i="Channel Pressure",l=`Val:${t.data[1]}`);break;default:i="Other",l=`Cmd:0x${s.toString(16).toUpperCase()}`}let c="";if(n.includeChannel!==!1&&(c+=`Ch${o}: `),c+=i,l&&(c+=` ${l}`),n.includeHex){const u=this.toHex(t);c+=` [${u}]`}return c}}static formatDetailed(t){const n=new Date().toLocaleTimeString(),r=t.data[0],o=(r&15)+1,s=r&240,i=this.toHex(t);let l="",c="",u="";if(r>=240)switch(u="--",r){case 248:l="Clock",c="";break;case 250:l="Start",c="";break;case 251:l="Continue",c="";break;case 252:l="Stop",c="";break;case 254:l="Active",c="";break;case 255:l="Reset",c="";break;default:l="System",c=`0x${r.toString(16).toUpperCase()}`}else switch(u=o.toString().padStart(2," "),s){case 144:if(t.data.length>=3){const h=t.data[1],C=t.data[2];C===0?(l="Note Off",c=`Note:${h} Vel:${C}`):(l="Note On",c=`Note:${h} Vel:${C}`)}break;case 128:t.data.length>=3&&(l="Note Off",c=`Note:${t.data[1]} Vel:${t.data[2]}`);break;case 176:t.data.length>=3&&(l="CC",c=`CC:${t.data[1]} Val:${t.data[2]}`);break;case 192:t.data.length>=2&&(l="Program",c=`Prog:${t.data[1]}`);break;case 224:if(t.data.length>=3){const h=t.data[2]<<7|t.data[1];l="Pitch",c=`Val:${h}`}break;case 160:t.data.length>=3&&(l="Aftertouch",c=`Note:${t.data[1]} Press:${t.data[2]}`);break;case 208:t.data.length>=2&&(l="Pressure",c=`Val:${t.data[1]}`);break;default:l="Unknown",c=`Cmd:0x${s.toString(16).toUpperCase()}`}const p=n.padEnd(12," "),m=u.padEnd(3," "),d=l.padEnd(12," "),y=c.padEnd(25," ");return{formatted:`${p} ${m} ${d} ${y} ${i}`,columns:{time:n,channel:u,type:l,data:c,raw:i}}}static toHex(t){return Array.from(t.data).map(n=>n.toString(16).toUpperCase().padStart(2,"0")).join(" ")}static getChannel(t){const n=t.data[0];return n>=240?0:(n&15)+1}static getMessageType(t){const n=t.data[0],r=n&240;if(n>=240)switch(n){case 248:return"Clock";case 250:return"Start";case 251:return"Continue";case 252:return"Stop";case 254:return"Active Sensing";case 255:return"Reset";default:return"System"}else switch(r){case 128:return"Note Off";case 144:return t.data[2]===0?"Note Off":"Note On";case 160:return"Aftertouch";case 176:return"Control Change";case 192:return"Program Change";case 208:return"Channel Pressure";case 224:return"Pitch Bend";default:return"Unknown"}}}function fa(e,[t,n]){return Math.min(n,Math.max(t,e))}var $N=f.createContext(void 0);function Xy(e){const t=f.useContext($N);return e||t||"ltr"}function Ka(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Qy=["PageUp","PageDown"],qy=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Zy={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Fo="Slider",[qc,BN,FN]=yd(Fo),[Jy,Rk]=Yn(Fo,[FN]),[zN,Ya]=Jy(Fo),ex=f.forwardRef((e,t)=>{const{name:n,min:r=0,max:o=100,step:s=1,orientation:i="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:p,onValueChange:m=()=>{},onValueCommit:d=()=>{},inverted:y=!1,form:v,...h}=e,C=f.useRef(new Set),x=f.useRef(0),w=i==="horizontal"?UN:VN,[b=[],P]=zr({prop:p,defaultProp:u,onChange:z=>{var U;(U=[...C.current][x.current])==null||U.focus(),m(z)}}),S=f.useRef(b);function N(z){const O=GN(b,z);R(z,O)}function j(z){R(z,x.current)}function A(){const z=S.current[x.current];b[x.current]!==z&&d(b)}function R(z,O,{commit:U}={commit:!1}){const D=ZN(s),M=JN(Math.round((z-r)/s)*s+r,D),B=fa(M,[r,o]);P((E=[])=>{const k=KN(E,B,O);if(qN(k,c*s)){x.current=k.indexOf(B);const I=String(k)!==String(E);return I&&U&&d(k),I?k:E}else return E})}return a.jsx(zN,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:o,valueIndexToChangeRef:x,thumbs:C.current,values:b,orientation:i,form:v,children:a.jsx(qc.Provider,{scope:e.__scopeSlider,children:a.jsx(qc.Slot,{scope:e.__scopeSlider,children:a.jsx(w,{"aria-disabled":l,"data-disabled":l?"":void 0,...h,ref:t,onPointerDown:te(h.onPointerDown,()=>{l||(S.current=b)}),min:r,max:o,inverted:y,onSlideStart:l?void 0:N,onSlideMove:l?void 0:j,onSlideEnd:l?void 0:A,onHomeKeyDown:()=>!l&&R(r,0,{commit:!0}),onEndKeyDown:()=>!l&&R(o,b.length-1,{commit:!0}),onStepKeyDown:({event:z,direction:O})=>{if(!l){const M=Qy.includes(z.key)||z.shiftKey&&qy.includes(z.key)?10:1,B=x.current,E=b[B],k=s*M*O;R(E+k,B,{commit:!0})}}})})})})});ex.displayName=Fo;var[tx,nx]=Jy(Fo,{startEdge:"left",endEdge:"right",size:"width",direction:1}),UN=f.forwardRef((e,t)=>{const{min:n,max:r,dir:o,inverted:s,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...p}=e,[m,d]=f.useState(null),y=ve(t,w=>d(w)),v=f.useRef(void 0),h=Xy(o),C=h==="ltr",x=C&&!s||!C&&s;function g(w){const b=v.current||m.getBoundingClientRect(),P=[0,b.width],N=Od(P,x?[n,r]:[r,n]);return v.current=b,N(w-b.left)}return a.jsx(tx,{scope:e.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:a.jsx(rx,{dir:h,"data-orientation":"horizontal",...p,ref:y,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const b=g(w.clientX);i==null||i(b)},onSlideMove:w=>{const b=g(w.clientX);l==null||l(b)},onSlideEnd:()=>{v.current=void 0,c==null||c()},onStepKeyDown:w=>{const P=Zy[x?"from-left":"from-right"].includes(w.key);u==null||u({event:w,direction:P?-1:1})}})})}),VN=f.forwardRef((e,t)=>{const{min:n,max:r,inverted:o,onSlideStart:s,onSlideMove:i,onSlideEnd:l,onStepKeyDown:c,...u}=e,p=f.useRef(null),m=ve(t,p),d=f.useRef(void 0),y=!o;function v(h){const C=d.current||p.current.getBoundingClientRect(),x=[0,C.height],w=Od(x,y?[r,n]:[n,r]);return d.current=C,w(h-C.top)}return a.jsx(tx,{scope:e.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:a.jsx(rx,{"data-orientation":"vertical",...u,ref:m,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:h=>{const C=v(h.clientY);s==null||s(C)},onSlideMove:h=>{const C=v(h.clientY);i==null||i(C)},onSlideEnd:()=>{d.current=void 0,l==null||l()},onStepKeyDown:h=>{const x=Zy[y?"from-bottom":"from-top"].includes(h.key);c==null||c({event:h,direction:x?-1:1})}})})}),rx=f.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:o,onSlideEnd:s,onHomeKeyDown:i,onEndKeyDown:l,onStepKeyDown:c,...u}=e,p=Ya(Fo,n);return a.jsx(ue.span,{...u,ref:t,onKeyDown:te(e.onKeyDown,m=>{m.key==="Home"?(i(m),m.preventDefault()):m.key==="End"?(l(m),m.preventDefault()):Qy.concat(qy).includes(m.key)&&(c(m),m.preventDefault())}),onPointerDown:te(e.onPointerDown,m=>{const d=m.target;d.setPointerCapture(m.pointerId),m.preventDefault(),p.thumbs.has(d)?d.focus():r(m)}),onPointerMove:te(e.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&o(m)}),onPointerUp:te(e.onPointerUp,m=>{const d=m.target;d.hasPointerCapture(m.pointerId)&&(d.releasePointerCapture(m.pointerId),s(m))})})}),ox="SliderTrack",sx=f.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=Ya(ox,n);return a.jsx(ue.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...r,ref:t})});sx.displayName=ox;var Zc="SliderRange",ix=f.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=Ya(Zc,n),s=nx(Zc,n),i=f.useRef(null),l=ve(t,i),c=o.values.length,u=o.values.map(d=>lx(d,o.min,o.max)),p=c>1?Math.min(...u):0,m=100-Math.max(...u);return a.jsx(ue.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...r,ref:l,style:{...e.style,[s.startEdge]:p+"%",[s.endEdge]:m+"%"}})});ix.displayName=Zc;var Jc="SliderThumb",ax=f.forwardRef((e,t)=>{const n=BN(e.__scopeSlider),[r,o]=f.useState(null),s=ve(t,l=>o(l)),i=f.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return a.jsx(HN,{...e,ref:s,index:i})}),HN=f.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:o,...s}=e,i=Ya(Jc,n),l=nx(Jc,n),[c,u]=f.useState(null),p=ve(t,g=>u(g)),m=c?i.form||!!c.closest("form"):!0,d=Ua(c),y=i.values[r],v=y===void 0?0:lx(y,i.min,i.max),h=YN(r,i.values.length),C=d==null?void 0:d[l.size],x=C?XN(C,v,l.direction):0;return f.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${v}% + ${x}px)`},children:[a.jsx(qc.ItemSlot,{scope:e.__scopeSlider,children:a.jsx(ue.span,{role:"slider","aria-label":e["aria-label"]||h,"aria-valuemin":i.min,"aria-valuenow":y,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...s,ref:p,style:y===void 0?{display:"none"}:e.style,onFocus:te(e.onFocus,()=>{i.valueIndexToChangeRef.current=r})})}),m&&a.jsx(WN,{name:o??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:y},r)]})});ax.displayName=Jc;var WN=e=>{const{value:t,...n}=e,r=f.useRef(null),o=Ka(t);return f.useEffect(()=>{const s=r.current,i=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(i,"value").set;if(o!==t&&c){const u=new Event("input",{bubbles:!0});c.call(s,t),s.dispatchEvent(u)}},[o,t]),a.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:t})};function KN(e=[],t,n){const r=[...e];return r[n]=t,r.sort((o,s)=>o-s)}function lx(e,t,n){const s=100/(n-t)*(e-t);return fa(s,[0,100])}function YN(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function GN(e,t){if(e.length===1)return 0;const n=e.map(o=>Math.abs(o-t)),r=Math.min(...n);return n.indexOf(r)}function XN(e,t,n){const r=e/2,s=Od([0,50],[0,r]);return(r-s(t)*n)*n}function QN(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function qN(e,t){if(t>0){const n=QN(e);return Math.min(...n)>=t}return!0}function Od(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function ZN(e){return(String(e).split(".")[1]||"").length}function JN(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var cx=ex,e2=sx,t2=ix,n2=ax;const gs=f.forwardRef(({className:e,onValueChange:t,value:n,...r},o)=>{const s=f.useMemo(()=>{if(Array.isArray(n))return n;if(typeof n=="number")return[n];const l=r.defaultValue;return Array.isArray(l)?l:typeof l=="number"?[l]:[0]},[n,r.defaultValue]),i=f.useCallback(l=>{t&&t(l)},[t]);return a.jsxs(cx,{ref:o,className:me("relative flex w-full touch-none select-none items-center",e),value:s,onValueChange:i,...r,children:[a.jsx(e2,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:a.jsx(t2,{className:"absolute h-full bg-primary"})}),s.map((l,c)=>a.jsx(n2,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"},c))]})});gs.displayName=cx.displayName;var $l=0;function ux(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Rp()),document.body.insertAdjacentElement("beforeend",e[1]??Rp()),$l++,()=>{$l===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),$l--}},[])}function Rp(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Bl="focusScope.autoFocusOnMount",Fl="focusScope.autoFocusOnUnmount",Op={bubbles:!1,cancelable:!0},r2="FocusScope",_d=f.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...i}=e,[l,c]=f.useState(null),u=It(o),p=It(s),m=f.useRef(null),d=ve(t,h=>c(h)),y=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let h=function(w){if(y.paused||!l)return;const b=w.target;l.contains(b)?m.current=b:Jn(m.current,{select:!0})},C=function(w){if(y.paused||!l)return;const b=w.relatedTarget;b!==null&&(l.contains(b)||Jn(m.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const P of w)P.removedNodes.length>0&&Jn(l)};document.addEventListener("focusin",h),document.addEventListener("focusout",C);const g=new MutationObserver(x);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",C),g.disconnect()}}},[r,l,y.paused]),f.useEffect(()=>{if(l){Ap.add(y);const h=document.activeElement;if(!l.contains(h)){const x=new CustomEvent(Bl,Op);l.addEventListener(Bl,u),l.dispatchEvent(x),x.defaultPrevented||(o2(c2(dx(l)),{select:!0}),document.activeElement===h&&Jn(l))}return()=>{l.removeEventListener(Bl,u),setTimeout(()=>{const x=new CustomEvent(Fl,Op);l.addEventListener(Fl,p),l.dispatchEvent(x),x.defaultPrevented||Jn(h??document.body,{select:!0}),l.removeEventListener(Fl,p),Ap.remove(y)},0)}}},[l,u,p,y]);const v=f.useCallback(h=>{if(!n&&!r||y.paused)return;const C=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,x=document.activeElement;if(C&&x){const g=h.currentTarget,[w,b]=s2(g);w&&b?!h.shiftKey&&x===b?(h.preventDefault(),n&&Jn(w,{select:!0})):h.shiftKey&&x===w&&(h.preventDefault(),n&&Jn(b,{select:!0})):x===g&&h.preventDefault()}},[n,r,y.paused]);return a.jsx(ue.div,{tabIndex:-1,...i,ref:d,onKeyDown:v})});_d.displayName=r2;function o2(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Jn(r,{select:t}),document.activeElement!==n)return}function s2(e){const t=dx(e),n=_p(t,e),r=_p(t.reverse(),e);return[n,r]}function dx(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function _p(e,t){for(const n of e)if(!i2(n,{upTo:t}))return n}function i2(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function a2(e){return e instanceof HTMLInputElement&&"select"in e}function Jn(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&a2(e)&&t&&e.select()}}var Ap=l2();function l2(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Lp(e,t),e.unshift(t)},remove(t){var n;e=Lp(e,t),(n=e[0])==null||n.resume()}}}function Lp(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function c2(e){return e.filter(t=>t.tagName!=="A")}var u2=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Xr=new WeakMap,mi=new WeakMap,hi={},zl=0,fx=function(e){return e&&(e.host||fx(e.parentNode))},d2=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=fx(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},f2=function(e,t,n,r){var o=d2(t,Array.isArray(e)?e:[e]);hi[n]||(hi[n]=new WeakMap);var s=hi[n],i=[],l=new Set,c=new Set(o),u=function(m){!m||l.has(m)||(l.add(m),u(m.parentNode))};o.forEach(u);var p=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(d){if(l.has(d))p(d);else try{var y=d.getAttribute(r),v=y!==null&&y!=="false",h=(Xr.get(d)||0)+1,C=(s.get(d)||0)+1;Xr.set(d,h),s.set(d,C),i.push(d),h===1&&v&&mi.set(d,!0),C===1&&d.setAttribute(n,"true"),v||d.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",d,x)}})};return p(t),l.clear(),zl++,function(){i.forEach(function(m){var d=Xr.get(m)-1,y=s.get(m)-1;Xr.set(m,d),s.set(m,y),d||(mi.has(m)||m.removeAttribute(r),mi.delete(m)),y||m.removeAttribute(n)}),zl--,zl||(Xr=new WeakMap,Xr=new WeakMap,mi=new WeakMap,hi={})}},px=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=u2(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),f2(r,o,n,"aria-hidden")):function(){return null}},vn=function(){return vn=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},vn.apply(this,arguments)};function mx(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function p2(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var Ai="right-scroll-bar-position",Li="width-before-scroll-bar",m2="with-scroll-bars-hidden",h2="--removed-body-scroll-bar-size";function Ul(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function g2(e,t){var n=f.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var y2=typeof window<"u"?f.useLayoutEffect:f.useEffect,$p=new WeakMap;function x2(e,t){var n=g2(null,function(r){return e.forEach(function(o){return Ul(o,r)})});return y2(function(){var r=$p.get(n);if(r){var o=new Set(r),s=new Set(e),i=n.current;o.forEach(function(l){s.has(l)||Ul(l,null)}),s.forEach(function(l){o.has(l)||Ul(l,i)})}$p.set(n,e)},[e]),n}function v2(e){return e}function w2(e,t){t===void 0&&(t=v2);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var i=t(s,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(s){for(r=!0;n.length;){var i=n;n=[],i.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(s),i=n}var c=function(){var p=i;i=[],p.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(p){i.push(p),u()},filter:function(p){return i=i.filter(p),n}}}};return o}function C2(e){e===void 0&&(e={});var t=w2(null);return t.options=vn({async:!0,ssr:!1},e),t}var hx=function(e){var t=e.sideCar,n=mx(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,vn({},n))};hx.isSideCarExport=!0;function b2(e,t){return e.useMedium(t),hx}var gx=C2(),Vl=function(){},Ga=f.forwardRef(function(e,t){var n=f.useRef(null),r=f.useState({onScrollCapture:Vl,onWheelCapture:Vl,onTouchMoveCapture:Vl}),o=r[0],s=r[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,p=e.enabled,m=e.shards,d=e.sideCar,y=e.noIsolation,v=e.inert,h=e.allowPinchZoom,C=e.as,x=C===void 0?"div":C,g=e.gapMode,w=mx(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=d,P=x2([n,t]),S=vn(vn({},w),o);return f.createElement(f.Fragment,null,p&&f.createElement(b,{sideCar:gx,removeScrollBar:u,shards:m,noIsolation:y,inert:v,setCallbacks:s,allowPinchZoom:!!h,lockRef:n,gapMode:g}),i?f.cloneElement(f.Children.only(l),vn(vn({},S),{ref:P})):f.createElement(x,vn({},S,{className:c,ref:P}),l))});Ga.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ga.classNames={fullWidth:Li,zeroRight:Ai};var S2=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function N2(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=S2();return t&&e.setAttribute("nonce",t),e}function P2(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function k2(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var j2=function(){var e=0,t=null;return{add:function(n){e==0&&(t=N2())&&(P2(t,n),k2(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},M2=function(){var e=j2();return function(t,n){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},yx=function(){var e=M2(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},E2={left:0,top:0,right:0,gap:0},Hl=function(e){return parseInt(e||"",10)||0},T2=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Hl(n),Hl(r),Hl(o)]},D2=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return E2;var t=T2(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},I2=yx(),Co="data-scroll-locked",R2=function(e,t,n,r){var o=e.left,s=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(m2,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Co,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ai,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Li,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Ai," .").concat(Ai,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Li," .").concat(Li,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Co,`] {
    `).concat(h2,": ").concat(l,`px;
  }
`)},Bp=function(){var e=parseInt(document.body.getAttribute(Co)||"0",10);return isFinite(e)?e:0},O2=function(){f.useEffect(function(){return document.body.setAttribute(Co,(Bp()+1).toString()),function(){var e=Bp()-1;e<=0?document.body.removeAttribute(Co):document.body.setAttribute(Co,e.toString())}},[])},_2=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;O2();var s=f.useMemo(function(){return D2(o)},[o]);return f.createElement(I2,{styles:R2(s,!t,o,n?"":"!important")})},eu=!1;if(typeof window<"u")try{var gi=Object.defineProperty({},"passive",{get:function(){return eu=!0,!0}});window.addEventListener("test",gi,gi),window.removeEventListener("test",gi,gi)}catch{eu=!1}var Qr=eu?{passive:!1}:!1,A2=function(e){return e.tagName==="TEXTAREA"},xx=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!A2(e)&&n[t]==="visible")},L2=function(e){return xx(e,"overflowY")},$2=function(e){return xx(e,"overflowX")},Fp=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=vx(e,r);if(o){var s=wx(e,r),i=s[1],l=s[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},B2=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},F2=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},vx=function(e,t){return e==="v"?L2(t):$2(t)},wx=function(e,t){return e==="v"?B2(t):F2(t)},z2=function(e,t){return e==="h"&&t==="rtl"?-1:1},U2=function(e,t,n,r,o){var s=z2(e,window.getComputedStyle(t).direction),i=s*r,l=n.target,c=t.contains(l),u=!1,p=i>0,m=0,d=0;do{var y=wx(e,l),v=y[0],h=y[1],C=y[2],x=h-C-s*v;(v||x)&&vx(e,l)&&(m+=x,d+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(p&&(Math.abs(m)<1||!o)||!p&&(Math.abs(d)<1||!o))&&(u=!0),u},yi=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},zp=function(e){return[e.deltaX,e.deltaY]},Up=function(e){return e&&"current"in e?e.current:e},V2=function(e,t){return e[0]===t[0]&&e[1]===t[1]},H2=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},W2=0,qr=[];function K2(e){var t=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),o=f.useState(W2++)[0],s=f.useState(yx)[0],i=f.useRef(e);f.useEffect(function(){i.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var h=p2([e.lockRef.current],(e.shards||[]).map(Up),!0).filter(Boolean);return h.forEach(function(C){return C.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),h.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var l=f.useCallback(function(h,C){if("touches"in h&&h.touches.length===2||h.type==="wheel"&&h.ctrlKey)return!i.current.allowPinchZoom;var x=yi(h),g=n.current,w="deltaX"in h?h.deltaX:g[0]-x[0],b="deltaY"in h?h.deltaY:g[1]-x[1],P,S=h.target,N=Math.abs(w)>Math.abs(b)?"h":"v";if("touches"in h&&N==="h"&&S.type==="range")return!1;var j=Fp(N,S);if(!j)return!0;if(j?P=N:(P=N==="v"?"h":"v",j=Fp(N,S)),!j)return!1;if(!r.current&&"changedTouches"in h&&(w||b)&&(r.current=P),!P)return!0;var A=r.current||P;return U2(A,C,h,A==="h"?w:b,!0)},[]),c=f.useCallback(function(h){var C=h;if(!(!qr.length||qr[qr.length-1]!==s)){var x="deltaY"in C?zp(C):yi(C),g=t.current.filter(function(P){return P.name===C.type&&(P.target===C.target||C.target===P.shadowParent)&&V2(P.delta,x)})[0];if(g&&g.should){C.cancelable&&C.preventDefault();return}if(!g){var w=(i.current.shards||[]).map(Up).filter(Boolean).filter(function(P){return P.contains(C.target)}),b=w.length>0?l(C,w[0]):!i.current.noIsolation;b&&C.cancelable&&C.preventDefault()}}},[]),u=f.useCallback(function(h,C,x,g){var w={name:h,delta:C,target:x,should:g,shadowParent:Y2(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(b){return b!==w})},1)},[]),p=f.useCallback(function(h){n.current=yi(h),r.current=void 0},[]),m=f.useCallback(function(h){u(h.type,zp(h),h.target,l(h,e.lockRef.current))},[]),d=f.useCallback(function(h){u(h.type,yi(h),h.target,l(h,e.lockRef.current))},[]);f.useEffect(function(){return qr.push(s),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:d}),document.addEventListener("wheel",c,Qr),document.addEventListener("touchmove",c,Qr),document.addEventListener("touchstart",p,Qr),function(){qr=qr.filter(function(h){return h!==s}),document.removeEventListener("wheel",c,Qr),document.removeEventListener("touchmove",c,Qr),document.removeEventListener("touchstart",p,Qr)}},[]);var y=e.removeScrollBar,v=e.inert;return f.createElement(f.Fragment,null,v?f.createElement(s,{styles:H2(o)}):null,y?f.createElement(_2,{gapMode:e.gapMode}):null)}function Y2(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const G2=b2(gx,K2);var Ad=f.forwardRef(function(e,t){return f.createElement(Ga,vn({},e,{ref:t,sideCar:G2}))});Ad.classNames=Ga.classNames;var X2=[" ","Enter","ArrowUp","ArrowDown"],Q2=[" ","Enter"],Ks="Select",[Xa,Qa,q2]=yd(Ks),[zo,Ok]=Yn(Ks,[q2,Va]),qa=Va(),[Z2,Pr]=zo(Ks),[J2,eP]=zo(Ks),Cx=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:s,value:i,defaultValue:l,onValueChange:c,dir:u,name:p,autoComplete:m,disabled:d,required:y,form:v}=e,h=qa(t),[C,x]=f.useState(null),[g,w]=f.useState(null),[b,P]=f.useState(!1),S=Xy(u),[N=!1,j]=zr({prop:r,defaultProp:o,onChange:s}),[A,R]=zr({prop:i,defaultProp:l,onChange:c}),z=f.useRef(null),O=C?v||!!C.closest("form"):!0,[U,D]=f.useState(new Set),M=Array.from(U).map(B=>B.props.value).join(";");return a.jsx(oN,{...h,children:a.jsxs(Z2,{required:y,scope:t,trigger:C,onTriggerChange:x,valueNode:g,onValueNodeChange:w,valueNodeHasChildren:b,onValueNodeHasChildrenChange:P,contentId:vo(),value:A,onValueChange:R,open:N,onOpenChange:j,dir:S,triggerPointerDownPosRef:z,disabled:d,children:[a.jsx(Xa.Provider,{scope:t,children:a.jsx(J2,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(B=>{D(E=>new Set(E).add(B))},[]),onNativeOptionRemove:f.useCallback(B=>{D(E=>{const k=new Set(E);return k.delete(B),k})},[]),children:n})}),O?a.jsxs(Kx,{"aria-hidden":!0,required:y,tabIndex:-1,name:p,autoComplete:m,value:A,onChange:B=>R(B.target.value),disabled:d,form:v,children:[A===void 0?a.jsx("option",{value:""}):null,Array.from(U)]},M):null]})})};Cx.displayName=Ks;var bx="SelectTrigger",Sx=f.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,s=qa(n),i=Pr(bx,n),l=i.disabled||r,c=ve(t,i.onTriggerChange),u=Qa(n),p=f.useRef("touch"),[m,d,y]=Yx(h=>{const C=u().filter(w=>!w.disabled),x=C.find(w=>w.value===i.value),g=Gx(C,h,x);g!==void 0&&i.onValueChange(g.value)}),v=h=>{l||(i.onOpenChange(!0),y()),h&&(i.triggerPointerDownPosRef.current={x:Math.round(h.pageX),y:Math.round(h.pageY)})};return a.jsx(Ty,{asChild:!0,...s,children:a.jsx(ue.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Wx(i.value)?"":void 0,...o,ref:c,onClick:te(o.onClick,h=>{h.currentTarget.focus(),p.current!=="mouse"&&v(h)}),onPointerDown:te(o.onPointerDown,h=>{p.current=h.pointerType;const C=h.target;C.hasPointerCapture(h.pointerId)&&C.releasePointerCapture(h.pointerId),h.button===0&&h.ctrlKey===!1&&h.pointerType==="mouse"&&(v(h),h.preventDefault())}),onKeyDown:te(o.onKeyDown,h=>{const C=m.current!=="";!(h.ctrlKey||h.altKey||h.metaKey)&&h.key.length===1&&d(h.key),!(C&&h.key===" ")&&X2.includes(h.key)&&(v(),h.preventDefault())})})})});Sx.displayName=bx;var Nx="SelectValue",Px=f.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:s,placeholder:i="",...l}=e,c=Pr(Nx,n),{onValueNodeHasChildrenChange:u}=c,p=s!==void 0,m=ve(t,c.onValueNodeChange);return dt(()=>{u(p)},[u,p]),a.jsx(ue.span,{...l,ref:m,style:{pointerEvents:"none"},children:Wx(c.value)?a.jsx(a.Fragment,{children:i}):s})});Px.displayName=Nx;var tP="SelectIcon",kx=f.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return a.jsx(ue.span,{"aria-hidden":!0,...o,ref:t,children:r||""})});kx.displayName=tP;var nP="SelectPortal",jx=e=>a.jsx(Aa,{asChild:!0,...e});jx.displayName=nP;var Vr="SelectContent",Mx=f.forwardRef((e,t)=>{const n=Pr(Vr,e.__scopeSelect),[r,o]=f.useState();if(dt(()=>{o(new DocumentFragment)},[]),!n.open){const s=r;return s?ln.createPortal(a.jsx(Ex,{scope:e.__scopeSelect,children:a.jsx(Xa.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),s):null}return a.jsx(Tx,{...e,ref:t})});Mx.displayName=Vr;var Zt=10,[Ex,kr]=zo(Vr),rP="SelectContentImpl",oP=To("SelectContent.RemoveScroll"),Tx=f.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:s,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:p,arrowPadding:m,collisionBoundary:d,collisionPadding:y,sticky:v,hideWhenDetached:h,avoidCollisions:C,...x}=e,g=Pr(Vr,n),[w,b]=f.useState(null),[P,S]=f.useState(null),N=ve(t,G=>b(G)),[j,A]=f.useState(null),[R,z]=f.useState(null),O=Qa(n),[U,D]=f.useState(!1),M=f.useRef(!1);f.useEffect(()=>{if(w)return px(w)},[w]),ux();const B=f.useCallback(G=>{const[se,...ke]=O().map($=>$.ref.current),[_]=ke.slice(-1),F=document.activeElement;for(const $ of G)if($===F||($==null||$.scrollIntoView({block:"nearest"}),$===se&&P&&(P.scrollTop=0),$===_&&P&&(P.scrollTop=P.scrollHeight),$==null||$.focus(),document.activeElement!==F))return},[O,P]),E=f.useCallback(()=>B([j,w]),[B,j,w]);f.useEffect(()=>{U&&E()},[U,E]);const{onOpenChange:k,triggerPointerDownPosRef:I}=g;f.useEffect(()=>{if(w){let G={x:0,y:0};const se=_=>{var F,$;G={x:Math.abs(Math.round(_.pageX)-(((F=I.current)==null?void 0:F.x)??0)),y:Math.abs(Math.round(_.pageY)-((($=I.current)==null?void 0:$.y)??0))}},ke=_=>{G.x<=10&&G.y<=10?_.preventDefault():w.contains(_.target)||k(!1),document.removeEventListener("pointermove",se),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",se),document.addEventListener("pointerup",ke,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",se),document.removeEventListener("pointerup",ke,{capture:!0})}}},[w,k,I]),f.useEffect(()=>{const G=()=>k(!1);return window.addEventListener("blur",G),window.addEventListener("resize",G),()=>{window.removeEventListener("blur",G),window.removeEventListener("resize",G)}},[k]);const[T,L]=Yx(G=>{const se=O().filter(F=>!F.disabled),ke=se.find(F=>F.ref.current===document.activeElement),_=Gx(se,G,ke);_&&setTimeout(()=>_.ref.current.focus())}),K=f.useCallback((G,se,ke)=>{const _=!M.current&&!ke;(g.value!==void 0&&g.value===se||_)&&(A(G),_&&(M.current=!0))},[g.value]),J=f.useCallback(()=>w==null?void 0:w.focus(),[w]),Z=f.useCallback((G,se,ke)=>{const _=!M.current&&!ke;(g.value!==void 0&&g.value===se||_)&&z(G)},[g.value]),ne=r==="popper"?tu:Dx,ie=ne===tu?{side:l,sideOffset:c,align:u,alignOffset:p,arrowPadding:m,collisionBoundary:d,collisionPadding:y,sticky:v,hideWhenDetached:h,avoidCollisions:C}:{};return a.jsx(Ex,{scope:n,content:w,viewport:P,onViewportChange:S,itemRefCallback:K,selectedItem:j,onItemLeave:J,itemTextRefCallback:Z,focusSelectedItem:E,selectedItemText:R,position:r,isPositioned:U,searchRef:T,children:a.jsx(Ad,{as:oP,allowPinchZoom:!0,children:a.jsx(_d,{asChild:!0,trapped:g.open,onMountAutoFocus:G=>{G.preventDefault()},onUnmountAutoFocus:te(o,G=>{var se;(se=g.trigger)==null||se.focus({preventScroll:!0}),G.preventDefault()}),children:a.jsx(Vs,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:G=>G.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:a.jsx(ne,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:G=>G.preventDefault(),...x,...ie,onPlaced:()=>D(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:te(x.onKeyDown,G=>{const se=G.ctrlKey||G.altKey||G.metaKey;if(G.key==="Tab"&&G.preventDefault(),!se&&G.key.length===1&&L(G.key),["ArrowUp","ArrowDown","Home","End"].includes(G.key)){let _=O().filter(F=>!F.disabled).map(F=>F.ref.current);if(["ArrowUp","End"].includes(G.key)&&(_=_.slice().reverse()),["ArrowUp","ArrowDown"].includes(G.key)){const F=G.target,$=_.indexOf(F);_=_.slice($+1)}setTimeout(()=>B(_)),G.preventDefault()}})})})})})})});Tx.displayName=rP;var sP="SelectItemAlignedPosition",Dx=f.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,s=Pr(Vr,n),i=kr(Vr,n),[l,c]=f.useState(null),[u,p]=f.useState(null),m=ve(t,N=>p(N)),d=Qa(n),y=f.useRef(!1),v=f.useRef(!0),{viewport:h,selectedItem:C,selectedItemText:x,focusSelectedItem:g}=i,w=f.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&h&&C&&x){const N=s.trigger.getBoundingClientRect(),j=u.getBoundingClientRect(),A=s.valueNode.getBoundingClientRect(),R=x.getBoundingClientRect();if(s.dir!=="rtl"){const F=R.left-j.left,$=A.left-F,V=N.left-$,Q=N.width+V,ae=Math.max(Q,j.width),we=window.innerWidth-Zt,ye=fa($,[Zt,Math.max(Zt,we-ae)]);l.style.minWidth=Q+"px",l.style.left=ye+"px"}else{const F=j.right-R.right,$=window.innerWidth-A.right-F,V=window.innerWidth-N.right-$,Q=N.width+V,ae=Math.max(Q,j.width),we=window.innerWidth-Zt,ye=fa($,[Zt,Math.max(Zt,we-ae)]);l.style.minWidth=Q+"px",l.style.right=ye+"px"}const z=d(),O=window.innerHeight-Zt*2,U=h.scrollHeight,D=window.getComputedStyle(u),M=parseInt(D.borderTopWidth,10),B=parseInt(D.paddingTop,10),E=parseInt(D.borderBottomWidth,10),k=parseInt(D.paddingBottom,10),I=M+B+U+k+E,T=Math.min(C.offsetHeight*5,I),L=window.getComputedStyle(h),K=parseInt(L.paddingTop,10),J=parseInt(L.paddingBottom,10),Z=N.top+N.height/2-Zt,ne=O-Z,ie=C.offsetHeight/2,G=C.offsetTop+ie,se=M+B+G,ke=I-se;if(se<=Z){const F=z.length>0&&C===z[z.length-1].ref.current;l.style.bottom="0px";const $=u.clientHeight-h.offsetTop-h.offsetHeight,V=Math.max(ne,ie+(F?J:0)+$+E),Q=se+V;l.style.height=Q+"px"}else{const F=z.length>0&&C===z[0].ref.current;l.style.top="0px";const V=Math.max(Z,M+h.offsetTop+(F?K:0)+ie)+ke;l.style.height=V+"px",h.scrollTop=se-Z+h.offsetTop}l.style.margin=`${Zt}px 0`,l.style.minHeight=T+"px",l.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[d,s.trigger,s.valueNode,l,u,h,C,x,s.dir,r]);dt(()=>w(),[w]);const[b,P]=f.useState();dt(()=>{u&&P(window.getComputedStyle(u).zIndex)},[u]);const S=f.useCallback(N=>{N&&v.current===!0&&(w(),g==null||g(),v.current=!1)},[w,g]);return a.jsx(aP,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:S,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:a.jsx(ue.div,{...o,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});Dx.displayName=sP;var iP="SelectPopperPosition",tu=f.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=Zt,...s}=e,i=qa(n);return a.jsx(Dy,{...i,...s,ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});tu.displayName=iP;var[aP,Ld]=zo(Vr,{}),nu="SelectViewport",Ix=f.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...o}=e,s=kr(nu,n),i=Ld(nu,n),l=ve(t,s.onViewportChange),c=f.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(Xa.Slot,{scope:n,children:a.jsx(ue.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:te(o.onScroll,u=>{const p=u.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:d}=i;if(d!=null&&d.current&&m){const y=Math.abs(c.current-p.scrollTop);if(y>0){const v=window.innerHeight-Zt*2,h=parseFloat(m.style.minHeight),C=parseFloat(m.style.height),x=Math.max(h,C);if(x<v){const g=x+y,w=Math.min(v,g),b=g-w;m.style.height=w+"px",m.style.bottom==="0px"&&(p.scrollTop=b>0?b:0,m.style.justifyContent="flex-end")}}}c.current=p.scrollTop})})})]})});Ix.displayName=nu;var Rx="SelectGroup",[lP,cP]=zo(Rx),uP=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=vo();return a.jsx(lP,{scope:n,id:o,children:a.jsx(ue.div,{role:"group","aria-labelledby":o,...r,ref:t})})});uP.displayName=Rx;var Ox="SelectLabel",_x=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=cP(Ox,n);return a.jsx(ue.div,{id:o.id,...r,ref:t})});_x.displayName=Ox;var pa="SelectItem",[dP,Ax]=zo(pa),Lx=f.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:s,...i}=e,l=Pr(pa,n),c=kr(pa,n),u=l.value===r,[p,m]=f.useState(s??""),[d,y]=f.useState(!1),v=ve(t,g=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,g,r,o)}),h=vo(),C=f.useRef("touch"),x=()=>{o||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(dP,{scope:n,value:r,disabled:o,textId:h,isSelected:u,onItemTextChange:f.useCallback(g=>{m(w=>w||((g==null?void 0:g.textContent)??"").trim())},[]),children:a.jsx(Xa.ItemSlot,{scope:n,value:r,disabled:o,textValue:p,children:a.jsx(ue.div,{role:"option","aria-labelledby":h,"data-highlighted":d?"":void 0,"aria-selected":u&&d,"data-state":u?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...i,ref:v,onFocus:te(i.onFocus,()=>y(!0)),onBlur:te(i.onBlur,()=>y(!1)),onClick:te(i.onClick,()=>{C.current!=="mouse"&&x()}),onPointerUp:te(i.onPointerUp,()=>{C.current==="mouse"&&x()}),onPointerDown:te(i.onPointerDown,g=>{C.current=g.pointerType}),onPointerMove:te(i.onPointerMove,g=>{var w;C.current=g.pointerType,o?(w=c.onItemLeave)==null||w.call(c):C.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:te(i.onPointerLeave,g=>{var w;g.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:te(i.onKeyDown,g=>{var b;((b=c.searchRef)==null?void 0:b.current)!==""&&g.key===" "||(Q2.includes(g.key)&&x(),g.key===" "&&g.preventDefault())})})})})});Lx.displayName=pa;var ss="SelectItemText",$x=f.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...s}=e,i=Pr(ss,n),l=kr(ss,n),c=Ax(ss,n),u=eP(ss,n),[p,m]=f.useState(null),d=ve(t,x=>m(x),c.onItemTextChange,x=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,x,c.value,c.disabled)}),y=p==null?void 0:p.textContent,v=f.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:h,onNativeOptionRemove:C}=u;return dt(()=>(h(v),()=>C(v)),[h,C,v]),a.jsxs(a.Fragment,{children:[a.jsx(ue.span,{id:c.textId,...s,ref:d}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?ln.createPortal(s.children,i.valueNode):null]})});$x.displayName=ss;var Bx="SelectItemIndicator",Fx=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return Ax(Bx,n).isSelected?a.jsx(ue.span,{"aria-hidden":!0,...r,ref:t}):null});Fx.displayName=Bx;var ru="SelectScrollUpButton",zx=f.forwardRef((e,t)=>{const n=kr(ru,e.__scopeSelect),r=Ld(ru,e.__scopeSelect),[o,s]=f.useState(!1),i=ve(t,r.onScrollButtonChange);return dt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),o?a.jsx(Vx,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});zx.displayName=ru;var ou="SelectScrollDownButton",Ux=f.forwardRef((e,t)=>{const n=kr(ou,e.__scopeSelect),r=Ld(ou,e.__scopeSelect),[o,s]=f.useState(!1),i=ve(t,r.onScrollButtonChange);return dt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,p=Math.ceil(c.scrollTop)<u;s(p)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),o?a.jsx(Vx,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Ux.displayName=ou;var Vx=f.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=e,s=kr("SelectScrollButton",n),i=f.useRef(null),l=Qa(n),c=f.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),dt(()=>{var p;const u=l().find(m=>m.ref.current===document.activeElement);(p=u==null?void 0:u.ref.current)==null||p.scrollIntoView({block:"nearest"})},[l]),a.jsx(ue.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:te(o.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:te(o.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:te(o.onPointerLeave,()=>{c()})})}),fP="SelectSeparator",Hx=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return a.jsx(ue.div,{"aria-hidden":!0,...r,ref:t})});Hx.displayName=fP;var su="SelectArrow",pP=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=qa(n),s=Pr(su,n),i=kr(su,n);return s.open&&i.position==="popper"?a.jsx(Iy,{...o,...r,ref:t}):null});pP.displayName=su;function Wx(e){return e===""||e===void 0}var Kx=f.forwardRef((e,t)=>{const{value:n,...r}=e,o=f.useRef(null),s=ve(t,o),i=Ka(n);return f.useEffect(()=>{const l=o.current,c=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==n&&p){const m=new Event("change",{bubbles:!0});p.call(l,n),l.dispatchEvent(m)}},[i,n]),a.jsx(Hs,{asChild:!0,children:a.jsx("select",{...r,ref:s,defaultValue:n})})});Kx.displayName="BubbleSelect";function Yx(e){const t=It(e),n=f.useRef(""),r=f.useRef(0),o=f.useCallback(i=>{const l=n.current+i;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=f.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,s]}function Gx(e,t,n){const o=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let i=mP(e,Math.max(s,0));o.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(o.toLowerCase()));return c!==n?c:void 0}function mP(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var hP=Cx,Xx=Sx,gP=Px,yP=kx,xP=jx,Qx=Mx,vP=Ix,qx=_x,Zx=Lx,wP=$x,CP=Fx,Jx=zx,e0=Ux,t0=Hx;const Je=hP,et=gP,Ke=f.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(Xx,{ref:r,className:me("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,a.jsx(yP,{asChild:!0,children:a.jsx(Xg,{className:"h-4 w-4 opacity-50"})})]}));Ke.displayName=Xx.displayName;const n0=f.forwardRef(({className:e,...t},n)=>a.jsx(Jx,{ref:n,className:me("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(ab,{className:"h-4 w-4"})}));n0.displayName=Jx.displayName;const r0=f.forwardRef(({className:e,...t},n)=>a.jsx(e0,{ref:n,className:me("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Xg,{className:"h-4 w-4"})}));r0.displayName=e0.displayName;const Ye=f.forwardRef(({className:e,children:t,position:n="popper",...r},o)=>a.jsx(xP,{children:a.jsxs(Qx,{ref:o,className:me("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[a.jsx(n0,{}),a.jsx(vP,{className:me("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(r0,{})]})}));Ye.displayName=Qx.displayName;const bP=f.forwardRef(({className:e,...t},n)=>a.jsx(qx,{ref:n,className:me("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));bP.displayName=qx.displayName;const Ce=f.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(Zx,{ref:r,className:me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(CP,{children:a.jsx(Gg,{className:"h-4 w-4"})})}),a.jsx(wP,{children:t})]}));Ce.displayName=Zx.displayName;const SP=f.forwardRef(({className:e,...t},n)=>a.jsx(t0,{ref:n,className:me("-mx-1 my-1 h-px bg-muted",e),...t}));SP.displayName=t0.displayName;var $d="Dialog",[o0,_k]=Yn($d),[NP,dn]=o0($d),s0=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:s,modal:i=!0}=e,l=f.useRef(null),c=f.useRef(null),[u=!1,p]=zr({prop:r,defaultProp:o,onChange:s});return a.jsx(NP,{scope:t,triggerRef:l,contentRef:c,contentId:vo(),titleId:vo(),descriptionId:vo(),open:u,onOpenChange:p,onOpenToggle:f.useCallback(()=>p(m=>!m),[p]),modal:i,children:n})};s0.displayName=$d;var i0="DialogTrigger",a0=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=dn(i0,n),s=ve(t,o.triggerRef);return a.jsx(ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":zd(o.open),...r,ref:s,onClick:te(e.onClick,o.onOpenToggle)})});a0.displayName=i0;var Bd="DialogPortal",[PP,l0]=o0(Bd,{forceMount:void 0}),c0=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,s=dn(Bd,t);return a.jsx(PP,{scope:t,forceMount:n,children:f.Children.map(r,i=>a.jsx(Yr,{present:n||s.open,children:a.jsx(Aa,{asChild:!0,container:o,children:i})}))})};c0.displayName=Bd;var ma="DialogOverlay",u0=f.forwardRef((e,t)=>{const n=l0(ma,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=dn(ma,e.__scopeDialog);return s.modal?a.jsx(Yr,{present:r||s.open,children:a.jsx(jP,{...o,ref:t})}):null});u0.displayName=ma;var kP=To("DialogOverlay.RemoveScroll"),jP=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=dn(ma,n);return a.jsx(Ad,{as:kP,allowPinchZoom:!0,shards:[o.contentRef],children:a.jsx(ue.div,{"data-state":zd(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Hr="DialogContent",d0=f.forwardRef((e,t)=>{const n=l0(Hr,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=dn(Hr,e.__scopeDialog);return a.jsx(Yr,{present:r||s.open,children:s.modal?a.jsx(MP,{...o,ref:t}):a.jsx(EP,{...o,ref:t})})});d0.displayName=Hr;var MP=f.forwardRef((e,t)=>{const n=dn(Hr,e.__scopeDialog),r=f.useRef(null),o=ve(t,n.contentRef,r);return f.useEffect(()=>{const s=r.current;if(s)return px(s)},[]),a.jsx(f0,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:te(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:te(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&s.preventDefault()}),onFocusOutside:te(e.onFocusOutside,s=>s.preventDefault())})}),EP=f.forwardRef((e,t)=>{const n=dn(Hr,e.__scopeDialog),r=f.useRef(!1),o=f.useRef(!1);return a.jsx(f0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const i=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),f0=f.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:s,...i}=e,l=dn(Hr,n),c=f.useRef(null),u=ve(t,c);return ux(),a.jsxs(a.Fragment,{children:[a.jsx(_d,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:s,children:a.jsx(Vs,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":zd(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(TP,{titleId:l.titleId}),a.jsx(IP,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Fd="DialogTitle",p0=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=dn(Fd,n);return a.jsx(ue.h2,{id:o.titleId,...r,ref:t})});p0.displayName=Fd;var m0="DialogDescription",h0=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=dn(m0,n);return a.jsx(ue.p,{id:o.descriptionId,...r,ref:t})});h0.displayName=m0;var g0="DialogClose",y0=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=dn(g0,n);return a.jsx(ue.button,{type:"button",...r,ref:t,onClick:te(e.onClick,()=>o.onOpenChange(!1))})});y0.displayName=g0;function zd(e){return e?"open":"closed"}var x0="DialogTitleWarning",[Ak,v0]=mC(x0,{contentName:Hr,titleName:Fd,docsSlug:"dialog"}),TP=({titleId:e})=>{const t=v0(x0),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},DP="DialogDescriptionWarning",IP=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${v0(DP).contentName}}.`;return f.useEffect(()=>{var s;const o=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},RP=s0,OP=a0,_P=c0,w0=u0,C0=d0,b0=p0,S0=h0,AP=y0;const Yt=RP,Gt=OP,LP=_P,N0=f.forwardRef(({className:e,...t},n)=>a.jsx(w0,{ref:n,className:me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));N0.displayName=w0.displayName;const _t=f.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(LP,{children:[a.jsx(N0,{}),a.jsxs(C0,{ref:r,className:me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,a.jsxs(AP,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(bd,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));_t.displayName=C0.displayName;const At=({className:e,...t})=>a.jsx("div",{className:me("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});At.displayName="DialogHeader";const Lt=f.forwardRef(({className:e,...t},n)=>a.jsx(b0,{ref:n,className:me("text-lg font-semibold leading-none tracking-tight",e),...t}));Lt.displayName=b0.displayName;const Za=f.forwardRef(({className:e,...t},n)=>a.jsx(S0,{ref:n,className:me("text-sm text-muted-foreground",e),...t}));Za.displayName=S0.displayName;const ct={0:{number:0,name:"Bank Select MSB",category:"System",aliases:["Bank Select","Bank MSB"]},1:{number:1,name:"Modulation Wheel",category:"Control",aliases:["Mod Wheel","Modulation","Mod"]},2:{number:2,name:"Breath Controller",category:"Control",aliases:["Breath","BC"]},3:{number:3,name:"CC 3 (Undefined)",category:"Undefined"},4:{number:4,name:"Foot Controller",category:"Control",aliases:["Foot Pedal","Foot"]},5:{number:5,name:"Portamento Time",category:"Control",aliases:["Portamento","Glide Time"]},6:{number:6,name:"Data Entry MSB",category:"System",aliases:["Data Entry","Data MSB"]},7:{number:7,name:"Volume",category:"Control",aliases:["Main Volume","Channel Volume"]},8:{number:8,name:"Balance",category:"Control"},9:{number:9,name:"CC 9 (Undefined)",category:"Undefined"},10:{number:10,name:"Pan",category:"Control",aliases:["Panning","Stereo Pan"]},11:{number:11,name:"Expression",category:"Control",aliases:["Expression Pedal"]},12:{number:12,name:"Effect Controller 1",category:"Effects",aliases:["Effect 1","FX 1"]},13:{number:13,name:"Effect Controller 2",category:"Effects",aliases:["Effect 2","FX 2"]},14:{number:14,name:"CC 14 (Undefined)",category:"Undefined"},15:{number:15,name:"CC 15 (Undefined)",category:"Undefined"},16:{number:16,name:"General Purpose 1",category:"Control",aliases:["GP 1","General 1"]},17:{number:17,name:"General Purpose 2",category:"Control",aliases:["GP 2","General 2"]},18:{number:18,name:"General Purpose 3",category:"Control",aliases:["GP 3","General 3"]},19:{number:19,name:"General Purpose 4",category:"Control",aliases:["GP 4","General 4"]},20:{number:20,name:"CC 20 (Undefined)",category:"Undefined"},21:{number:21,name:"CC 21 (Undefined)",category:"Undefined"},22:{number:22,name:"CC 22 (Undefined)",category:"Undefined"},23:{number:23,name:"CC 23 (Undefined)",category:"Undefined"},24:{number:24,name:"CC 24 (Undefined)",category:"Undefined"},25:{number:25,name:"CC 25 (Undefined)",category:"Undefined"},26:{number:26,name:"CC 26 (Undefined)",category:"Undefined"},27:{number:27,name:"CC 27 (Undefined)",category:"Undefined"},28:{number:28,name:"CC 28 (Undefined)",category:"Undefined"},29:{number:29,name:"CC 29 (Undefined)",category:"Undefined"},30:{number:30,name:"CC 30 (Undefined)",category:"Undefined"},31:{number:31,name:"CC 31 (Undefined)",category:"Undefined"},32:{number:32,name:"Bank Select LSB",category:"System",aliases:["Bank LSB"]},33:{number:33,name:"Modulation Wheel LSB",category:"Control",aliases:["Mod Wheel LSB","Modulation LSB"]},34:{number:34,name:"Breath Controller LSB",category:"Control",aliases:["Breath LSB"]},35:{number:35,name:"CC 35 (Undefined LSB)",category:"Undefined"},36:{number:36,name:"Foot Controller LSB",category:"Control",aliases:["Foot Pedal LSB"]},37:{number:37,name:"Portamento Time LSB",category:"Control",aliases:["Portamento LSB"]},38:{number:38,name:"Data Entry LSB",category:"System",aliases:["Data LSB"]},39:{number:39,name:"Volume LSB",category:"Control",aliases:["Main Volume LSB"]},40:{number:40,name:"Balance LSB",category:"Control"},41:{number:41,name:"CC 41 (Undefined LSB)",category:"Undefined"},42:{number:42,name:"Pan LSB",category:"Control",aliases:["Panning LSB"]},43:{number:43,name:"Expression LSB",category:"Control",aliases:["Expression Pedal LSB"]},44:{number:44,name:"Effect Controller 1 LSB",category:"Effects",aliases:["Effect 1 LSB"]},45:{number:45,name:"Effect Controller 2 LSB",category:"Effects",aliases:["Effect 2 LSB"]},46:{number:46,name:"CC 46 (Undefined LSB)",category:"Undefined"},47:{number:47,name:"CC 47 (Undefined LSB)",category:"Undefined"},48:{number:48,name:"General Purpose 1 LSB",category:"Control",aliases:["GP 1 LSB"]},49:{number:49,name:"General Purpose 2 LSB",category:"Control",aliases:["GP 2 LSB"]},50:{number:50,name:"General Purpose 3 LSB",category:"Control",aliases:["GP 3 LSB"]},51:{number:51,name:"General Purpose 4 LSB",category:"Control",aliases:["GP 4 LSB"]},52:{number:52,name:"CC 52 (Undefined LSB)",category:"Undefined"},53:{number:53,name:"CC 53 (Undefined LSB)",category:"Undefined"},54:{number:54,name:"CC 54 (Undefined LSB)",category:"Undefined"},55:{number:55,name:"CC 55 (Undefined LSB)",category:"Undefined"},56:{number:56,name:"CC 56 (Undefined LSB)",category:"Undefined"},57:{number:57,name:"CC 57 (Undefined LSB)",category:"Undefined"},58:{number:58,name:"CC 58 (Undefined LSB)",category:"Undefined"},59:{number:59,name:"CC 59 (Undefined LSB)",category:"Undefined"},60:{number:60,name:"CC 60 (Undefined LSB)",category:"Undefined"},61:{number:61,name:"CC 61 (Undefined LSB)",category:"Undefined"},62:{number:62,name:"CC 62 (Undefined LSB)",category:"Undefined"},63:{number:63,name:"CC 63 (Undefined LSB)",category:"Undefined"},64:{number:64,name:"Sustain Pedal",category:"Switch",aliases:["Sustain","Damper Pedal","Hold"]},65:{number:65,name:"Portamento On/Off",category:"Switch",aliases:["Portamento","Glide On/Off"]},66:{number:66,name:"Sostenuto Pedal",category:"Switch",aliases:["Sostenuto"]},67:{number:67,name:"Soft Pedal",category:"Switch",aliases:["Soft","Una Corda"]},68:{number:68,name:"Legato Pedal",category:"Switch",aliases:["Legato"]},69:{number:69,name:"Hold 2 Pedal",category:"Switch",aliases:["Hold 2","Freeze"]},70:{number:70,name:"Sound Variation",category:"Sound",aliases:["Sound Ctrl 1","Variation"]},71:{number:71,name:"Filter Resonance",category:"Sound",aliases:["Resonance","Timbre","Harmonic Content"]},72:{number:72,name:"Sound Release",category:"Sound",aliases:["Release Time","Sound Ctrl 3"]},73:{number:73,name:"Sound Attack",category:"Sound",aliases:["Attack Time","Sound Ctrl 4"]},74:{number:74,name:"Filter Cutoff",category:"Sound",aliases:["Cutoff","Brightness","Sound Ctrl 5"]},75:{number:75,name:"Sound Control 6",category:"Sound",aliases:["Sound Ctrl 6"]},76:{number:76,name:"Sound Control 7",category:"Sound",aliases:["Sound Ctrl 7"]},77:{number:77,name:"Sound Control 8",category:"Sound",aliases:["Sound Ctrl 8"]},78:{number:78,name:"Sound Control 9",category:"Sound",aliases:["Sound Ctrl 9"]},79:{number:79,name:"Sound Control 10",category:"Sound",aliases:["Sound Ctrl 10"]},80:{number:80,name:"General Purpose 5",category:"Control",aliases:["GP 5","General 5"]},81:{number:81,name:"General Purpose 6",category:"Control",aliases:["GP 6","General 6"]},82:{number:82,name:"General Purpose 7",category:"Control",aliases:["GP 7","General 7"]},83:{number:83,name:"General Purpose 8",category:"Control",aliases:["GP 8","General 8"]},84:{number:84,name:"Portamento Control",category:"Control",aliases:["Portamento Ctrl"]},85:{number:85,name:"CC 85 (Undefined)",category:"Undefined"},86:{number:86,name:"CC 86 (Undefined)",category:"Undefined"},87:{number:87,name:"CC 87 (Undefined)",category:"Undefined"},88:{number:88,name:"High Resolution Velocity Prefix",category:"System",aliases:["Velocity Prefix"]},89:{number:89,name:"CC 89 (Undefined)",category:"Undefined"},90:{number:90,name:"CC 90 (Undefined)",category:"Undefined"},91:{number:91,name:"Reverb Level",category:"Effects",aliases:["Reverb","Reverb Send"]},92:{number:92,name:"Tremolo Level",category:"Effects",aliases:["Tremolo","Tremolo Depth"]},93:{number:93,name:"Chorus Level",category:"Effects",aliases:["Chorus","Chorus Send"]},94:{number:94,name:"Celeste Level",category:"Effects",aliases:["Celeste","Detune"]},95:{number:95,name:"Phaser Level",category:"Effects",aliases:["Phaser","Phaser Depth"]},96:{number:96,name:"Data Button Increment",category:"System",aliases:["Data Inc","Data +1"]},97:{number:97,name:"Data Button Decrement",category:"System",aliases:["Data Dec","Data -1"]},98:{number:98,name:"Non-Registered Parameter LSB",category:"System",aliases:["NRPN LSB"]},99:{number:99,name:"Non-Registered Parameter MSB",category:"System",aliases:["NRPN MSB"]},100:{number:100,name:"Registered Parameter LSB",category:"System",aliases:["RPN LSB"]},101:{number:101,name:"Registered Parameter MSB",category:"System",aliases:["RPN MSB"]},102:{number:102,name:"CC 102 (Undefined)",category:"Undefined"},103:{number:103,name:"CC 103 (Undefined)",category:"Undefined"},104:{number:104,name:"CC 104 (Undefined)",category:"Undefined"},105:{number:105,name:"CC 105 (Undefined)",category:"Undefined"},106:{number:106,name:"CC 106 (Undefined)",category:"Undefined"},107:{number:107,name:"CC 107 (Undefined)",category:"Undefined"},108:{number:108,name:"CC 108 (Undefined)",category:"Undefined"},109:{number:109,name:"CC 109 (Undefined)",category:"Undefined"},110:{number:110,name:"CC 110 (Undefined)",category:"Undefined"},111:{number:111,name:"CC 111 (Undefined)",category:"Undefined"},112:{number:112,name:"CC 112 (Undefined)",category:"Undefined"},113:{number:113,name:"CC 113 (Undefined)",category:"Undefined"},114:{number:114,name:"CC 114 (Undefined)",category:"Undefined"},115:{number:115,name:"CC 115 (Undefined)",category:"Undefined"},116:{number:116,name:"CC 116 (Undefined)",category:"Undefined"},117:{number:117,name:"CC 117 (Undefined)",category:"Undefined"},118:{number:118,name:"CC 118 (Undefined)",category:"Undefined"},119:{number:119,name:"CC 119 (Undefined)",category:"Undefined"},120:{number:120,name:"All Sound Off",category:"Channel Mode",aliases:["Sound Off"]},121:{number:121,name:"All Controllers Off",category:"Channel Mode",aliases:["Reset Controllers"]},122:{number:122,name:"Local Keyboard",category:"Channel Mode",aliases:["Local Control"]},123:{number:123,name:"All Notes Off",category:"Channel Mode",aliases:["Notes Off"]},124:{number:124,name:"Omni Mode Off",category:"Channel Mode",aliases:["Omni Off"]},125:{number:125,name:"Omni Mode On",category:"Channel Mode",aliases:["Omni On"]},126:{number:126,name:"Mono Operation",category:"Channel Mode",aliases:["Mono Mode"]},127:{number:127,name:"Poly Operation",category:"Channel Mode",aliases:["Poly Mode"]}};function Ro(e){if(!e.trim())return Object.values(ct);const t=e.toLowerCase().trim(),n=[];return Object.values(ct).forEach(r=>{var s,i,l;let o=0;r.number.toString()===t?o=1e3:r.name.toLowerCase()===t?o=900:(s=r.aliases)!=null&&s.some(c=>c.toLowerCase()===t)?o=850:r.number.toString().startsWith(t)?o=800:r.name.toLowerCase().startsWith(t)?o=700:(i=r.aliases)!=null&&i.some(c=>c.toLowerCase().startsWith(t))?o=650:r.number.toString().includes(t)?o=600:r.name.toLowerCase().includes(t)?o=500:(l=r.aliases)!=null&&l.some(c=>c.toLowerCase().includes(t))&&(o=450),o>0&&n.push({cc:r,priority:o})}),n.sort((r,o)=>r.priority!==o.priority?o.priority-r.priority:r.cc.number-o.cc.number),n.map(r=>r.cc)}const De=class De extends ge{static getDefaultConfig(){return{points:[{x:0,y:0,strength:1,id:"start"},{x:127,y:127,strength:1,id:"end"}],selectedPointId:null,inputCC:1}}static binomial(t,n){let r=1;for(let o=1;o<=n;o++)r*=(t-o+1)/o;return r}static bernstein(t,n,r){return De.binomial(t,n)*Math.pow(1-r,t-n)*Math.pow(r,n)}static rationalBezier(t,n,r){const o=n.length-1;let s={x:0,y:0},i=0;for(let l=0;l<=o;l++){const c=De.bernstein(o,l,t)*r[l];s.x+=c*n[l].x,s.y+=c*n[l].y,i+=c}return{x:s.x/i,y:s.y/i}}static applyCurveTransform(t,n){if(n.length<2)return t;const r=[...n].sort((p,m)=>p.x-m.x),o=r[0],s=r[r.length-1];if(t<=o.x)return o.y;if(t>=s.x)return s.y;if(r.length===2){const p=(t-o.x)/(s.x-o.x);return Math.round(o.y+p*(s.y-o.y))}const i=r.map(p=>({x:p.x,y:p.y})),l=r.map(p=>p.strength);l[0]=1,l[l.length-1]=1;const c=(t-o.x)/(s.x-o.x),u=De.rationalBezier(c,i,l);return Math.round(Math.max(0,Math.min(127,u.y)))}static generateLinearPath(t){if(t.length<2)return"";const r=[...t].sort((s,i)=>s.x-i.x).map(s=>({x:s.x/127*100,y:100-s.y/127*100}));let o=`M ${r[0].x},${r[0].y}`;for(let s=1;s<r.length;s++)o+=` L ${r[s].x},${r[s].y}`;return o}static generateCurvePath(t){if(t.length<2)return"M 0,100 L 100,0";const n=[...t].sort((m,d)=>m.x-d.x),r=n.map(m=>({x:m.x/127*100,y:100-m.y/127*100,strength:m.strength})),o=r[0],s=r[r.length-1];if(r.length===2)return`M ${o.x},${o.y} L ${s.x},${s.y}`;const i=100,l=[],c=n.map(m=>({x:m.x,y:m.y})),u=n.map(m=>m.strength);u[0]=1,u[u.length-1]=1;for(let m=0;m<=i;m++){const d=m/i,y=De.rationalBezier(d,c,u),v=y.x/127*100,h=100-y.y/127*100;l.push({x:Math.max(0,Math.min(100,v)),y:Math.max(0,Math.min(100,h))})}let p=`M ${o.x},${o.y}`;for(let m=1;m<l.length-1;m+=2){const d=l[m],y=l[Math.min(m+1,l.length-1)];p+=` Q ${d.x},${d.y} ${y.x},${y.y}`}return p+=` L ${s.x},${s.y}`,p}renderContent(t,n){t.config||(t.config=De.getDefaultConfig());const r=this.useInstanceData({blockConfig:De.getDefaultConfig(),lastInputValue:null,lastOutputValue:null,isDragging:!1,dragPointId:null,dragCoordinates:null});r.blockConfig={...t.config};const o=t.config.points||De.getDefaultConfig().points,s=t.config.selectedPointId;t.config.inputCC;const i=(y,v)=>{v.preventDefault(),v.stopPropagation(),t.config.selectedPointId=y},l=(y,v)=>{if(r.isDragging)return;const h=v.currentTarget.closest("svg");if(!h)return;const C=h.getBoundingClientRect();if(!o.find(b=>b.id===y))return;r.isDragging=!0,r.dragPointId=y;const g=b=>{const P=(b.clientX-C.left)/C.width*100,S=(b.clientY-C.top)/C.height*100,N=P/100*127,j=127-S/100*127,A=o.map(R=>{if(R.id===y){let z=R.x,O=Math.max(0,Math.min(127,j));return y!=="start"&&y!=="end"&&(z=Math.max(1,Math.min(126,N))),r.dragCoordinates={x:Math.round(z),y:Math.round(O)},{...R,x:z,y:O}}return R});t.config.points=A},w=()=>{r.isDragging=!1,r.dragPointId=null,r.dragCoordinates=null,document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",w)};document.addEventListener("mousemove",g),document.addEventListener("mouseup",w)},c=y=>{if(!s)return;const v=o.map(h=>h.id===s?{...h,strength:y[0]}:h);t.config.points=v},u=y=>{y==="start"||y==="end"||(t.config.points=o.filter(v=>v.id!==y),s===y&&(t.config.selectedPointId=null))},m=(()=>{if(r.lastInputValue===null)return null;const y=[...o].sort((b,P)=>b.x-P.x);if(y.length<2)return null;const v=y[0],h=y[y.length-1],C=(r.lastInputValue-v.x)/(h.x-v.x),x=y.map(b=>({x:b.x,y:b.y})),g=y.map(b=>b.strength);g[0]=1,g[g.length-1]=1;const w=De.rationalBezier(C,x,g);return{x:w.x/127*100,y:100-w.y/127*100}})(),d=s?o.find(y=>y.id===s):null;return a.jsxs("div",{className:"p-3 space-y-3",onMouseDown:y=>y.stopPropagation(),children:[a.jsxs("div",{className:"bg-muted rounded p-2",children:[a.jsxs("svg",{width:"200",height:"200",viewBox:"0 0 100 100",className:"border border-border/30 rounded-sm bg-background cursor-default",onClick:y=>{(y.target===y.currentTarget||y.target.tagName==="rect")&&(t.config.selectedPointId=null)},children:[a.jsx("defs",{children:a.jsx("pattern",{id:"grid-multi",width:"10",height:"10",patternUnits:"userSpaceOnUse",children:a.jsx("path",{d:"M 10 0 L 0 0 0 10",fill:"none",stroke:"currentColor",strokeWidth:"0.3",opacity:"0.2"})})}),a.jsx("rect",{width:"100",height:"100",fill:"url(#grid-multi)"}),o.length>2&&a.jsx("path",{d:De.generateLinearPath(o),fill:"none",stroke:"#666666",strokeWidth:"1",strokeDasharray:"3,3",opacity:"0.5"}),a.jsx("path",{d:De.generateCurvePath(o),fill:"none",stroke:"#8b5cf6",strokeWidth:"2",className:"drop-shadow-sm"}),o.map(y=>{const v=y.x/127*100,h=100-y.y/127*100,C=y.id==="start"||y.id==="end",x=s===y.id;return a.jsxs("g",{children:[x&&!C&&a.jsx("circle",{cx:v,cy:h,r:8,fill:"none",stroke:"#3b82f6",strokeWidth:1,opacity:.6,className:"pointer-events-none"}),a.jsx("circle",{cx:v,cy:h,r:3,fill:x&&!C?"#3b82f6":C?"#14b8a6":"#22c55e",stroke:"#000000",strokeWidth:1,className:"cursor-move drop-shadow-sm",onClick:g=>i(y.id,g),onMouseDown:g=>{g.preventDefault(),g.stopPropagation(),l(y.id,g)}}),y.strength!==.1&&a.jsx("circle",{cx:v,cy:h,r:3+(y.strength-.1)*2.6,fill:"none",stroke:C?"#14b8a6":"#22c55e",strokeWidth:"0.5",opacity:"0.5"})]},y.id)}),m&&a.jsx("circle",{cx:m.x,cy:m.y,r:"3",fill:"#f59e0b",stroke:"#ffffff",strokeWidth:"1",className:"drop-shadow-sm"}),r.isDragging&&r.dragCoordinates&&a.jsxs("g",{children:[a.jsx("rect",{x:"5",y:"5",width:"32",height:"12",fill:"rgba(0, 0, 0, 0.8)",stroke:"#22c55e",strokeWidth:"0.5",rx:"2"}),a.jsxs("text",{x:"21",y:"13",fontSize:"4",fill:"#22c55e",textAnchor:"middle",className:"font-mono",children:["(",r.dragCoordinates.x,", ",r.dragCoordinates.y,")"]})]}),a.jsx("line",{x1:"0",y1:"100",x2:"100",y2:"100",stroke:"currentColor",strokeWidth:"0.5",opacity:"0.4"}),a.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"100",stroke:"currentColor",strokeWidth:"0.5",opacity:"0.4"})]}),a.jsxs("div",{className:"flex gap-2 mt-3",children:[a.jsxs("button",{onClick:()=>{if(o.length>=8)return;const y=[...o],v=[...y].sort((b,P)=>b.x-P.x);let h=0,C=64,x=64;for(let b=0;b<v.length-1;b++){const P=v[b],S=v[b+1],N=Math.sqrt(Math.pow(S.x-P.x,2)+Math.pow(S.y-P.y,2));N>h&&(h=N,C=Math.round((P.x+S.x)/2),x=Math.round((P.y+S.y)/2))}const w={x:Math.max(1,Math.min(126,C)),y:x,strength:1,id:`point-${Date.now()}`};t.config.points=[...y,w],t.config.selectedPointId=w.id},disabled:o.length>=8,className:"flex-1 text-xs px-3 py-1.5 bg-background border border-border rounded-md hover:bg-muted/50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:["Add (",o.length,"/8)"]}),a.jsx("button",{onClick:()=>{d&&d.id!=="start"&&d.id!=="end"&&u(d.id)},disabled:!d||d.id==="start"||d.id==="end",className:`flex-1 text-xs px-3 py-1.5 bg-background border border-border rounded-md hover:bg-destructive/10 disabled:opacity-50 disabled:cursor-not-allowed transition-colors ${!d||d.id==="start"||d.id==="end"?"text-muted-foreground":"text-red-500"}`,children:"Remove"})]})]}),a.jsx("div",{className:`rounded p-3 space-y-2 ${d?"bg-muted":"bg-muted/50"}`,children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:d?"":"text-muted-foreground",children:"Weak"}),a.jsx("span",{className:d?"":"text-muted-foreground",children:"Strong"})]}),a.jsx(gs,{value:d?[d.strength]:[1],onValueChange:d?c:()=>{},min:.1,max:2,step:.1,disabled:!d,className:`w-full ${d?"":"opacity-50"}`})]})}),r.lastInputValue!==null&&a.jsx("div",{className:"bg-muted rounded p-2 text-xs",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{children:["Input: ",r.lastInputValue]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["Output: ",r.lastOutputValue]})]})})]})}static renderHeaderButtons(t,n){var u;const[r,o]=f.useState(!1);t.config||(t.config=De.getDefaultConfig());const s=t.config.inputCC??1;(((u=t.config)==null?void 0:u.points)||De.getDefaultConfig().points).length<8;const l=p=>{const m={...t.config,inputCC:parseInt(p)};t.config=m,n==null||n(m)},c=[1,7,11,64,71,72,73,74,91,93];return a.jsx("div",{className:"flex gap-1 items-center",children:a.jsxs(Yt,{open:r,onOpenChange:p=>{o(p),ge.setConfigModalOpen(p)},children:[a.jsx(Gt,{asChild:!0,children:a.jsx("button",{className:"text-gray-400 hover:text-gray-200 text-xs transition-colors p-2 -m-2 touch-manipulation",onClick:p=>p.stopPropagation(),onTouchStart:p=>p.stopPropagation(),onTouchEnd:p=>p.stopPropagation(),style:{touchAction:"manipulation"},title:"Configure Input CC",children:a.jsx(Kt,{className:"w-3 h-3"})})}),a.jsxs(_t,{className:"glass-panel border border-white/20 backdrop-blur-xl bg-gray-700/60 max-w-md",onInteractOutside:p=>p.preventDefault(),onMouseDown:p=>p.stopPropagation(),onMouseMove:p=>p.stopPropagation(),onMouseUp:p=>p.stopPropagation(),onTouchStart:p=>p.stopPropagation(),onTouchMove:p=>p.stopPropagation(),onTouchEnd:p=>p.stopPropagation(),children:[a.jsx(At,{children:a.jsx(Lt,{className:"text-gray-100",children:"CC Multi - Input CC"})}),a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-sm font-medium",children:"Select Input CC Number"}),a.jsxs(Je,{value:s.toString(),onValueChange:l,children:[a.jsx(Ke,{className:"w-full bg-gray-600/50 border-gray-500/50 text-gray-100",children:a.jsx(et,{placeholder:"Select CC..."})}),a.jsxs(Ye,{className:"bg-gray-700 border-gray-600 text-gray-100 max-h-60",children:[a.jsx("div",{className:"text-xs text-gray-400 px-2 py-1 font-medium",children:"Common CCs"}),c.map(p=>{const m=ct[p];return a.jsxs(Ce,{value:p.toString(),className:"text-gray-100 focus:bg-gray-600 focus:text-gray-100",children:["CC",p,": ",(m==null?void 0:m.name)||"Unknown"," (",(m==null?void 0:m.category)||"Custom",")"]},p)}),a.jsx("div",{className:"text-xs text-gray-400 px-2 py-1 font-medium border-t border-gray-600 mt-1 pt-2",children:"All CCs"}),Array.from({length:128},(p,m)=>{const d=ct[m];return d?a.jsxs(Ce,{value:m.toString(),className:"text-gray-100 focus:bg-gray-600 focus:text-gray-100",children:["CC",m,": ",d.name," (",d.category,")"]},m):null}).filter(Boolean)]})]})]}),a.jsx("div",{className:"text-xs text-gray-300 bg-gray-600/30 p-3 rounded",children:"The output CC number and MIDI channel will pass through unchanged. Only the CC value will be transformed by the curve."})]})]})]})})}processMidiMessage(t,n){const r=this.useInstanceData({blockConfig:De.getDefaultConfig(),lastInputValue:null,lastOutputValue:null}),o=Le.parseMidiMessage(t.data);if(o.type!=="controlChange"||o.dataBytes.length<2)return null;const s=o.dataBytes[0],i=o.dataBytes[1],l=r.blockConfig.inputCC??1;if(s!==l)return null;const c=r.blockConfig.points||De.getDefaultConfig().points,u=De.applyCurveTransform(i,c);return r.lastInputValue=i,r.lastOutputValue=u,console.log(`CC Multi: Input CC${s}=${i} -> Output CC${s}=${u} (${c.length} points)`),{message:{data:new Uint8Array([t.data[0],t.data[1],u]),timestamp:t.timestamp}}}};De.title="CC Curve",De.icon="trending-up",De.description="Transform CC values using multi-point curves with adjustable strength",De.width=280,De.height=380,De.color="green",De.portConfig={inputs:[{name:"midi_in",label:"CC In"}],outputs:[{name:"midi_out",label:"MIDI Out"}]};let iu=De;const P0=Object.freeze(Object.defineProperty({__proto__:null,CCMultiBlock:iu},Symbol.toStringTag,{value:"Module"}));var $P="Label",k0=f.forwardRef((e,t)=>a.jsx(ue.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));k0.displayName=$P;var j0=k0;const BP=Cd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),le=f.forwardRef(({className:e,...t},n)=>a.jsx(j0,{ref:n,className:me(BP(),e),...t}));le.displayName=j0.displayName;const qe=f.forwardRef(({className:e,type:t,...n},r)=>a.jsx("input",{type:t,className:me("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));qe.displayName="Input";const jn=class jn extends ge{static getDefaultConfig(){return{channel:-1,ccNumber:1}}static renderHeaderButtons(t,n){var m;const[r,o]=f.useState(!1),[,s]=f.useState({}),[i,l]=f.useState(""),c=t.config.channel??-1,u=t.config.ccNumber||1,p=Ro(i);return a.jsxs(Yt,{open:r,onOpenChange:d=>{o(d),ge.setConfigModalOpen(d)},children:[a.jsx(Gt,{asChild:!0,children:a.jsx("button",{className:"text-gray-400 hover:text-gray-200 text-xs transition-colors p-2 -m-2 touch-manipulation",onClick:d=>d.stopPropagation(),onTouchStart:d=>d.stopPropagation(),onTouchEnd:d=>d.stopPropagation(),style:{touchAction:"manipulation"},children:a.jsx(Kt,{className:"w-3 h-3"})})}),a.jsxs(_t,{className:"glass-panel border border-white/20 backdrop-blur-xl bg-gray-700/60 max-w-md",onInteractOutside:d=>d.preventDefault(),onMouseDown:d=>d.stopPropagation(),onMouseMove:d=>d.stopPropagation(),onMouseUp:d=>d.stopPropagation(),onTouchStart:d=>d.stopPropagation(),onTouchMove:d=>d.stopPropagation(),onTouchEnd:d=>d.stopPropagation(),children:[a.jsxs(At,{children:[a.jsx(Lt,{className:"text-gray-100",children:"CC Visualizer Configuration"}),a.jsx(Za,{className:"text-gray-400",children:"Configure MIDI channel and CC number for visualization display."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{children:[a.jsx(le,{className:"text-sm text-gray-300 mb-2 block",children:"MIDI Channel"}),a.jsxs(Je,{value:String(c),onValueChange:d=>{const y=d==="-1"?-1:parseInt(d);t.config.channel=y,n==null||n({channel:y}),s({})},children:[a.jsx(Ke,{className:"bg-gray-800/50 border-white/20 backdrop-blur-sm",children:a.jsx(et,{})}),a.jsxs(Ye,{children:[a.jsx(Ce,{value:"-1",children:"Any Channel"}),Array.from({length:16},(d,y)=>y+1).map(d=>a.jsxs(Ce,{value:String(d),children:["Channel ",d]},d))]})]})]}),a.jsxs("div",{children:[a.jsx(le,{className:"text-sm text-gray-300 mb-2 block",children:"CC Number"}),a.jsxs("div",{className:"space-y-2 relative",children:[a.jsx(qe,{placeholder:"Search CC numbers...",value:i,onChange:d=>{l(d.target.value)},onKeyDown:d=>{d.stopPropagation(),d.key==="Escape"&&l("")},className:"bg-gray-800/50 border-white/20 backdrop-blur-sm text-sm"}),i&&p.length>0&&a.jsx("div",{className:"absolute top-full left-0 right-0 z-50 bg-gray-800 border border-white/20 rounded-md shadow-lg max-h-48 overflow-y-auto",children:p.map(d=>a.jsxs("div",{className:"px-3 py-2 hover:bg-gray-700 cursor-pointer text-xs flex items-center justify-between",onClick:()=>{t.config.ccNumber=d.number,n==null||n({ccNumber:d.number}),l(""),s({})},children:[a.jsx("span",{className:"font-mono",children:d.number.toString().padStart(3,"0")}),a.jsx("span",{className:"ml-2",children:d.name})]},d.number))}),a.jsx("div",{className:"bg-gray-700/50 border border-white/10 rounded px-3 py-2 text-sm",children:a.jsxs("span",{className:"text-gray-300 font-medium",children:["CC ",u.toString().padStart(3,"0"),a.jsxs("span",{className:"ml-2 text-gray-400 text-xs",children:["(",((m=ct[u])==null?void 0:m.name)||"Unknown",")"]})]})})]})]}),a.jsx("div",{className:"flex justify-end pt-3 border-t border-white/10",children:a.jsx("button",{onClick:()=>o(!1),className:"px-4 py-1.5 text-sm bg-cyan-500 hover:bg-cyan-600 text-white rounded transition-colors font-medium",children:"OK"})})]})]})]})}processMidiMessage(t,n){var d,y;const r=this.useInstanceData({currentValue:0,lastUpdateTime:0,blockConfig:null}),o=Le.parseMidiMessage(t.data);if(o.type!=="controlChange"||o.dataBytes.length<2)return null;const s=(o.status&15)+1,i=o.dataBytes[0],l=o.dataBytes[1],c=((d=r.blockConfig)==null?void 0:d.channel)??-1,u=((y=r.blockConfig)==null?void 0:y.ccNumber)||1;return(c===-1||s===c)&&i===u&&(r.currentValue=l,r.lastUpdateTime=Date.now()),null}renderContent(t,n){var p;const r=this.useInstanceData({currentValue:0,lastUpdateTime:0,blockConfig:null});r.blockConfig=t.config;const o=t.config.channel??-1,s=t.config.ccNumber||1,i=((p=ct[s])==null?void 0:p.name)||`CC ${s}`,l=r.currentValue/127*100,c=r.lastUpdateTime>0?(Date.now()-r.lastUpdateTime)/1e3:null,u=Array.from({length:20},(m,d)=>{const y=d/19*100,v=l>=y;let h="bg-teal-500";return y>75?h="bg-purple-500":y>50&&(h="bg-cyan-400"),{isActive:v,color:h,opacity:v?"opacity-100":"opacity-20"}});return a.jsxs("div",{className:"flex flex-col h-full",onMouseDown:m=>m.stopPropagation(),children:[a.jsxs("div",{className:"text-center mb-3",children:[a.jsx("div",{className:"text-xs text-gray-300 mb-1",children:i}),a.jsx("div",{className:"text-xs text-gray-400",children:o===-1?"Any Channel":`Channel ${o}`})]}),a.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[a.jsx("div",{className:"relative w-full h-8 bg-gray-800/30 rounded-sm border border-gray-600/50 mb-2",children:a.jsx("div",{className:"absolute inset-0 flex p-0.5 gap-0.5",children:u.map((m,d)=>a.jsx("div",{className:`flex-1 rounded-sm transition-all duration-100 ${m.color} ${m.opacity}`},d))})}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{className:"text-lg font-mono text-cyan-300",children:r.currentValue}),a.jsx("div",{className:"text-xs text-gray-400",children:c!==null&&c<60?`${c.toFixed(1)}s ago`:r.lastUpdateTime>0?"Received data":"Waiting..."})]})]})]})}};jn.title="CC Visualizer",jn.icon="monitor",jn.description="Display CC values as a horizontal level meter",jn.width=280,jn.height=120,jn.color="cyan",jn.portConfig={inputs:[{name:"midi_in",label:"MIDI In"}],outputs:[]};let au=jn;const M0=Object.freeze(Object.defineProperty({__proto__:null,CCVisualizerBlock:au},Symbol.toStringTag,{value:"Module"})),Mn=class Mn extends ge{static getDefaultConfig(){return{ccNumber:1,channel:1,initialValue:64,throttleMs:10}}static renderHeaderButtons(t,n){var y;const[r,o]=f.useState(!1),[,s]=f.useState({}),[i,l]=f.useState(""),c=t.config.ccNumber||1,u=t.config.channel||1,p=t.config.initialValue||64,m=t.config.throttleMs||10,d=Ro(i);return a.jsxs(Yt,{open:r,onOpenChange:v=>{o(v),ge.setConfigModalOpen(v)},children:[a.jsx(Gt,{asChild:!0,children:a.jsx("button",{className:"text-gray-400 hover:text-gray-200 text-xs transition-colors p-2 -m-2 touch-manipulation",onClick:v=>v.stopPropagation(),onTouchStart:v=>v.stopPropagation(),onTouchEnd:v=>v.stopPropagation(),style:{touchAction:"manipulation"},children:a.jsx(Kt,{className:"w-3 h-3"})})}),a.jsxs(_t,{className:"glass-panel border border-white/20 backdrop-blur-xl bg-gray-700/60 max-w-md",onInteractOutside:v=>v.preventDefault(),onMouseDown:v=>v.stopPropagation(),onMouseMove:v=>v.stopPropagation(),onMouseUp:v=>v.stopPropagation(),onTouchStart:v=>v.stopPropagation(),onTouchMove:v=>v.stopPropagation(),onTouchEnd:v=>v.stopPropagation(),children:[a.jsxs(At,{children:[a.jsx(Lt,{className:"text-gray-100",children:"CC Generator Configuration"}),a.jsx(Za,{className:"text-gray-400",children:"Configure MIDI channel, CC number, and generation parameters for this block."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{children:[a.jsx(le,{className:"text-sm text-gray-300 mb-2 block",children:"MIDI Channel"}),a.jsxs(Je,{value:String(u),onValueChange:v=>{t.config.channel=parseInt(v),n==null||n({channel:parseInt(v)}),s({})},children:[a.jsx(Ke,{className:"bg-gray-800/50 border-white/20 backdrop-blur-sm",children:a.jsx(et,{})}),a.jsx(Ye,{children:Array.from({length:16},(v,h)=>h+1).map(v=>a.jsxs(Ce,{value:String(v),children:["Channel ",v]},v))})]})]}),a.jsxs("div",{children:[a.jsx(le,{className:"text-sm text-gray-300 mb-2 block",children:"Control Change Number"}),a.jsxs("div",{className:"space-y-2 relative",children:[a.jsx(qe,{placeholder:"Search CC numbers...",value:i,onChange:v=>{l(v.target.value)},onKeyDown:v=>{v.stopPropagation(),v.key==="Escape"&&l("")},className:"bg-gray-800/50 border-white/20 backdrop-blur-sm text-sm"}),i&&d.length>0&&a.jsx("div",{className:"absolute top-full left-0 right-0 z-50 bg-gray-800 border border-white/20 rounded-md shadow-lg max-h-48 overflow-y-auto",children:d.map(v=>a.jsxs("div",{className:"px-3 py-2 hover:bg-gray-700 cursor-pointer text-xs flex items-center justify-between",onClick:()=>{t.config.ccNumber=v.number,n==null||n({ccNumber:v.number}),l(""),s({})},children:[a.jsx("span",{className:"font-mono",children:v.number.toString().padStart(3,"0")}),a.jsx("span",{className:"ml-2",children:v.name})]},v.number))}),a.jsx("div",{className:"bg-gray-700/50 border border-white/10 rounded px-3 py-2 text-sm",children:a.jsxs("span",{className:"text-gray-300 font-medium",children:["CC ",c.toString().padStart(3,"0"),a.jsxs("span",{className:"ml-2 text-gray-400 text-xs",children:["(",((y=ct[c])==null?void 0:y.name)||"Unknown",")"]})]})})]})]}),a.jsxs("div",{children:[a.jsx(le,{className:"text-sm text-gray-300 mb-2 block",children:"Initial Value (0-127)"}),a.jsx(qe,{type:"number",min:"0",max:"127",value:p,onChange:v=>{const h=Math.max(0,Math.min(127,parseInt(v.target.value)||0));t.config.initialValue=h,n==null||n({initialValue:h}),s({})},className:"bg-gray-800/50 border-white/20 backdrop-blur-sm"})]}),a.jsxs("div",{children:[a.jsx(le,{className:"text-sm text-gray-300 mb-2 block",children:"Rate Limit (1-100ms)"}),a.jsx(qe,{type:"number",min:"1",max:"100",value:m,onChange:v=>{const h=Math.max(1,Math.min(100,parseInt(v.target.value)||10));t.config.throttleMs=h,n==null||n({throttleMs:h}),s({})},className:"bg-gray-800/50 border-white/20 backdrop-blur-sm"}),a.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Max ",Math.round(1e3/m)," messages/second"]})]}),a.jsx("div",{className:"flex justify-end pt-3 border-t border-white/10",children:a.jsx("button",{onClick:()=>o(!1),className:"px-4 py-1.5 text-sm bg-emerald-500 hover:bg-emerald-600 text-white rounded transition-colors font-medium",children:"OK"})})]})]})]})}processMidiMessage(t,n){return null}renderContent(t,n){var y;const r=this.useInstanceData({currentValue:t.config.initialValue||64,lastSentValue:-1,lastSendTime:0}),o=f.useRef(null),s=t.config.ccNumber||1,i=t.config.channel||1,l=t.config.throttleMs||10,c=t.config.initialValue||64,u=((y=ct[s])==null?void 0:y.name)||`CC ${s}`,p=f.useCallback(v=>{const h=Date.now();if(h-r.lastSendTime<l||v===r.lastSentValue)return;const C=`${t.id}-midi_out`,x=new Uint8Array([176|i-1,s,v]);this.emitMidiMessage(t.id,C,{data:x,timestamp:h}),r.lastSentValue=v,r.lastSendTime=h},[t.id,s,i,l,r]),m=f.useCallback(v=>{const h=parseInt(v.target.value);r.currentValue=h,p(h)},[r,p]),d=f.useCallback(v=>{v.stopPropagation(),r.currentValue=c,o.current&&(o.current.value=String(c)),p(c)},[r,c,p]);return a.jsxs("div",{className:"space-y-3",onMouseDown:v=>v.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-xs text-gray-300",children:[a.jsx("div",{className:"font-semibold",children:u}),a.jsxs("div",{className:"text-gray-400",children:["Ch ",i]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"text-sm font-mono text-gray-200 bg-gray-800/50 px-2 py-1 rounded",children:r.currentValue}),a.jsx("button",{onClick:d,className:"text-gray-400 hover:text-gray-200 p-1 transition-colors",title:"Reset to initial value",children:a.jsx(fb,{className:"w-3 h-3"})})]})]}),a.jsxs("div",{className:"px-1",children:[a.jsx("input",{ref:o,type:"range",min:"0",max:"127",value:r.currentValue,onChange:m,className:"w-full h-2 rounded-lg appearance-none cursor-pointer slider-emerald",style:{background:r.currentValue===0?"#374151":`linear-gradient(to right, #10b981 0%, #10b981 ${r.currentValue/127*100}%, #374151 ${r.currentValue/127*100}%, #374151 100%)`},onMouseDown:v=>v.stopPropagation(),onMouseMove:v=>v.stopPropagation(),onMouseUp:v=>v.stopPropagation()}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[a.jsx("span",{children:"0"}),a.jsx("span",{children:"64"}),a.jsx("span",{children:"127"})]})]})]})}};Mn.title="CC Generator",Mn.icon="mixer",Mn.description="Generate MIDI Control Change messages with configurable CC number and channel",Mn.width=280,Mn.height=160,Mn.color="emerald",Mn.portConfig={inputs:[],outputs:[{name:"midi_out",label:"MIDI Out"}]};let lu=Mn;const E0=Object.freeze(Object.defineProperty({__proto__:null,ControlChangeGeneratorBlock:lu},Symbol.toStringTag,{value:"Module"}));function uo({value:e,onValueChange:t,min:n,max:r,step:o=1,className:s,disabled:i=!1}){const l=f.useRef(null),[c,u]=f.useState(null),[p,m]=f.useState(0),[d,y]=f.useState(e),v=f.useRef(e);f.useEffect(()=>{const[N,j]=e,[A,R]=v.current,z=[60,64,63],O=z.includes(N)&&A<=30,U=z.includes(j)&&R>=90,D=N>40&&A<=20,M=j<80&&R>=100;O||U||D||M||N<n||N>r||j<n||j>r||N>j?(y(v.current),t(v.current)):(y(e),v.current=e)},[e,n,r,t]);const[h,C]=d,x=f.useCallback(N=>{if(!l.current)return n;const j=l.current.getBoundingClientRect();let A=(N-j.left)/j.width;A<=.005&&(A=0),A>=.995&&(A=1),A=Math.max(0,Math.min(1,A));const R=n+A*(r-n);let z=Math.round(R/o)*o;return A===0&&(z=n),A===1&&(z=r),z>=r-.5&&(z=r),z<=n+.5&&(z=n),Math.max(n,Math.min(r,z))},[n,r,o]),g=f.useCallback((N,j)=>{var O;if(i)return;j.preventDefault(),u(N);const A=N==="min"?h:C,R=x(j.clientX),z=A-R;m(z),(O=l.current)==null||O.getBoundingClientRect()},[i,h,C,x]),w=f.useCallback(N=>{if(!c||!l.current)return;N.preventDefault(),l.current.getBoundingClientRect();let j=h,A=C;if(c==="min"){const O=x(N.clientX)+p,U=Math.max(n,Math.min(r,O));(U===60||U===64)&&h<=30?j=h:j=Math.min(U,C)}else if(c==="max"){const O=x(N.clientX)+p,U=Math.max(n,Math.min(r,O));(U===60||U===64)&&C>=90?A=C:A=Math.max(U,h)}j===60&&h<30&&(j=h),A===60&&C>90&&(A=C);const R=[j,A];y(R),v.current=R;const z=[R[0]===60&&h<30?h:R[0],R[1]===60&&C>90?C:R[1]];t(z)},[c,p,x,n,r,h,C,t]),b=f.useCallback(()=>{u(null),m(0)},[c]);f.useEffect(()=>{if(c)return document.addEventListener("mousemove",w),document.addEventListener("mouseup",b),()=>{document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",b)}},[c,w,b]);const P=(h-n)/(r-n)*100,S=(C-n)/(r-n)*100;return a.jsxs("div",{className:me("relative flex w-full touch-none select-none items-center",s),children:[a.jsx("div",{ref:l,className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary cursor-pointer",onClick:N=>{N.preventDefault(),N.stopPropagation()},children:a.jsx("div",{className:"absolute h-full bg-primary",style:{left:`${P}%`,width:`${S-P}%`}})}),a.jsx("div",{className:me("absolute block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",i?"opacity-50 cursor-not-allowed":"cursor-pointer hover:scale-110",c==="min"&&"scale-110 ring-2 ring-ring ring-offset-2"),style:{left:`calc(${P}% - 10px)`},onMouseDown:N=>g("min",N),tabIndex:i?-1:0,role:"slider","aria-valuemin":n,"aria-valuemax":C,"aria-valuenow":h,"aria-label":"Minimum value",onKeyDown:N=>{if(i)return;let j=h;if(N.key==="ArrowLeft"||N.key==="ArrowDown")j=Math.max(n,h-o);else if(N.key==="ArrowRight"||N.key==="ArrowUp")j=Math.min(C,h+o);else if(N.key==="Home")j=n;else if(N.key==="End")j=C;else return;N.preventDefault(),t([j,C])}}),a.jsx("div",{className:me("absolute block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",i?"opacity-50 cursor-not-allowed":"cursor-pointer hover:scale-110",c==="max"&&"scale-110 ring-2 ring-ring ring-offset-2"),style:{left:`calc(${S}% - 10px)`},onMouseDown:N=>g("max",N),tabIndex:i?-1:0,role:"slider","aria-valuemin":h,"aria-valuemax":r,"aria-valuenow":C,"aria-label":"Maximum value",onKeyDown:N=>{if(i)return;let j=C;if(N.key==="ArrowLeft"||N.key==="ArrowDown")j=Math.max(h,C-o);else if(N.key==="ArrowRight"||N.key==="ArrowUp")j=Math.min(r,C+o);else if(N.key==="Home")j=h;else if(N.key==="End")j=r;else return;N.preventDefault(),t([h,j])}})]})}const En=class En extends ge{static getDefaultConfig(){return{inputChannel:-1,inputCC:1,outputChannel:-2,outputCC:1,inputMin:0,inputMax:127,outputMin:0,outputMax:127}}static renderHeaderButtons(t,n){var C,x;const[r,o]=f.useState(!1),[,s]=f.useState({}),[i,l]=f.useState(""),[c,u]=f.useState(""),p=t.config.inputChannel??-1,m=t.config.inputCC||1,d=t.config.outputChannel||1,y=t.config.outputCC||1;t.config.scale,t.config.offset;const v=Ro(i),h=Ro(c);return a.jsxs(Yt,{open:r,onOpenChange:g=>{o(g),ge.setConfigModalOpen(g)},children:[a.jsx(Gt,{asChild:!0,children:a.jsx("button",{className:"text-gray-400 hover:text-gray-200 text-xs transition-colors p-2 -m-2 touch-manipulation",onClick:g=>g.stopPropagation(),onTouchStart:g=>g.stopPropagation(),onTouchEnd:g=>g.stopPropagation(),style:{touchAction:"manipulation"},children:a.jsx(Kt,{className:"w-3 h-3"})})}),a.jsxs(_t,{className:"glass-panel border border-white/20 backdrop-blur-xl bg-gray-700/60 max-w-lg",onInteractOutside:g=>g.preventDefault(),onMouseDown:g=>g.stopPropagation(),onMouseMove:g=>g.stopPropagation(),onMouseUp:g=>g.stopPropagation(),onTouchStart:g=>g.stopPropagation(),onTouchMove:g=>g.stopPropagation(),onTouchEnd:g=>g.stopPropagation(),children:[a.jsxs(At,{children:[a.jsx(Lt,{className:"text-gray-100",children:"CC Tool Configuration"}),a.jsx(Za,{className:"text-gray-400",children:"Configure input/output channels, CC numbers, and transformation parameters for this block."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(le,{className:"text-sm text-gray-300 mb-2 block",children:"Input Channel"}),a.jsxs(Je,{value:String(p),onValueChange:g=>{const w=g==="-1"?-1:parseInt(g);t.config.inputChannel=w,n==null||n({inputChannel:w}),s({})},children:[a.jsx(Ke,{className:"bg-gray-800/50 border-white/20 backdrop-blur-sm",children:a.jsx(et,{})}),a.jsxs(Ye,{children:[a.jsx(Ce,{value:"-1",children:"Any Channel"}),Array.from({length:16},(g,w)=>w+1).map(g=>a.jsxs(Ce,{value:String(g),children:["Channel ",g]},g))]})]})]}),a.jsxs("div",{children:[a.jsx(le,{className:"text-sm text-gray-300 mb-2 block",children:"Output Channel"}),a.jsxs(Je,{value:String(d),onValueChange:g=>{const w=g==="-2"?-2:parseInt(g);t.config.outputChannel=w,n==null||n({outputChannel:w}),s({})},children:[a.jsx(Ke,{className:"bg-gray-800/50 border-white/20 backdrop-blur-sm",children:a.jsx(et,{})}),a.jsxs(Ye,{children:[a.jsx(Ce,{value:"-2",children:"Same Channel"}),Array.from({length:16},(g,w)=>w+1).map(g=>a.jsxs(Ce,{value:String(g),children:["Channel ",g]},g))]})]})]})]}),a.jsxs("div",{children:[a.jsx(le,{className:"text-sm text-gray-300 mb-2 block",children:"Input CC Number"}),a.jsxs("div",{className:"space-y-2 relative",children:[a.jsx(qe,{placeholder:"Search input CC numbers...",value:i,onChange:g=>{l(g.target.value)},onKeyDown:g=>{g.stopPropagation(),g.key==="Escape"&&l("")},className:"bg-gray-800/50 border-white/20 backdrop-blur-sm text-sm"}),i&&v.length>0&&a.jsx("div",{className:"absolute top-full left-0 right-0 z-50 bg-gray-800 border border-white/20 rounded-md shadow-lg max-h-48 overflow-y-auto",children:v.map(g=>a.jsxs("div",{className:"px-3 py-2 hover:bg-gray-700 cursor-pointer text-xs flex items-center justify-between",onClick:()=>{t.config.inputCC=g.number,n==null||n({inputCC:g.number}),l(""),s({})},children:[a.jsx("span",{className:"font-mono",children:g.number.toString().padStart(3,"0")}),a.jsx("span",{className:"ml-2",children:g.name})]},g.number))}),a.jsx("div",{className:"bg-gray-700/50 border border-white/10 rounded px-3 py-2 text-sm",children:a.jsxs("span",{className:"text-gray-300 font-medium",children:["CC ",m.toString().padStart(3,"0"),a.jsxs("span",{className:"ml-2 text-gray-400 text-xs",children:["(",((C=ct[m])==null?void 0:C.name)||"Unknown",")"]})]})})]})]}),a.jsxs("div",{children:[a.jsx(le,{className:"text-sm text-gray-300 mb-2 block",children:"Output CC Number"}),a.jsxs("div",{className:"space-y-2 relative",children:[a.jsx(qe,{placeholder:"Search output CC numbers...",value:c,onChange:g=>{u(g.target.value)},onKeyDown:g=>{g.stopPropagation(),g.key==="Escape"&&u("")},className:"bg-gray-800/50 border-white/20 backdrop-blur-sm text-sm"}),c&&h.length>0&&a.jsx("div",{className:"absolute top-full left-0 right-0 z-50 bg-gray-800 border border-white/20 rounded-md shadow-lg max-h-48 overflow-y-auto",children:h.map(g=>a.jsxs("div",{className:"px-3 py-2 hover:bg-gray-700 cursor-pointer text-xs flex items-center justify-between",onClick:()=>{t.config.outputCC=g.number,n==null||n({outputCC:g.number}),u(""),s({})},children:[a.jsx("span",{className:"font-mono",children:g.number.toString().padStart(3,"0")}),a.jsx("span",{className:"ml-2",children:g.name})]},g.number))}),a.jsx("div",{className:"bg-gray-700/50 border border-white/10 rounded px-3 py-2 text-sm",children:a.jsxs("span",{className:"text-gray-300 font-medium",children:["CC ",y.toString().padStart(3,"0"),a.jsxs("span",{className:"ml-2 text-gray-400 text-xs",children:["(",((x=ct[y])==null?void 0:x.name)||"Unknown",")"]})]})})]})]}),a.jsxs("div",{children:[a.jsx(le,{className:"text-sm text-gray-300 mb-3 block",children:"Input Range"}),a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs text-gray-400",children:"Min"}),a.jsx("div",{className:"text-sm font-mono text-purple-300 font-semibold",children:t.config.inputMin??0})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs text-gray-400",children:"Max"}),a.jsx("div",{className:"text-sm font-mono text-purple-300 font-semibold",children:t.config.inputMax??127})]})]}),a.jsx("div",{className:"px-2",children:a.jsx(uo,{value:[t.config.inputMin??0,t.config.inputMax??127],onValueChange:g=>{const[w,b]=g;t.config.inputMin=w,t.config.inputMax=b,n==null||n({inputMin:w,inputMax:b})},min:0,max:127,step:1,className:"w-full"})})]}),a.jsxs("div",{children:[a.jsx(le,{className:"text-sm text-gray-300 mb-3 block",children:"Output Range"}),a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs text-gray-400",children:"Min"}),a.jsx("div",{className:"text-sm font-mono text-purple-300 font-semibold",children:t.config.outputMin??0})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs text-gray-400",children:"Max"}),a.jsx("div",{className:"text-sm font-mono text-purple-300 font-semibold",children:t.config.outputMax??127})]})]}),a.jsx("div",{className:"px-2",children:a.jsx(uo,{value:[t.config.outputMin??0,t.config.outputMax??127],onValueChange:g=>{const[w,b]=g;t.config.outputMin=w,t.config.outputMax=b,n==null||n({outputMin:w,outputMax:b})},min:0,max:127,step:1,className:"w-full"})})]}),a.jsx("div",{className:"flex justify-end pt-3 border-t border-white/10",children:a.jsx("button",{onClick:()=>o(!1),className:"px-4 py-1.5 text-sm bg-purple-500 hover:bg-purple-600 text-white rounded transition-colors font-medium",children:"OK"})})]})]})]})}processMidiMessage(t,n){var A,R,z,O,U,D,M,B;const r=this.useInstanceData({lastInputValue:-1,lastOutputValue:-1,lastProcessTime:0,messageCount:0,blockConfig:null}),o=Le.parseMidiMessage(t.data);if(o.type!=="controlChange"||o.dataBytes.length<2)return null;const s=(o.status&15)+1,i=o.dataBytes[0],l=o.dataBytes[1],c=((A=r.blockConfig)==null?void 0:A.inputChannel)??-1,u=((R=r.blockConfig)==null?void 0:R.inputCC)||1,p=((z=r.blockConfig)==null?void 0:z.outputChannel)||1,m=((O=r.blockConfig)==null?void 0:O.outputCC)||1,d=((U=r.blockConfig)==null?void 0:U.inputMin)??0,y=((D=r.blockConfig)==null?void 0:D.inputMax)??127,v=((M=r.blockConfig)==null?void 0:M.outputMin)??0,h=((B=r.blockConfig)==null?void 0:B.outputMax)??127;if(!(c===-1||s===c)||!(i===u)||l<d||l>y)return null;const g=y-d,w=h-v,b=(l-d)/g,P=v+b*w,S=Math.max(0,Math.min(127,Math.round(P)));r.lastInputValue=l,r.lastOutputValue=S,r.lastProcessTime=Date.now(),r.messageCount++;const N=p===-2?s:p;return{message:{data:new Uint8Array([176|N-1,m,S]),timestamp:t.timestamp},targetPorts:["midi_out"]}}renderContent(t,n){var g,w;const r=this.useInstanceData({lastInputValue:-1,lastOutputValue:-1,lastProcessTime:0,messageCount:0,blockConfig:null}),[,o]=f.useState({});r.blockConfig=t.config;const s=t.config.inputChannel??-1,i=t.config.inputCC||1,l=t.config.outputChannel||1,c=t.config.outputCC||1,u=t.config.inputMin??0,p=t.config.inputMax??127,m=t.config.outputMin??0,d=t.config.outputMax??127,y=((g=ct[i])==null?void 0:g.name)||`CC ${i}`,v=((w=ct[c])==null?void 0:w.name)||`CC ${c}`,h=r.lastProcessTime>0?(Date.now()-r.lastProcessTime)/1e3:null,C=r.lastInputValue>=0?r.lastInputValue:Math.floor((u+p)/2);let x;if(C>=u&&C<=p){const b=p-u,P=d-m,S=(C-u)/b,N=m+S*P;x=Math.max(0,Math.min(127,Math.round(N)))}else x=-1;return a.jsxs("div",{className:"space-y-2 h-full flex flex-col",onMouseDown:b=>b.stopPropagation(),children:[a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"text-xs text-gray-300 mb-1",children:[y," ",s===-1?"(Any Ch)":`Ch${s}`,"  ",v," ",l===-2?"(Same Channel)":`Ch${l}`]})}),a.jsxs("div",{className:"bg-gray-800/20 rounded p-2",children:[a.jsxs("div",{className:"text-xs text-gray-300 mb-1",children:["Input Range: ",u," - ",p]}),a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs text-gray-400",children:"Min"}),a.jsx("div",{className:"text-sm font-mono text-purple-300 font-semibold",children:u})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs text-gray-400",children:"Max"}),a.jsx("div",{className:"text-sm font-mono text-purple-300 font-semibold",children:p})]})]}),a.jsx("div",{className:"px-2",children:a.jsx(uo,{value:[u,p],onValueChange:b=>{const[P,S]=b;t.config.inputMin=P,t.config.inputMax=S,o({})},min:0,max:127,step:1,className:"w-full"})})]}),a.jsxs("div",{className:"bg-gray-800/20 rounded p-2",children:[a.jsxs("div",{className:"text-xs text-gray-300 mb-1",children:["Output Range: ",m," - ",d]}),a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs text-gray-400",children:"Min"}),a.jsx("div",{className:"text-sm font-mono text-purple-300 font-semibold",children:m})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs text-gray-400",children:"Max"}),a.jsx("div",{className:"text-sm font-mono text-purple-300 font-semibold",children:d})]})]}),a.jsx("div",{className:"px-2",children:a.jsx(uo,{value:[m,d],onValueChange:b=>{const[P,S]=b;t.config.outputMin=P,t.config.outputMax=S,o({})},min:0,max:127,step:1,className:"w-full"})})]}),a.jsx("div",{className:"bg-gray-800/30 rounded p-2 flex-1 flex flex-col justify-center",children:r.lastProcessTime>0?a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-sm font-mono text-purple-300 mb-1",children:[r.lastInputValue,"  ",r.lastOutputValue]}),a.jsx("div",{className:"text-xs text-gray-400",children:h!==null&&h<10?`${h.toFixed(1)}s ago`:`${r.messageCount} processed`})]}):a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-sm font-mono text-purple-200 mb-1",children:["Preview: ",C,"  ",x]}),a.jsx("div",{className:"text-xs text-gray-400",children:"Waiting for CC messages..."})]})})]})}};En.title="CC Tool",En.icon="filter",En.description="Transform MIDI Control Change messages with scale and offset",En.width=280,En.height=260,En.color="purple",En.portConfig={inputs:[{name:"midi_in",label:"MIDI In"}],outputs:[{name:"midi_out",label:"MIDI Out"}]};let cu=En;const T0=Object.freeze(Object.defineProperty({__proto__:null,ControlChangeToolBlock:cu},Symbol.toStringTag,{value:"Module"})),gn=class gn extends ge{static getDefaultConfig(){return{inputChannel:-1,inputCC:-1,outputChannel:-2,outputCC:-1,cutoffFreq:2,processRate:60,threshold:1,smoothing:.5}}static renderHeaderButtons(t,n){var b,P;const[r,o]=f.useState(!1),[s,i]=f.useState(""),[l,c]=f.useState(""),[u,p]=f.useState(0);f.useState(!1),f.useState(!1);const m=t.config.inputChannel??-1,d=t.config.inputCC??-1,y=t.config.outputChannel??-2,v=t.config.outputCC??-1,h=t.config.cutoffFreq??2,C=t.config.processRate??60,x=t.config.smoothing??.5,g=Ro(s),w=Ro(l);return console.log("Filtering with:",{inputCcSearchValue:s,outputCcSearchValue:l}),console.log("Results:",{inputCount:g.length,outputCount:w.length}),a.jsxs(Yt,{open:r,onOpenChange:S=>{o(S),ge.setConfigModalOpen(S)},children:[a.jsx(Gt,{asChild:!0,children:a.jsx("button",{className:"text-gray-400 hover:text-gray-200 text-xs transition-colors p-2 -m-2 touch-manipulation",onClick:S=>S.stopPropagation(),onTouchStart:S=>S.stopPropagation(),onTouchEnd:S=>S.stopPropagation(),style:{touchAction:"manipulation"},children:a.jsx(Kt,{className:"w-3 h-3"})})}),a.jsxs(_t,{className:"glass-panel border border-white/20 backdrop-blur-xl bg-gray-700/60 max-w-md",onInteractOutside:S=>S.preventDefault(),onMouseDown:S=>S.stopPropagation(),onMouseMove:S=>S.stopPropagation(),onMouseUp:S=>S.stopPropagation(),onTouchStart:S=>S.stopPropagation(),onTouchMove:S=>S.stopPropagation(),onTouchEnd:S=>S.stopPropagation(),children:[a.jsx(At,{children:a.jsx(Lt,{className:"text-gray-100",children:"Low Pass CC Filter Configuration"})}),a.jsxs("div",{className:"space-y-4 text-sm py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx(le,{className:"text-sm text-gray-300 mb-2 block",children:"Input Channel"}),a.jsxs(Je,{value:String(m),onValueChange:S=>{const N=S==="-1"?-1:parseInt(S);t.config.inputChannel=N,n==null||n({inputChannel:N})},children:[a.jsx(Ke,{className:"bg-gray-800/50 border-white/20 backdrop-blur-sm",children:a.jsx(et,{})}),a.jsxs(Ye,{children:[a.jsx(Ce,{value:"-1",children:"Any Channel"}),Array.from({length:16},(S,N)=>N+1).map(S=>a.jsxs(Ce,{value:String(S),children:["Channel ",S]},S))]})]})]}),a.jsxs("div",{children:[a.jsx(le,{className:"text-sm text-gray-300 mb-2 block",children:"Output Channel"}),a.jsxs(Je,{value:String(y),onValueChange:S=>{const N=S==="-2"?-2:parseInt(S);t.config.outputChannel=N,n==null||n({outputChannel:N})},children:[a.jsx(Ke,{className:"bg-gray-800/50 border-white/20 backdrop-blur-sm",children:a.jsx(et,{})}),a.jsxs(Ye,{children:[a.jsx(Ce,{value:"-2",children:"Same Channel"}),Array.from({length:16},(S,N)=>N+1).map(S=>a.jsxs(Ce,{value:String(S),children:["Channel ",S]},S))]})]})]})]}),a.jsxs("div",{children:[a.jsx(le,{className:"text-sm text-gray-300 mb-2 block",children:"Input CC Number"}),a.jsxs("div",{className:"space-y-2 relative",children:[a.jsx(qe,{placeholder:"Search input CC numbers...",value:s,onChange:S=>{console.log("Input CC search changed:",S.target.value),i(S.target.value),p(N=>N+1)},onKeyDown:S=>{console.log("Key pressed:",S.key),S.stopPropagation(),S.key==="Escape"&&i("")},className:"bg-gray-800/50 border-white/20 backdrop-blur-sm text-sm"}),s&&g.length>0&&a.jsxs("div",{className:"absolute top-full left-0 right-0 z-50 bg-gray-800 border border-white/20 rounded-md shadow-lg max-h-48 overflow-y-auto",children:[a.jsx("div",{className:"px-3 py-2 text-xs hover:bg-gray-700 cursor-pointer border-b border-white/10",onClick:()=>{t.config.inputCC=-1,n==null||n({inputCC:-1}),i("")},children:"Any CC"}),g.map(S=>a.jsxs("div",{className:"px-3 py-2 hover:bg-gray-700 cursor-pointer text-xs flex items-center justify-between",onClick:()=>{t.config.inputCC=S.number,n==null||n({inputCC:S.number}),i("")},children:[a.jsx("span",{className:"font-mono",children:S.number.toString().padStart(3,"0")}),a.jsx("span",{className:"ml-2",children:S.name})]},S.number))]}),a.jsx("div",{className:"bg-gray-700/50 border border-white/10 rounded px-3 py-2 text-sm",children:a.jsxs("span",{className:"text-gray-300 font-medium",children:[d===-1?"Any CC":`CC ${d.toString().padStart(3,"0")}`,d!==-1&&a.jsxs("span",{className:"ml-2 text-gray-400 text-xs",children:["(",((b=ct[d])==null?void 0:b.name)||"Unknown",")"]})]})})]})]}),a.jsxs("div",{children:[a.jsx(le,{className:"text-sm text-gray-300 mb-2 block",children:"Output CC Number"}),a.jsxs("div",{className:"space-y-2 relative",children:[a.jsx(qe,{placeholder:"Search output CC numbers...",value:l,onChange:S=>{c(S.target.value),p(N=>N+1)},onKeyDown:S=>{S.stopPropagation(),S.key==="Escape"&&c("")},className:"bg-gray-800/50 border-white/20 backdrop-blur-sm text-sm"}),l&&w.length>0&&a.jsxs("div",{className:"absolute top-full left-0 right-0 z-50 bg-gray-800 border border-white/20 rounded-md shadow-lg max-h-48 overflow-y-auto",children:[a.jsx("div",{className:"px-3 py-2 text-xs hover:bg-gray-700 cursor-pointer border-b border-white/10",onClick:()=>{t.config.outputCC=-1,n==null||n({outputCC:-1}),c("")},children:"Same CC"}),w.map(S=>a.jsxs("div",{className:"px-3 py-2 hover:bg-gray-700 cursor-pointer text-xs flex items-center justify-between",onClick:()=>{t.config.outputCC=S.number,n==null||n({outputCC:S.number}),c("")},children:[a.jsx("span",{className:"font-mono",children:S.number.toString().padStart(3,"0")}),a.jsx("span",{className:"ml-2",children:S.name})]},S.number))]}),a.jsx("div",{className:"bg-gray-700/50 border border-white/10 rounded px-3 py-2 text-sm",children:a.jsxs("span",{className:"text-gray-300 font-medium",children:[v===-1?"Same CC":`CC ${v.toString().padStart(3,"0")}`,v!==-1&&a.jsxs("span",{className:"ml-2 text-gray-400 text-xs",children:["(",((P=ct[v])==null?void 0:P.name)||"Unknown",")"]})]})})]})]}),a.jsxs("div",{className:"space-y-4 border-t border-white/10 pt-4",children:[a.jsxs("div",{children:[a.jsxs(le,{className:"text-sm text-gray-300 mb-2 block",children:["Cutoff Frequency: ",h.toFixed(1)," Hz"]}),a.jsx(gs,{value:[h],onValueChange:S=>{const N=S[0];t.config.cutoffFreq=N,n==null||n({cutoffFreq:N})},min:.1,max:60,step:.1,className:"w-full"})]}),a.jsxs("div",{children:[a.jsxs(le,{className:"text-sm text-gray-300 mb-2 block",children:["Processing Rate: ",C," Hz"]}),a.jsx(gs,{value:[C],onValueChange:S=>{const N=S[0];t.config.processRate=N,n==null||n({processRate:N})},min:10,max:120,step:5,className:"w-full"})]}),a.jsxs("div",{children:[a.jsxs(le,{className:"text-sm text-gray-300 mb-2 block",children:["Smoothing: ",Math.round(x*100),"%"]}),a.jsx(gs,{value:[x],onValueChange:S=>{const N=S[0];t.config.smoothing=N,n==null||n({smoothing:N})},min:0,max:1,step:.01,className:"w-full"})]})]}),a.jsx("div",{className:"flex justify-end pt-3 border-t border-white/10",children:a.jsx("button",{onClick:()=>o(!1),className:"px-4 py-1.5 text-sm bg-blue-500 hover:bg-blue-600 text-white rounded transition-colors font-medium",children:"OK"})})]})]})]})}processContinuousFilter(t){if(!t.hasReceivedInput||t.lastInputValue<0)return;const n=t.blockConfig,r=(n==null?void 0:n.cutoffFreq)??2,o=(n==null?void 0:n.smoothing)??.5,s=1,i=(n==null?void 0:n.processRate)??60,l=1/i,c=1/(2*Math.PI*r),p=l/(c+l)*(1-o);t.filterState=t.filterState+p*(t.lastInputValue-t.filterState);const m=Math.round(t.filterState);if(Math.abs(m-t.lastOutputValue)>=s){t.filteredValue=m,t.lastOutputValue=m,t.lastProcessTime=Date.now();const d=(n==null?void 0:n.outputChannel)??-2,y=(n==null?void 0:n.outputCC)??-1,v=d===-2?t.actualInputChannel!==-1?t.actualInputChannel:1:d,h=y===-1?t.actualInputCC!==-1?t.actualInputCC:1:y,x={data:new Uint8Array([176|v-1,h,Math.max(0,Math.min(127,m))]),timestamp:Date.now()},g=t.actualBlockId||(n==null?void 0:n.id)||"lowpass-filter",w=`${g}-midi_out`;console.log(`Low Pass Filter: ${t.lastInputValue}  ${m} (${i}Hz) [MIDI OUT] - Routing from ${g}:${w}`),new gn().emitMidiMessage(g,w,x)}}processMidiMessage(t,n){var w,b,P,S,N,j,A,R;const r=this.useInstanceData({lastInputValue:-1,filteredValue:0,lastOutputValue:-1,lastProcessTime:0,messageCount:0,blockConfig:null,filterState:0,lastInputTime:0,hasReceivedInput:!1,timerActive:!1,actualInputChannel:-1,actualInputCC:-1,actualBlockId:null}),o=Le.parseMidiMessage(t.data);if(o.type!=="controlChange"||o.dataBytes.length<2)return null;const s=(o.status&15)+1,i=o.dataBytes[0],l=o.dataBytes[1],c=((w=r.blockConfig)==null?void 0:w.inputChannel)??-1,u=((b=r.blockConfig)==null?void 0:b.inputCC)??-1,p=((P=r.blockConfig)==null?void 0:P.outputChannel)??-2,m=((S=r.blockConfig)==null?void 0:S.outputCC)??-1;if(c!==-1&&s!==c||u!==-1&&i!==u)return null;if(r.actualInputChannel=s,r.actualInputCC=i,r.lastInputValue=l,r.lastInputTime=Date.now(),r.messageCount++,!r.hasReceivedInput){r.hasReceivedInput=!0,r.timerActive=!0;const z=((N=r.blockConfig)==null?void 0:N.processRate)??60;this.intervalId&&clearInterval(this.intervalId),this.intervalId=setInterval(()=>{this.processContinuousFilter.call(this,r)},1e3/z)}r.filteredValue===0&&r.messageCount===1&&(r.filteredValue=l,r.filterState=l);const d=((j=r.blockConfig)==null?void 0:j.cutoffFreq)??2,y=((A=r.blockConfig)==null?void 0:A.smoothing)??.5,v=1/(((R=r.blockConfig)==null?void 0:R.processRate)??60),h=1/(2*Math.PI*d),x=v/(h+v)*(1-y);if(r.filterState=r.filterState+x*(l-r.filterState),r.filteredValue=Math.round(r.filterState),Math.abs(r.filteredValue-r.lastOutputValue)>=1){r.lastOutputValue=r.filteredValue,r.lastProcessTime=Date.now();const z=p===-2?s:p,O=m===-1?i:m;return{message:{data:new Uint8Array([176|z-1,O,Math.max(0,Math.min(127,r.filteredValue))]),timestamp:t.timestamp},targetPorts:["midi_out"]}}return null}renderContent(t,n){var h,C;const r=this.useInstanceData({lastInputValue:-1,filteredValue:0,lastOutputValue:-1,lastProcessTime:0,messageCount:0,blockConfig:null,filterState:0,lastInputTime:0,hasReceivedInput:!1,timerActive:!1,actualInputChannel:-1,actualInputCC:-1,actualBlockId:null});f.useState({}),r.blockConfig=t.config,r.actualBlockId=t.id;const o=t.config.inputChannel??-1,s=t.config.inputCC??-1,i=t.config.outputChannel??-2,l=t.config.outputCC??-1,c=t.config.cutoffFreq??2,u=t.config.processRate??60,p=t.config.smoothing??.5,m=s===-1?"Any CC":((h=ct[s])==null?void 0:h.name)||`CC ${s}`,d=l===-1?"Same CC":((C=ct[l])==null?void 0:C.name)||`CC ${l}`,y=r.lastInputTime>0?(Date.now()-r.lastInputTime)/1e3:null,v=r.lastProcessTime>0?(Date.now()-r.lastProcessTime)/1e3:null;return a.jsxs("div",{className:"space-y-2 h-full flex flex-col",onMouseDown:x=>x.stopPropagation(),children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-xs text-gray-300 mb-1",children:[m," ",o===-1?"(Any Ch)":`Ch${o}`,"  ",d," ",i===-2?"(Same Channel)":`Ch${i}`]}),a.jsxs("div",{className:"text-xs text-blue-400",children:[c.toFixed(1),"Hz LP  ",u,"Hz"]})]}),a.jsxs("div",{className:"bg-gray-800/20 rounded p-2 flex-1",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-gray-400 mb-1",children:"Input"}),a.jsx("div",{className:"text-lg font-mono text-blue-300",children:r.lastInputValue>=0?r.lastInputValue:"--"}),y!==null&&y<2&&a.jsxs("div",{className:"text-xs text-green-400 mt-1",children:[y.toFixed(1),"s ago"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-gray-400 mb-1",children:"Filtered"}),a.jsx("div",{className:"text-lg font-mono text-blue-300",children:r.filteredValue>=0?r.filteredValue:"--"}),v!==null&&v<2&&a.jsxs("div",{className:"text-xs text-green-400 mt-1",children:[v.toFixed(1),"s ago"]})]})]}),a.jsxs("div",{className:"mt-2",children:[a.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mb-1",children:[a.jsxs("span",{children:["Smoothing: ",Math.round(p*100),"%"]}),a.jsxs("span",{children:["Messages: ",r.messageCount]})]}),a.jsx("div",{className:"h-1 bg-gray-700 rounded overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-blue-600 to-blue-400 transition-all duration-300",style:{width:`${Math.max(0,Math.min(100,r.filteredValue/127*100))}%`}})})]})]})]})}};gn.title="CC Low Pass Filter",gn.icon="wave",gn.description="Low-pass filter for MIDI Control Change messages with configurable smoothing",gn.width=280,gn.height=200,gn.color="blue",gn.portConfig={inputs:[{name:"midi_in",label:"MIDI In"}],outputs:[{name:"midi_out",label:"MIDI Out"}]};let uu=gn;const D0=Object.freeze(Object.defineProperty({__proto__:null,LowPassCCFilterBlock:uu},Symbol.toStringTag,{value:"Module"}));function FP(e,t){const n=Date.now(),r={...e,lastUpdate:n};switch(t.type){case"NOTE_ON":{const o=new Map(e.activeNotes);return o.set(t.note,{velocity:t.velocity,source:t.source,timestamp:n}),{...r,activeNotes:o}}case"NOTE_OFF":{const o=new Map(e.activeNotes),s=o.get(t.note);return s&&(s.source===t.source||n-s.timestamp>5e3)&&o.delete(t.note),{...r,activeNotes:o}}case"KEY_PRESS":{const o=new Map(e.activeNotes),s=new Map(e.keyToNoteMap);return o.set(t.note,{velocity:t.velocity,source:"input",timestamp:n}),s.set(t.key,t.note),{...r,activeNotes:o,keyToNoteMap:s}}case"KEY_RELEASE":{const o=new Map(e.activeNotes),s=new Map(e.keyToNoteMap),i=e.keyToNoteMap.get(t.key);return i!==void 0&&(o.delete(i),s.delete(t.key)),{...r,activeNotes:o,keyToNoteMap:s}}case"RELEASE_ALL_NOTES":return{...r,activeNotes:new Map};case"FOCUS_CHANGE":{const o=t.focused?"focused":"blurred",s=t.focused?e.activeNotes:new Map,i=t.focused?e.keyToNoteMap:new Map;return{...r,focusState:o,activeNotes:s,keyToNoteMap:i}}case"EMERGENCY_CLEANUP":return{...r,activeNotes:new Map,keyToNoteMap:new Map,pendingActions:[]};case"PERIODIC_CLEANUP":{const o=new Map;return Array.from(e.activeNotes.entries()).forEach(([s,i])=>{n-i.timestamp<1e4&&o.set(s,i)}),{...r,activeNotes:o}}case"PROCESS_QUEUE":{let o={...r};for(const s of e.pendingActions)if(s.type==="noteOn"&&s.note!==void 0){const i=new Map(o.activeNotes);i.set(s.note,{velocity:s.velocity||100,source:s.source||"input",timestamp:s.timestamp}),o={...o,activeNotes:i}}else if(s.type==="noteOff"&&s.note!==void 0){const i=new Map(o.activeNotes);i.delete(s.note),o={...o,activeNotes:i}}return{...o,pendingActions:[]}}default:return e}}const Jt=class Jt extends ge{static calculateBlockWidth(t){var c;const n=((c=t==null?void 0:t.config)==null?void 0:c.keyCount)||49,r=17,o=n<=25?60:n<=49?36:n<=88?21:0,s=Math.min(127,o+n);return Array.from({length:s-o},(u,p)=>o+p).filter(u=>![1,3,6,8,10].includes(u%12)).length*r+40}static getDefaultConfig(){return{keyCount:49,highlightColor:"blue",viewColor:"green",viewChannel:-1,generateChannel:0,octaveOffset:0}}static renderHeaderButtons(t,n){const[r,o]=f.useState(!1),[,s]=f.useState({}),i=t.config.viewColor||"green",l=t.config.highlightColor||"blue",c={blue:"#3b82f6",red:"#ef4444",green:"#22c55e",yellow:"#eab308",purple:"#a855f7",orange:"#f97316",cyan:"#06b6d4"};return a.jsxs(Yt,{open:r,onOpenChange:u=>{o(u),ge.setConfigModalOpen(u)},children:[a.jsx(Gt,{asChild:!0,children:a.jsx("button",{className:"text-gray-400 hover:text-gray-200 text-xs transition-colors p-2 -m-2 touch-manipulation",onClick:u=>u.stopPropagation(),onTouchStart:u=>u.stopPropagation(),onTouchEnd:u=>u.stopPropagation(),style:{touchAction:"manipulation"},children:a.jsx(Kt,{className:"w-3 h-3"})})}),a.jsxs(_t,{className:"glass-panel border border-white/20 backdrop-blur-xl bg-gray-700/60",onInteractOutside:u=>u.preventDefault(),onMouseDown:u=>u.stopPropagation(),onMouseMove:u=>u.stopPropagation(),onMouseUp:u=>u.stopPropagation(),onTouchStart:u=>u.stopPropagation(),onTouchMove:u=>u.stopPropagation(),onTouchEnd:u=>u.stopPropagation(),children:[a.jsx(At,{children:a.jsx(Lt,{className:"text-gray-100",children:"Keyboard Configuration"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(le,{className:"text-sm text-gray-300 mb-2 block",children:"Notes From MIDI"}),a.jsxs(Je,{value:i,onValueChange:u=>{t.config.viewColor=u,n==null||n({viewColor:u}),s({})},children:[a.jsx(Ke,{className:"bg-gray-800/50 border-white/20 backdrop-blur-sm",children:a.jsx(et,{})}),a.jsx(Ye,{children:Object.keys(c).map(u=>a.jsx(Ce,{value:u,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded border",style:{backgroundColor:c[u]}}),u]})},u))})]})]}),a.jsxs("div",{children:[a.jsx(le,{className:"text-sm text-gray-300 mb-2 block",children:"Notes from Input"}),a.jsxs(Je,{value:l,onValueChange:u=>{t.config.highlightColor=u,n==null||n({highlightColor:u}),s({})},children:[a.jsx(Ke,{className:"bg-gray-800/50 border-white/20 backdrop-blur-sm",children:a.jsx(et,{})}),a.jsx(Ye,{children:Object.keys(c).map(u=>a.jsx(Ce,{value:u,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded border",style:{backgroundColor:c[u]}}),u]})},u))})]})]})]}),a.jsxs("div",{children:[a.jsx(le,{className:"text-sm text-gray-300 mb-2 block",children:"Channel for Notes Generated"}),a.jsxs(Je,{value:String(t.config.inputChannel||1),onValueChange:u=>{var d;t.config.inputChannel=parseInt(u),n==null||n({inputChannel:parseInt(u)});const p=JSON.parse(localStorage.getItem("midi-router-canvas-state")||"{}"),m=(d=p.blocks)==null?void 0:d.findIndex(y=>y.id===t.id);m>=0&&(p.blocks[m].config.inputChannel=parseInt(u),localStorage.setItem("midi-router-canvas-state",JSON.stringify(p))),s({})},children:[a.jsx(Ke,{className:"bg-gray-800/50 border-white/20 backdrop-blur-sm",children:a.jsx(et,{})}),a.jsx(Ye,{children:Array.from({length:16},(u,p)=>p+1).map(u=>a.jsxs(Ce,{value:String(u),children:["Channel ",u]},u))})]})]}),a.jsxs("div",{className:"pt-4 border-t border-white/10",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-200 mb-3",children:"Keyboard Commands"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs text-gray-300",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-200 mb-2",children:"Note Playing"}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-mono bg-gray-800 px-1 rounded",children:"A-K"})," Play notes (QWERTY row)"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-mono bg-gray-800 px-1 rounded",children:"W,E,T,Y,U"})," Black keys"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-mono bg-gray-800 px-1 rounded",children:"Space"})," Sustain pedal"]})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-200 mb-2",children:"Controls"}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-mono bg-gray-800 px-1 rounded",children:"-"})," Octave down"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-mono bg-gray-800 px-1 rounded",children:"="})," Octave up"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-mono bg-gray-800 px-1 rounded",children:"["})," Fewer keys"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-mono bg-gray-800 px-1 rounded",children:"]"})," More keys"]})]})]})]})]}),a.jsx("div",{className:"flex justify-end pt-3 border-t border-white/10",children:a.jsx("button",{onClick:()=>o(!1),className:"px-4 py-1.5 text-sm bg-purple-500 hover:bg-purple-600 text-white rounded transition-colors font-medium",children:"OK"})})]})]})]})}processMidiMessage(t,n){const r=this.useInstanceData({atomicState:{activeNotes:new Map,keyToNoteMap:new Map,focusState:"blurred",lastUpdate:Date.now(),pendingActions:[]},stateDispatch:null,keyCount:49,highlightColor:"blue",viewColor:"green",viewChannel:0,generateChannel:0,octaveOffset:0,sustainPressed:!1,isSelected:!1,setVisualActiveNotes:null}),o=Le.parseMidiMessage(t.data);if((o.type==="noteOn"||o.type==="noteOff")&&o.dataBytes.length>=2){const s=o.status&15,i=o.dataBytes[0],l=o.dataBytes[1];(r.viewChannel===-1||s===r.viewChannel)&&r.stateDispatch&&(o.type==="noteOn"&&l>0?(r.stateDispatch({type:"NOTE_ON",note:i,velocity:l,source:"midi"}),r.setVisualActiveNotes&&r.setVisualActiveNotes(c=>{const u=new Map(c);return u.set(i,"midi"),u})):(r.stateDispatch({type:"NOTE_OFF",note:i,source:"midi"}),r.setVisualActiveNotes&&r.setVisualActiveNotes(c=>{const u=new Map(c);return u.delete(i),u})))}return{message:t,targetPorts:["midi_out"]}}renderContent(t,n){const[r,o]=f.useReducer(FP,{activeNotes:new Map,keyToNoteMap:new Map,focusState:"blurred",lastUpdate:Date.now(),pendingActions:[]}),[s,i]=f.useState(new Map),l=this.useInstanceData({keyCount:t.config.keyCount||49,highlightColor:t.config.highlightColor||"blue",viewColor:t.config.viewColor||"green",viewChannel:t.config.viewChannel!==void 0?t.config.viewChannel:-1,generateChannel:t.config.generateChannel||0,octaveOffset:t.config.octaveOffset||0,sustainPressed:!1,isSelected:!1,stateDispatch:o,setVisualActiveNotes:i}),c=f.useRef(null),u=f.useRef(null),p=f.useRef(!1),[m,d]=f.useState({keyCount:l.keyCount,highlightColor:l.highlightColor,viewColor:l.viewColor,viewChannel:l.viewChannel,generateChannel:l.generateChannel}),{keyCount:y,highlightColor:v,viewColor:h,viewChannel:C,generateChannel:x}=m,g=t.config.inputChannel||1,w=f.useCallback(_=>{d(F=>({...F,..._}))},[]);this.handleConfigChange=w;const b=f.useCallback(_=>{const F=`${t.id}-midi_out`;this.emitMidiMessage(t.id,F,{data:_,timestamp:Date.now()})},[t.id]);f.useEffect(()=>{const _=p.current,F=l.isSelected;_&&!F&&(Array.from(r.activeNotes.keys()).forEach($=>{b(new Uint8Array([128|g-1,$,0]))}),o({type:"EMERGENCY_CLEANUP"}),l.sustainPressed&&(l.sustainPressed=!1,b(new Uint8Array([176|g-1,64,0])))),p.current=F},[l.isSelected,r.activeNotes,b,g,o]);const P=f.useMemo(()=>{const F=60+l.octaveOffset*12,$=Math.min(127,F+y),V=Ne=>{const Ue=Ne%12;return[1,3,6,8,10].includes(Ue)},Q=Array.from({length:$-F},(Ne,Ue)=>F+Ue).filter(Ne=>!V(Ne)).length,ae=17,we=62,ye=40,Se=Q*ae,Xe=Se+40;return{startNote:F,endNote:$,actualWhiteKeyCount:Q,keyWidth:ae,whiteKeyHeight:we,blackKeyHeight:ye,actualKeyboardWidth:Se,finalBlockWidth:Xe,isBlackKey:V}},[y,l.octaveOffset]),S={blue:"#3b82f6",red:"#ef4444",green:"#22c55e",yellow:"#eab308",purple:"#a855f7",orange:"#f97316",pink:"#ec4899",cyan:"#06b6d4"},N=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],{startNote:j,endNote:A,keyWidth:R,whiteKeyHeight:z,blackKeyHeight:O,actualKeyboardWidth:U,finalBlockWidth:D,isBlackKey:M}=P,B=f.useMemo(()=>{const _=[],F=[];let $=0;for(let V=j;V<A;V++)if(!M(V)){const Q=$*R;_.push({note:V,x:Q}),$++}$=0;for(let V=j;V<A;V++){if(M(V)&&$>0){const Q=_[$-1];if(Q){const ae=Q.x+R-7;F.push({note:V,x:ae})}}M(V)||$++}return{whiteKeys:_,blackKeys:F}},[j,A,R,M]),{whiteKeys:E,blackKeys:k}=B,I=(_,F)=>{const $=s.get(_);if($){const V=$==="midi"?t.config.viewColor||"green":t.config.highlightColor||"blue";return(S[V]||S.blue)+Math.round(.8*255).toString(16).padStart(2,"0")}return F?"#374151":"#f3f4f6"},T=(_,F)=>{const $=s.get(_);if($){const V=$==="midi"?t.config.viewColor||"green":t.config.highlightColor||"blue";return S[V]||S.blue}return F?"#6b7280":"#d1d5db"},L={a:0,w:1,s:2,e:3,d:4,f:5,t:6,g:7,y:8,h:9,u:10,j:11,k:12,o:13,l:14,p:15,";":16,"'":17};f.useEffect(()=>{const _=setInterval(()=>{o({type:"PERIODIC_CLEANUP"})},5e3);return()=>clearInterval(_)},[o]),f.useEffect(()=>{const _=setInterval(()=>{o({type:"PROCESS_QUEUE"})},100);return()=>clearInterval(_)},[o]);const[K,J]=f.useState({isDragging:!1,currentKey:null,lastKey:null,startPosition:null}),Z=f.useCallback((_,F)=>{if(!u.current)return null;const $=u.current.getBoundingClientRect(),V=_-$.left,Q=F-$.top,ae=z;if(V<0||V>U||Q<0||Q>ae)return null;for(const{note:we,x:ye}of k){const Se=R-7;if(V>=ye&&V<=ye+Se&&Q<=O)return we}for(const{note:we,x:ye}of E)if(V>=ye&&V<=ye+R&&Q<=ae)return we;return null},[u,U,z,O,k,E,R]),ne=f.useCallback(_=>{o({type:"NOTE_ON",note:_,velocity:100,source:"input"}),b(new Uint8Array([144|g-1,_,100])),i(F=>{const $=new Map(F);return $.set(_,"input"),$})},[o,g,b]),ie=f.useCallback(_=>{o({type:"NOTE_OFF",note:_,source:"input"}),b(new Uint8Array([128|g-1,_,0])),i(F=>{const $=new Map(F);return $.delete(_),$})},[o,g,b]),G=f.useCallback(_=>{var $,V;const F=Z(_.clientX,_.clientY);F!==null?(($=c.current)==null||$.focus(),ne(F),J({isDragging:!0,currentKey:F,lastKey:F,startPosition:{x:_.clientX,y:_.clientY}})):((V=c.current)==null||V.focus(),J({isDragging:!1,currentKey:null,lastKey:null,startPosition:null}))},[Z,ne]),se=f.useCallback(_=>{if(!K.isDragging)return;_.stopPropagation();const F=Z(_.clientX,_.clientY);F!==K.currentKey&&(K.currentKey!==null&&ie(K.currentKey),F!==null&&ne(F),J($=>({...$,lastKey:$.currentKey,currentKey:F})))},[K.isDragging,K.currentKey,Z,ne,ie]),ke=f.useCallback(_=>{K.currentKey!==null&&ie(K.currentKey),J({isDragging:!1,currentKey:null,lastKey:null,startPosition:null})},[K.currentKey,ie]);return f.useEffect(()=>{const _=F=>{K.currentKey!==null&&ie(K.currentKey),J({isDragging:!1,currentKey:null,lastKey:null,startPosition:null})};if(K.isDragging)return document.addEventListener("mouseup",_),()=>document.removeEventListener("mouseup",_)},[K.isDragging,K.currentKey,ie]),f.useEffect(()=>{const _=$=>{if(!l.isSelected||!u.current)return;const V=$.key.toLowerCase();if(V==="-"){$.preventDefault(),l.octaveOffset=Math.max(-5,l.octaveOffset-1);return}if(V==="="){$.preventDefault(),l.octaveOffset=Math.min(5,l.octaveOffset+1);return}if(V==="["){$.preventDefault();const Q=Math.max(13,y-12);if(d(ae=>({...ae,keyCount:Q})),l.keyCount=Q,t.config.keyCount=Q,n){const ae=Jt.calculateBlockWidth({config:{keyCount:Q}});n({width:ae,height:t.height||220})}return}if(V==="]"){if($.preventDefault(),60+l.octaveOffset*12+y+12>127){const ye=Math.max(-5,l.octaveOffset-1);l.octaveOffset=ye,t.config.octaveOffset=ye;const Se=Math.min(127,y+12);d(Xe=>({...Xe,keyCount:Se})),l.keyCount=Se,t.config.keyCount=Se}else{const ye=Math.min(127,y+12);d(Se=>({...Se,keyCount:ye})),l.keyCount=ye,t.config.keyCount=ye}if(n){const ye=Jt.calculateBlockWidth({config:{keyCount:l.keyCount}});n({width:ye,height:t.height||220})}return}if(V===" "&&!l.sustainPressed){$.preventDefault(),l.sustainPressed=!0,b(new Uint8Array([176|g-1,64,127]));return}if(L[V]!==void 0&&!$.repeat){$.preventDefault();const Q=L[V],ae=j+Q;ae>=j&&ae<A&&(o({type:"KEY_PRESS",key:V,note:ae,velocity:100}),b(new Uint8Array([144|g-1,ae,100])),i(we=>{const ye=new Map(we);return ye.set(ae,"input"),ye}))}},F=$=>{if(!l.isSelected||!u.current)return;const V=$.key.toLowerCase();if(V===" "&&l.sustainPressed){$.preventDefault(),l.sustainPressed=!1,b(new Uint8Array([176|g-1,64,0]));return}if(L[V]!==void 0){$.preventDefault();const Q=r.keyToNoteMap.get(V);Q!==void 0&&(o({type:"KEY_RELEASE",key:V}),b(new Uint8Array([128|g-1,Q,0])),i(ae=>{const we=new Map(ae);return we.delete(Q),we}))}};return document.addEventListener("keydown",_),document.addEventListener("keyup",F),()=>{document.removeEventListener("keydown",_),document.removeEventListener("keyup",F)}},[l,g,b,j,A,y,n,t,o,L]),Fe.useEffect(()=>{n&&n({width:D,height:t.height||180})},[y,n,t.height]),a.jsxs("div",{ref:c,className:"space-y-1",tabIndex:0,onMouseDown:G,onMouseMove:se,onMouseUp:ke,onFocus:()=>{o({type:"FOCUS_CHANGE",focused:!0})},onBlur:()=>{o({type:"FOCUS_CHANGE",focused:!1})},style:{outline:"none",width:"100%",minWidth:U+10},children:[a.jsxs("div",{className:"text-xs text-gray-400 flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold text-gray-300",children:"Note:"})," ",r.activeNotes.size>0?Array.from(r.activeNotes.keys()).map(_=>N[_%12]+(Math.floor(_/12)-1)).join(", "):a.jsx("span",{className:"text-gray-500",children:"no active notes"})]})}),l.sustainPressed&&a.jsx("span",{className:"text-yellow-400 font-medium",children:"Sustain ON"})]}),a.jsx("div",{ref:u,className:"border border-gray-600 rounded cursor-pointer transition-colors hover:border-gray-500",style:{width:U,overflow:"visible"},onClick:()=>{var _;(_=c.current)==null||_.focus()},tabIndex:0,children:a.jsxs("svg",{width:U,height:z,className:"block",children:[E.map(({note:_,x:F})=>a.jsxs("g",{children:[a.jsx("rect",{x:F,y:0,width:R-1,height:z,fill:I(_,!1),stroke:T(_,!1),strokeWidth:s.get(_)?2:1,className:"cursor-pointer"}),_%12===0&&a.jsxs("text",{x:F+R/2,y:z-8,textAnchor:"middle",fontSize:"8",fill:"#4b5563",className:"pointer-events-none select-none font-semibold",children:["C",Math.floor(_/12)-1]})]},`white-${_}`)),k.map(({note:_,x:F})=>a.jsx("rect",{x:F,y:0,width:R-7,height:O,fill:I(_,!0),stroke:T(_,!0),strokeWidth:s.get(_)?2:1,className:"cursor-pointer"},`black-${_}`))]})})]})}};Jt.title="Note Keyboard",Jt.icon="piano",Jt.description="Interactive keyboard with configurable size, viewing, and generation capabilities",Jt.width=300,Jt.height=180,Jt.color="purple",Jt.portConfig={inputs:[{name:"midi_in",label:"MIDI In"}],outputs:[{name:"midi_out",label:"MIDI Out"}]};let du=Jt;const I0=Object.freeze(Object.defineProperty({__proto__:null,KeyboardBlock:du},Symbol.toStringTag,{value:"Module"})),en=class en extends ge{static getDefaultConfig(){return{minNote:0,maxNote:127}}static getNoteNames(){const t=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],n={};for(let r=0;r<=127;r++){const o=Math.floor(r/12)-1,s=t[r%12];n[r]=`${s}${o}`}return n}static renderHeaderButtons(t,n){const[r,o]=f.useState(!1),s=t.config.minNote??0,i=t.config.maxNote??127,l=en.getNoteNames();return a.jsxs(Yt,{open:r,onOpenChange:c=>{o(c),ge.setConfigModalOpen(c)},children:[a.jsx(Gt,{asChild:!0,children:a.jsx("button",{className:"text-gray-400 hover:text-gray-200 text-xs transition-colors p-2 -m-2 touch-manipulation",onClick:c=>c.stopPropagation(),onTouchStart:c=>c.stopPropagation(),onTouchEnd:c=>c.stopPropagation(),style:{touchAction:"manipulation"},children:a.jsx(Kt,{className:"w-3 h-3"})})}),a.jsxs(_t,{className:"glass-panel border border-white/20 backdrop-blur-xl bg-gray-700/60 max-w-md",onInteractOutside:c=>c.preventDefault(),onMouseDown:c=>c.stopPropagation(),onMouseMove:c=>c.stopPropagation(),onMouseUp:c=>c.stopPropagation(),onTouchStart:c=>c.stopPropagation(),onTouchMove:c=>c.stopPropagation(),onTouchEnd:c=>c.stopPropagation(),children:[a.jsx(At,{children:a.jsx(Lt,{className:"text-gray-100",children:"Note Filter Configuration"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{children:[a.jsx(le,{className:"text-sm text-gray-300 mb-3 block",children:"Note Range"}),a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs text-gray-400",children:"Min"}),a.jsx("div",{className:"text-sm font-mono text-blue-300 font-semibold",children:l[s]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["MIDI ",s]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs text-gray-400",children:"Max"}),a.jsx("div",{className:"text-sm font-mono text-blue-300 font-semibold",children:l[i]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["MIDI ",i]})]})]}),a.jsxs("div",{className:"px-2",children:[a.jsx(uo,{value:[s,i],onValueChange:c=>{const[u,p]=c;t.config.minNote=u,t.config.maxNote=p,n==null||n({minNote:u,maxNote:p})},min:0,max:127,step:1,className:"w-full"}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[a.jsx("span",{children:"C-1 (0)"}),a.jsx("span",{children:"C4 (60)"}),a.jsx("span",{children:"G9 (127)"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4 pt-3 border-t border-gray-700",children:[a.jsxs("div",{children:[a.jsx(le,{className:"text-xs text-gray-400 mb-1 block",children:"Min MIDI"}),a.jsx(qe,{type:"number",min:"0",max:"127",value:s,onChange:c=>{const u=Math.max(0,Math.min(127,parseInt(c.target.value)||0)),p=Math.min(u,i);t.config.minNote=p,n==null||n({minNote:p})},className:"bg-gray-800/50 border-white/20 backdrop-blur-sm text-xs h-8"})]}),a.jsxs("div",{children:[a.jsx(le,{className:"text-xs text-gray-400 mb-1 block",children:"Max MIDI"}),a.jsx(qe,{type:"number",min:"0",max:"127",value:i,onChange:c=>{const u=Math.max(0,Math.min(127,parseInt(c.target.value)||127)),p=Math.max(u,s);t.config.maxNote=p,n==null||n({maxNote:p})},className:"bg-gray-800/50 border-white/20 backdrop-blur-sm text-xs h-8"})]})]})]}),a.jsx("div",{className:"pt-2 border-t border-white/10",children:a.jsxs("div",{className:"text-xs text-gray-400",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Range:"}),a.jsxs("span",{className:"font-mono",children:[l[s]," - ",l[i]]})]}),a.jsxs("div",{className:"flex justify-between mt-1",children:[a.jsx("span",{children:"MIDI:"}),a.jsxs("span",{className:"font-mono",children:[s," - ",i]})]}),a.jsxs("div",{className:"flex justify-between mt-1",children:[a.jsx("span",{children:"Notes:"}),a.jsxs("span",{className:"font-mono",children:[i-s+1," notes"]})]})]})})]})]})]})}processMidiMessage(t,n){var s,i;const r=this.useInstanceData({config:{}}),o=Le.parseMidiMessage(t.data);if(o.type==="noteOn"||o.type==="noteOff"){if(o.dataBytes.length<1)return null;const l=o.dataBytes[0],c=((s=r.config)==null?void 0:s.minNote)??0,u=((i=r.config)==null?void 0:i.maxNote)??127;if(l<c||l>u)return null}return{message:t,targetPorts:["midi_out"]}}renderContent(t,n){const r=this.useInstanceData({config:{}});r.config=t.config;const o=t.config.minNote??0,s=t.config.maxNote??127,i=en.getNoteNames();return a.jsxs("div",{className:"space-y-3",onMouseDown:l=>l.stopPropagation(),children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Note Range"}),a.jsxs("div",{className:"text-sm font-mono text-blue-300 font-semibold",children:[i[o]," - ",i[s]]}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["MIDI ",o,"-",s," (",s-o+1," notes)"]})]}),a.jsxs("div",{className:"px-2",onMouseDown:l=>l.stopPropagation(),children:[a.jsx(uo,{value:[o,s],onValueChange:l=>{const[c,u]=l;t.config.minNote=c,t.config.maxNote=u},min:0,max:127,step:1,className:"w-full opacity-90"}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[a.jsx("span",{children:"0"}),a.jsx("span",{children:"64"}),a.jsx("span",{children:"127"})]})]})]})}};en.title="Note Filter",en.icon="filter",en.description="Filter MIDI notes by allowed range, pass other messages unchanged",en.width=240,en.height=140,en.color="blue",en.portConfig={inputs:[{name:"midi_in",label:"MIDI In"}],outputs:[{name:"midi_out",label:"MIDI Out"}]};let fu=en;const R0=Object.freeze(Object.defineProperty({__proto__:null,NoteFilterBlock:fu},Symbol.toStringTag,{value:"Module"})),Tn=class Tn extends ge{static getDefaultConfig(){return{channel:-1,mode:"min"}}static renderHeaderButtons(t,n){const[r,o]=f.useState(!1),[,s]=f.useState({}),i=t.config.channel??-1,l=t.config.mode||"min";return a.jsxs(Yt,{open:r,onOpenChange:c=>{o(c),ge.setConfigModalOpen(c)},children:[a.jsx(Gt,{asChild:!0,children:a.jsx("button",{className:"text-gray-400 hover:text-gray-200 text-xs transition-colors p-2 -m-2 touch-manipulation",onClick:c=>c.stopPropagation(),onTouchStart:c=>c.stopPropagation(),onTouchEnd:c=>c.stopPropagation(),style:{touchAction:"manipulation"},children:a.jsx(Kt,{className:"w-3 h-3"})})}),a.jsxs(_t,{className:"glass-panel border border-white/20 backdrop-blur-xl bg-gray-700/60 max-w-md",onInteractOutside:c=>c.preventDefault(),onMouseDown:c=>c.stopPropagation(),onMouseMove:c=>c.stopPropagation(),onMouseUp:c=>c.stopPropagation(),onTouchStart:c=>c.stopPropagation(),onTouchMove:c=>c.stopPropagation(),onTouchEnd:c=>c.stopPropagation(),children:[a.jsx(At,{children:a.jsx(Lt,{className:"text-gray-100",children:"Note Min/Max Configuration"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{children:[a.jsx(le,{className:"text-sm text-gray-300 mb-2 block",children:"MIDI Channel"}),a.jsxs(Je,{value:String(i),onValueChange:c=>{const u=c==="-1"?-1:parseInt(c);t.config.channel=u,n==null||n({channel:u}),s({})},children:[a.jsx(Ke,{className:"bg-gray-800/50 border-white/20 backdrop-blur-sm",children:a.jsx(et,{})}),a.jsxs(Ye,{children:[a.jsx(Ce,{value:"-1",children:"Any Channel"}),Array.from({length:16},(c,u)=>u+1).map(c=>a.jsxs(Ce,{value:String(c),children:["Channel ",c]},c))]})]})]}),a.jsxs("div",{children:[a.jsx(le,{className:"text-sm text-gray-300 mb-2 block",children:"Filter Mode"}),a.jsxs(Je,{value:l,onValueChange:c=>{t.config.mode=c,n==null||n({mode:c}),s({})},children:[a.jsx(Ke,{className:"bg-gray-800/50 border-white/20 backdrop-blur-sm",children:a.jsx(et,{})}),a.jsxs(Ye,{children:[a.jsx(Ce,{value:"min",children:"Keep Lowest Note"}),a.jsx(Ce,{value:"max",children:"Keep Highest Note"})]})]})]}),a.jsxs("div",{className:"text-xs text-gray-400 p-3 bg-gray-800/30 rounded",children:[a.jsx("div",{className:"font-medium mb-1",children:"How it works:"}),a.jsxs("div",{children:["When multiple notes are active, this block will send note-off messages to all notes except the ",l==="min"?"lowest":"highest"," one, creating monophonic playback from polyphonic input."]})]}),a.jsx("div",{className:"flex justify-end pt-3 border-t border-white/10",children:a.jsx("button",{onClick:()=>o(!1),className:"px-4 py-1.5 text-sm bg-amber-500 hover:bg-amber-600 text-white rounded transition-colors font-medium",children:"OK"})})]})]})]})}processMidiMessage(t,n){var d,y;const r=this.useInstanceData({physicallyHeld:new Map,sustainedNotes:new Map,sustainPedalActive:!1,currentPlayingNote:null,config:{}}),o=Le.parseMidiMessage(t.data),s=((d=r.config)==null?void 0:d.channel)??-1,i=((y=r.config)==null?void 0:y.mode)||"min",l=(o.status&15)+1,c=s===-1||l===s,u=()=>{const v=new Map(r.physicallyHeld);return Array.from(r.sustainedNotes.entries()).forEach(([C,x])=>{v.has(C)||v.set(C,x)}),v},p=()=>{const v=u();if(v.size===0)return null;const h=Array.from(v.keys());return i==="min"?Math.min(...h):Math.max(...h)},m=(v,h,C)=>{const x=[];if(v!==null&&x.push({data:new Uint8Array([128|l-1,v,64]),timestamp:C}),h!==null){const w=u().get(h);x.push({data:new Uint8Array([144|l-1,h,(w==null?void 0:w.velocity)||64]),timestamp:C})}return x};if(o.type==="controlChange"&&o.dataBytes[0]===64){const h=o.dataBytes[1]>=64,C=[];if(h&&!r.sustainPedalActive)r.sustainPedalActive=!0,r.sustainedNotes=new Map(r.physicallyHeld);else if(!h&&r.sustainPedalActive){r.sustainPedalActive=!1,r.sustainedNotes.clear();const x=r.currentPlayingNote,g=p();x!==g&&(C.push(...m(x,g,t.timestamp)),r.currentPlayingNote=g)}return C.length>0?{messages:[t,...C],targetPorts:["midi_out"]}:{message:t,targetPorts:["midi_out"]}}else if(o.type==="noteOn"&&o.dataBytes[1]>0){if(!c)return{message:t,targetPorts:["midi_out"]};const v=o.dataBytes[0],h=o.dataBytes[1];r.physicallyHeld.set(v,{velocity:h,timestamp:Date.now()}),r.sustainPedalActive&&r.sustainedNotes.set(v,{velocity:h,timestamp:Date.now()});const C=r.currentPlayingNote,x=p();if(C!==x){const g=m(C,x,t.timestamp);return r.currentPlayingNote=x,{messages:g,targetPorts:["midi_out"]}}return null}else if(o.type==="noteOff"||o.type==="noteOn"&&o.dataBytes[1]===0){if(!c)return{message:t,targetPorts:["midi_out"]};const v=o.dataBytes[0];r.physicallyHeld.delete(v),r.sustainPedalActive||r.sustainedNotes.delete(v);const h=r.currentPlayingNote,C=p();if(h!==C){const x=m(h,C,t.timestamp);return r.currentPlayingNote=C,{messages:x,targetPorts:["midi_out"]}}return null}else return{message:t,targetPorts:["midi_out"]}}renderContent(t,n){const r=this.useInstanceData({physicallyHeld:new Map,sustainedNotes:new Map,sustainPedalActive:!1,currentPlayingNote:null,config:t.config});r.config=t.config;const o=t.config.channel??-1,s=t.config.mode||"min";f.useEffect(()=>{const m=setInterval(()=>{const d=Date.now(),y=3e4;Array.from(r.physicallyHeld.entries()).forEach(([v,h])=>{d-h.timestamp>y&&(r.physicallyHeld.delete(v),r.currentPlayingNote===v&&(r.currentPlayingNote=null))}),Array.from(r.sustainedNotes.entries()).forEach(([v,h])=>{d-h.timestamp>y&&r.sustainedNotes.delete(v)})},5e3);return()=>clearInterval(m)},[r]);const i=Array.from(r.physicallyHeld.keys()),l=Array.from(r.sustainedNotes.keys()),u=new Set([...i,...l]).size,p=r.currentPlayingNote;return a.jsxs("div",{className:"space-y-3 h-full flex flex-col",onMouseDown:m=>m.stopPropagation(),children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-xs text-gray-300 mb-1",children:["Keep ",s==="min"?"Lowest":"Highest"," Note"]}),a.jsx("div",{className:"text-xs text-gray-400",children:o===-1?"Any Channel":`Channel ${o}`})]}),a.jsx("div",{className:"bg-gray-800/30 rounded p-3 flex-1 flex flex-col justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-sm text-gray-300 mb-2",children:["Active Notes: ",u]}),u===0?a.jsx("div",{className:"text-xs text-gray-400",children:"No notes active"}):p!==null?a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"text-sm font-mono text-amber-300",children:["Playing: ",p]}),a.jsxs("div",{className:"text-xs text-gray-400 space-y-1",children:[i.length>0&&a.jsxs("div",{children:["Physical: ",i.join(", ")]}),r.sustainPedalActive&&l.length>0&&a.jsxs("div",{children:["Sustained: ",l.join(", ")]})]})]}):a.jsx("div",{className:"text-xs text-gray-400",children:"Processing..."})]})}),a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"text-xs text-amber-400 font-medium",children:[s==="min"?" MIN":" MAX"," MODE"]})})]})}};Tn.title="Note Min/Max",Tn.icon="filter",Tn.description="Filter polyphonic notes to keep only min or max note",Tn.width=240,Tn.height=160,Tn.color="amber",Tn.portConfig={inputs:[{name:"midi_in",label:"MIDI In"}],outputs:[{name:"midi_out",label:"MIDI Out"}]};let pu=Tn;const O0=Object.freeze(Object.defineProperty({__proto__:null,NoteMinMaxBlock:pu},Symbol.toStringTag,{value:"Module"})),Wl={chromatic:{name:"Chromatic",notes:[0,1,2,3,4,5,6,7,8,9,10,11]},major:{name:"Major",notes:[0,2,4,5,7,9,11]},minor:{name:"Natural Minor",notes:[0,2,3,5,7,8,10]},harmonic_minor:{name:"Harmonic Minor",notes:[0,2,3,5,7,8,11]},melodic_minor:{name:"Melodic Minor",notes:[0,2,3,5,7,9,11]},dorian:{name:"Dorian",notes:[0,2,3,5,7,9,10]},phrygian:{name:"Phrygian",notes:[0,1,3,5,7,8,10]},lydian:{name:"Lydian",notes:[0,2,4,6,7,9,11]},mixolydian:{name:"Mixolydian",notes:[0,2,4,5,7,9,10]},locrian:{name:"Locrian",notes:[0,1,3,5,6,8,10]},pentatonic_major:{name:"Pentatonic Major",notes:[0,2,4,7,9]},pentatonic_minor:{name:"Pentatonic Minor",notes:[0,3,5,7,10]},blues:{name:"Blues",notes:[0,3,5,6,7,10]},whole_tone:{name:"Whole Tone",notes:[0,2,4,6,8,10]},diminished:{name:"Diminished",notes:[0,2,3,5,6,8,9,11]}},xi=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Dn=class Dn extends ge{static getDefaultConfig(){return{selectedScale:"major",rootNote:0,customNotes:[0,2,4,5,7,9,11]}}processMidiMessage(t,n){const r=this.useInstanceData({selectedScale:"major",rootNote:0,customNotes:[0,2,4,5,7,9,11],playingNotes:new Set}),o=Le.parseMidiMessage(t.data);if((o.type==="noteOn"||o.type==="noteOff")&&o.dataBytes.length>=1){const s=o.dataBytes[0],i=this.quantizeNote(s,r.customNotes,r.rootNote),l=i%12;o.type==="noteOn"&&o.dataBytes[1]>0?r.playingNotes.add(l):(o.type==="noteOff"||o.dataBytes[1]===0)&&r.playingNotes.delete(l);const c=new Uint8Array(t.data);return c[1]=i,{message:{...t,data:c},targetPorts:["midi_out"]}}return{message:t,targetPorts:["midi_out"]}}quantizeNote(t,n,r=0){const o=Math.floor(t/12),s=t%12,i=n.map(u=>(u+r)%12);let l=i[0],c=Math.abs(s-l);for(const u of i){const p=Math.abs(s-u);p<c&&(c=p,l=u)}return o*12+l}toggleNote(t,n,r){const o=[...n.customNotes];if(o.includes(t)){const i=o.indexOf(t);o.splice(i,1)}else o.push(t),o.sort((i,l)=>i-l);n.customNotes=o,r.config.customNotes=o}renderKeyboard(t,n){const r=[0,2,4,5,7,9,11],o=[1,3,6,8,10],s=[14,42,98,126,154],i=24,l=60,c=40,u=i*7,m=t.customNotes.map(d=>(d+t.rootNote)%12);return a.jsxs("svg",{width:u,height:l,className:"border border-gray-600 rounded",children:[r.map((d,y)=>{const v=m.includes(d),h=t.playingNotes&&t.playingNotes.has(d);let C="#f3f4f6";return h?C="#fbbf24":v&&(C="#8b5cf6"),a.jsx("rect",{x:y*i,y:0,width:i-1,height:l,fill:C,stroke:h?"#f59e0b":"#d1d5db",strokeWidth:h?2:1,className:"cursor-pointer hover:fill-purple-200",onClick:()=>{const x=(d-t.rootNote+12)%12;this.toggleNote(x,t,n)}},`white-${d}`)}),o.map((d,y)=>{const v=m.includes(d),h=t.playingNotes&&t.playingNotes.has(d);let C="#374151";return h?C="#f59e0b":v&&(C="#7c3aed"),a.jsx("rect",{x:s[y],y:0,width:i-8,height:c,fill:C,stroke:h?"#d97706":"#6b7280",strokeWidth:h?2:1,className:"cursor-pointer hover:fill-purple-400",onClick:()=>{const x=(d-t.rootNote+12)%12;this.toggleNote(x,t,n)}},`black-${d}`)}),r.map((d,y)=>{const v=m.includes(d),h=t.playingNotes&&t.playingNotes.has(d);let C="#6b7280";return h?C="#1f2937":v&&(C="#ffffff"),a.jsx("text",{x:y*i+i/2,y:l-8,textAnchor:"middle",fontSize:"10",fill:C,className:"pointer-events-none select-none",children:xi[d]},`label-white-${d}`)}),o.map((d,y)=>{const v=m.includes(d),h=t.playingNotes&&t.playingNotes.has(d);let C="#d1d5db";return h?C="#1f2937":v&&(C="#ffffff"),a.jsx("text",{x:s[y]+(i-8)/2,y:c-8,textAnchor:"middle",fontSize:"8",fill:C,className:"pointer-events-none select-none",children:xi[d]},`label-black-${d}`)})]})}renderContent(t,n){var p;const r=this.useInstanceData({selectedScale:t.config.selectedScale||"major",rootNote:t.config.rootNote||0,customNotes:t.config.customNotes||[0,2,4,5,7,9,11],playingNotes:new Set}),[o,s]=f.useState(r.selectedScale),[i,l]=f.useState(r.rootNote),c=m=>{const d=Wl[m];d&&(r.selectedScale=m,r.customNotes=[...d.notes],s(m),t.config.selectedScale=m,t.config.customNotes=[...d.notes])},u=m=>{const d=parseInt(m);r.rootNote=d,l(d),t.config.rootNote=d};return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(le,{htmlFor:"scale-select",className:"text-xs text-gray-300",children:"Scale"}),a.jsxs(Je,{value:o,onValueChange:c,children:[a.jsx(Ke,{className:"h-7 text-xs bg-gray-800 border-gray-600",children:a.jsx(et,{})}),a.jsx(Ye,{className:"bg-gray-800 border-gray-600",children:Object.entries(Wl).map(([m,d])=>a.jsx(Ce,{value:m,className:"text-xs",children:d.name},m))})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(le,{htmlFor:"root-select",className:"text-xs text-gray-300",children:"Root Note"}),a.jsxs(Je,{value:i.toString(),onValueChange:u,children:[a.jsx(Ke,{className:"h-7 text-xs bg-gray-800 border-gray-600",children:a.jsx(et,{})}),a.jsx(Ye,{className:"bg-gray-800 border-gray-600",children:xi.map((m,d)=>a.jsx(Ce,{value:d.toString(),className:"text-xs",children:m},d))})]})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-xs text-gray-400",children:[(p=Wl[r.selectedScale])==null?void 0:p.name," in ",xi[r.rootNote]]}),a.jsxs("div",{className:"text-sm font-mono text-purple-300 font-semibold",children:[r.customNotes.length," notes active"]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(le,{className:"text-xs text-gray-300",children:"Scale Notes (Click to toggle)"}),a.jsx("div",{className:"flex justify-center",children:this.renderKeyboard(r,t)})]})]})}};Dn.title="Note Quantiser",Dn.icon="piano",Dn.description="Quantize MIDI notes to a selected musical scale",Dn.width=280,Dn.height=200,Dn.color="purple",Dn.portConfig={inputs:[{name:"midi_in",label:"MIDI In"}],outputs:[{name:"midi_out",label:"MIDI Out"}]};let mu=Dn;const _0=Object.freeze(Object.defineProperty({__proto__:null,QuantizerBlock:mu},Symbol.toStringTag,{value:"Module"})),In=class In extends ge{static getDefaultConfig(){return{transposition:0,maxRange:12}}static renderHeaderButtons(t){const[n,r]=f.useState(!1);return a.jsxs(Yt,{open:n,onOpenChange:o=>{r(o),ge.setConfigModalOpen(o)},children:[a.jsx(Gt,{asChild:!0,children:a.jsx("button",{className:"text-gray-400 hover:text-gray-200 text-xs transition-colors p-2 -m-2 touch-manipulation",onClick:o=>o.stopPropagation(),onTouchStart:o=>o.stopPropagation(),onTouchEnd:o=>o.stopPropagation(),style:{touchAction:"manipulation"},children:a.jsx(Kt,{className:"w-3 h-3"})})}),a.jsxs(_t,{className:"glass-panel border border-white/20 backdrop-blur-xl bg-gray-700/60",onInteractOutside:o=>o.preventDefault(),onMouseDown:o=>o.stopPropagation(),onMouseMove:o=>o.stopPropagation(),onMouseUp:o=>o.stopPropagation(),onTouchStart:o=>o.stopPropagation(),onTouchMove:o=>o.stopPropagation(),onTouchEnd:o=>o.stopPropagation(),children:[a.jsx(At,{children:a.jsx(Lt,{className:"text-gray-100",children:"Transpose Configuration"})}),a.jsx("div",{className:"grid grid-cols-1 gap-4 py-4",children:a.jsxs("div",{children:[a.jsx(le,{className:"text-sm text-gray-300 mb-2 block",children:"Max Range (semitones)"}),a.jsx(qe,{type:"number",min:"1",max:"127",value:t.config.maxRange||12,onChange:o=>{const s=parseInt(o.target.value)||12;t.config.maxRange=Math.max(1,Math.min(127,s));const i=t.config.transposition||0,l=Math.max(-t.config.maxRange,Math.min(t.config.maxRange,i));l!==i&&(t.config.transposition=l)},className:"bg-gray-800/50 border-white/20 backdrop-blur-sm"})]})})]})]})}processMidiMessage(t,n){const r=this.useInstanceData({transposition:0,maxRange:12}),o=Le.parseMidiMessage(t.data);if((o.type==="noteOn"||o.type==="noteOff")&&o.dataBytes.length>=1){const s=o.dataBytes[0],i=Math.max(0,Math.min(127,s+r.transposition)),l=new Uint8Array(t.data);return l[1]=i,{message:{...t,data:l},targetPorts:["midi_out"]}}return{message:t,targetPorts:["midi_out"]}}renderContent(t,n){const r=this.useInstanceData({transposition:t.config.transposition||0,maxRange:t.config.maxRange||12}),[o,s]=f.useState(r.transposition),i=c=>{const u=Math.max(-r.maxRange,Math.min(r.maxRange,c));r.transposition=u,s(u),t.config.transposition=u},l=c=>c===0?"0 (no change)":`${c>0?"+":""}${c} semitone${Math.abs(c)!==1?"s":""}`;return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Transposition"}),a.jsx("div",{className:"text-sm font-mono text-orange-300 font-semibold",children:l(r.transposition)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"transpose-slider",className:"text-xs text-gray-300",children:"Amount"}),a.jsx("input",{id:"transpose-slider",type:"range",min:-r.maxRange,max:r.maxRange,value:o,onChange:c=>i(parseInt(c.target.value)),onMouseDown:c=>c.stopPropagation(),onMouseMove:c=>c.stopPropagation(),onMouseUp:c=>c.stopPropagation(),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider-orange",style:{background:o===0?"#374151":o>0?`linear-gradient(to right, #374151 0%, #374151 50%, #f97316 50%, #f97316 ${50+o/r.maxRange*50}%, #374151 ${50+o/r.maxRange*50}%, #374151 100%)`:`linear-gradient(to right, #374151 0%, #374151 ${50+o/r.maxRange*50}%, #f97316 ${50+o/r.maxRange*50}%, #f97316 50%, #374151 50%, #374151 100%)`}}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[a.jsxs("span",{children:["-",r.maxRange]}),a.jsx("span",{children:"0"}),a.jsxs("span",{children:["+",r.maxRange]})]})]})]})}};In.title="Note Transpose",In.icon="piano",In.description="Transpose MIDI note messages by a configurable amount of semitones",In.width=220,In.height=160,In.color="orange",In.portConfig={inputs:[{name:"midi_in",label:"MIDI In"}],outputs:[{name:"midi_out",label:"MIDI Out"}]};let hu=In;const A0=Object.freeze(Object.defineProperty({__proto__:null,TransposeBlock:hu},Symbol.toStringTag,{value:"Module"}));var Ud="Checkbox",[zP,Lk]=Yn(Ud),[UP,VP]=zP(Ud),L0=f.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:o,defaultChecked:s,required:i,disabled:l,value:c="on",onCheckedChange:u,form:p,...m}=e,[d,y]=f.useState(null),v=ve(t,b=>y(b)),h=f.useRef(!1),C=d?p||!!d.closest("form"):!0,[x=!1,g]=zr({prop:o,defaultProp:s,onChange:u}),w=f.useRef(x);return f.useEffect(()=>{const b=d==null?void 0:d.form;if(b){const P=()=>g(w.current);return b.addEventListener("reset",P),()=>b.removeEventListener("reset",P)}},[d,g]),a.jsxs(UP,{scope:n,state:x,disabled:l,children:[a.jsx(ue.button,{type:"button",role:"checkbox","aria-checked":hr(x)?"mixed":x,"aria-required":i,"data-state":F0(x),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:v,onKeyDown:te(e.onKeyDown,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:te(e.onClick,b=>{g(P=>hr(P)?!0:!P),C&&(h.current=b.isPropagationStopped(),h.current||b.stopPropagation())})}),C&&a.jsx(HP,{control:d,bubbles:!h.current,name:r,value:c,checked:x,required:i,disabled:l,form:p,style:{transform:"translateX(-100%)"},defaultChecked:hr(s)?!1:s})]})});L0.displayName=Ud;var $0="CheckboxIndicator",B0=f.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...o}=e,s=VP($0,n);return a.jsx(Yr,{present:r||hr(s.state)||s.state===!0,children:a.jsx(ue.span,{"data-state":F0(s.state),"data-disabled":s.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});B0.displayName=$0;var HP=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:o,...s}=e,i=f.useRef(null),l=Ka(n),c=Ua(t);f.useEffect(()=>{const p=i.current,m=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(m,"checked").set;if(l!==n&&y){const v=new Event("click",{bubbles:r});p.indeterminate=hr(n),y.call(p,hr(n)?!1:n),p.dispatchEvent(v)}},[l,n,r]);const u=f.useRef(hr(n)?!1:n);return a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:o??u.current,...s,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function hr(e){return e==="indeterminate"}function F0(e){return hr(e)?"indeterminate":e?"checked":"unchecked"}var z0=L0,WP=B0;const gu=f.forwardRef(({className:e,...t},n)=>a.jsx(z0,{ref:n,className:me("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(WP,{className:me("flex items-center justify-center text-current"),children:a.jsx(Gg,{className:"h-4 w-4"})})}));gu.displayName=z0.displayName;const Rn=class Rn extends ge{static getDefaultConfig(){return{allowedChannels:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}}static renderHeaderButtons(t){const[n,r]=f.useState(!1),[,o]=f.useState({}),s=i=>{var u;t.config.allowedChannels=i;const l=JSON.parse(localStorage.getItem("midi-router-canvas-state")||"{}"),c=(u=l.blocks)==null?void 0:u.findIndex(p=>p.id===t.id);c>=0&&(l.blocks[c].config.allowedChannels=i,localStorage.setItem("midi-router-canvas-state",JSON.stringify(l))),o({})};return a.jsxs(Yt,{open:n,onOpenChange:i=>{r(i),ge.setConfigModalOpen(i)},children:[a.jsx(Gt,{asChild:!0,children:a.jsx("button",{className:"text-gray-400 hover:text-gray-200 text-xs transition-colors p-2 -m-2 touch-manipulation",onClick:i=>i.stopPropagation(),onTouchStart:i=>i.stopPropagation(),onTouchEnd:i=>i.stopPropagation(),style:{touchAction:"manipulation"},children:a.jsx(Kt,{className:"w-3 h-3"})})}),a.jsxs(_t,{className:"glass-panel border border-white/20 backdrop-blur-xl bg-gray-700/60 max-w-md",onInteractOutside:i=>i.preventDefault(),onMouseDown:i=>i.stopPropagation(),onMouseMove:i=>i.stopPropagation(),onMouseUp:i=>i.stopPropagation(),onTouchStart:i=>i.stopPropagation(),onTouchMove:i=>i.stopPropagation(),onTouchEnd:i=>i.stopPropagation(),children:[a.jsx(At,{children:a.jsx(Lt,{className:"text-gray-100",children:"Channel Filter Settings"})}),a.jsxs("div",{className:"py-4",children:[a.jsx("div",{className:"text-sm text-gray-300 mb-4",children:"These are the allowed channels. Only MIDI messages on checked channels will pass through."}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsx("div",{className:"space-y-2",children:Array.from({length:8},(i,l)=>l+1).map(i=>{const l=t.config.allowedChannels||[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],c=l.includes(i);return a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(gu,{id:`channel-${i}`,checked:c,onCheckedChange:u=>{const p=u?[...l.filter(m=>m!==i),i]:l.filter(m=>m!==i);s(p)},className:"text-white"}),a.jsxs("label",{htmlFor:`channel-${i}`,className:"text-sm text-gray-200 cursor-pointer",children:["Channel ",i]})]},i)})}),a.jsx("div",{className:"space-y-2",children:Array.from({length:8},(i,l)=>l+9).map(i=>{const l=t.config.allowedChannels||[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],c=l.includes(i);return a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(gu,{id:`channel-${i}`,checked:c,onCheckedChange:u=>{const p=u?[...l.filter(m=>m!==i),i]:l.filter(m=>m!==i);s(p)},className:"text-white"}),a.jsxs("label",{htmlFor:`channel-${i}`,className:"text-sm text-gray-200 cursor-pointer",children:["Channel ",i]})]},i)})})]}),a.jsxs("div",{className:"flex gap-2 mt-6",children:[a.jsx("div",{className:"flex-1",children:a.jsx("button",{onClick:()=>s([1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]),className:"w-full px-3 py-1.5 text-sm bg-slate-500 hover:bg-slate-600 text-white rounded transition-colors",children:"All"})}),a.jsx("div",{className:"flex-1",children:a.jsx("button",{onClick:()=>s([]),className:"w-full px-3 py-1.5 text-sm bg-red-500 hover:bg-red-600 text-white rounded transition-colors",children:"None"})}),a.jsx("div",{className:"flex-1",children:a.jsx("button",{onClick:()=>s([1,2,3,4,5,6,7,8]),className:"w-full px-3 py-1.5 text-sm bg-blue-500 hover:bg-blue-600 text-white rounded transition-colors",children:"1-8"})}),a.jsx("div",{className:"flex-1",children:a.jsx("button",{onClick:()=>s([9,10,11,12,13,14,15,16]),className:"w-full px-3 py-1.5 text-sm bg-purple-500 hover:bg-purple-600 text-white rounded transition-colors",children:"9-16"})})]}),a.jsx("div",{className:"flex justify-end mt-6",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>r(!1),className:"px-4 py-1.5 text-sm bg-gray-500 hover:bg-gray-600 text-white rounded transition-colors font-medium",children:"Cancel"}),a.jsx("button",{onClick:()=>r(!1),className:"px-4 py-1.5 text-sm bg-emerald-500 hover:bg-emerald-600 text-white rounded transition-colors font-medium",children:"OK"})]})})]})]})]})}processMidiMessage(t,n){var l;const r=this.useInstanceData({lastMessage:null,messageCount:0,filteredCount:0});r.lastMessage=t,r.messageCount++;const o=this.block,s=((l=o==null?void 0:o.config)==null?void 0:l.allowedChannels)||[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],i=Le.getChannel(t);return s.includes(i)?(this.triggerUpdate(),{message:t,targetPorts:["midi_out"]}):(r.filteredCount++,this.triggerUpdate(),null)}renderContent(t,n){const r=this.useInstanceData({lastMessage:null,messageCount:0,filteredCount:0}),o=t.config.allowedChannels||[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],s=[];let i=null,l=null;for(let u=1;u<=16;u++)o.includes(u)?(i===null&&(i=u),l=u):i!==null&&(s.push(i===l?`${i}`:`${i}-${l}`),i=null,l=null);i!==null&&s.push(i===l?`${i}`:`${i}-${l}`);const c=s.length===0?"None":s.length>3?`${s.slice(0,3).join(", ")}...`:s.join(", ");return a.jsxs("div",{className:"flex flex-col h-full justify-center items-center p-3",children:[a.jsxs("div",{className:"text-xs text-gray-300 mb-2 font-semibold text-center",children:["Channels: ",c]}),a.jsx("div",{className:"text-xs text-gray-200 text-center",children:r.messageCount>0?a.jsxs("div",{children:[a.jsxs("div",{children:["Passed: ",r.messageCount-r.filteredCount]}),a.jsxs("div",{children:["Filtered: ",r.filteredCount]})]}):a.jsx("span",{className:"text-gray-500",children:"No messages yet"})})]})}};Rn.title="Channel Filter",Rn.icon="filter",Rn.description="Filter MIDI messages by channel - only allow specified channels to pass through",Rn.width=220,Rn.height=140,Rn.color="emerald",Rn.portConfig={inputs:[{name:"midi_in",label:"MIDI In"}],outputs:[{name:"midi_out",label:"MIDI Out"}]};let yu=Rn;const U0=Object.freeze(Object.defineProperty({__proto__:null,ChannelFilterBlock:yu},Symbol.toStringTag,{value:"Module"})),Kl="midi-router-selected-input-devices",Yl="midi-router-selected-output-devices";function V0(){const[e,t]=f.useState([]),[n,r]=f.useState(null),[o,s]=f.useState(!1),[i,l]=f.useState({}),[c,u]=f.useState({});f.useEffect(()=>{try{const b=localStorage.getItem(Kl);b&&l(JSON.parse(b));const P=localStorage.getItem(Yl);P&&u(JSON.parse(P))}catch(b){console.warn("Failed to load saved MIDI devices:",b)}},[]),f.useEffect(()=>{(async()=>{if(!navigator.requestMIDIAccess){console.warn("Web MIDI API not supported");return}try{const P=await navigator.requestMIDIAccess();r(P),s(!0),p(P),P.onstatechange=()=>{p(P)}}catch(P){console.error("MIDI access denied or not supported. Please use an external browser (Chrome/Edge) and grant MIDI permissions when prompted.",P),s(!1)}})()},[]);const p=f.useCallback(b=>{const P=[];b.inputs.forEach(S=>{P.push({id:S.id,name:S.name||"Unknown Device",manufacturer:S.manufacturer||"Unknown",state:S.state,type:"input"})}),b.outputs.forEach(S=>{P.push({id:S.id,name:S.name||"Unknown Device",manufacturer:S.manufacturer||"Unknown",state:S.state,type:"output"})}),t(P.sort((S,N)=>S.name.localeCompare(N.name)))},[]),m=f.useCallback(async(b,P,S)=>{if(!n)return!1;const N=n.inputs.get(b);if(!N)return console.error(`MIDI input device ${b} not found`),!1;try{N.onmidimessage=j=>{if(!j.data)return;const A={data:new Uint8Array(j.data),timestamp:j.timeStamp||performance.now(),parsed:Le.parseMidiMessage(new Uint8Array(j.data))};S(A)};try{const j={...i,[P]:b};l(j),localStorage.setItem(Kl,JSON.stringify(j))}catch(j){console.warn("Failed to save MIDI input device selection:",j)}return console.log(`Connected MIDI input block ${P} to device: ${N.name}`),!0}catch(j){return console.error(`Failed to connect to MIDI input device ${b}:`,j),!1}},[n,i]),d=f.useCallback(b=>{if(!n)return;const P=i[b];if(P){const S=n.inputs.get(P);S&&(S.onmidimessage=null,console.log(`Disconnected MIDI input block ${b} from device: ${S.name}`));try{const N={...i};delete N[b],l(N),localStorage.setItem(Kl,JSON.stringify(N))}catch(N){console.warn("Failed to clear MIDI input device selection:",N)}}},[n,i]),y=f.useCallback(async(b,P)=>{if(!n)return null;const S=n.outputs.get(b);if(!S)return console.error(`MIDI output device ${b} not found`),null;try{try{const N={...c,[P]:b};u(N),localStorage.setItem(Yl,JSON.stringify(N))}catch(N){console.warn("Failed to save MIDI output device selection:",N)}return console.log(`Connected MIDI output block ${P} to device: ${S.name}`),S}catch(N){return console.error(`Failed to connect to MIDI output device ${b}:`,N),null}},[n,c]),v=f.useCallback(b=>{if(!n)return;const P=c[b];if(P){const S=n.outputs.get(P);S&&console.log(`Disconnected MIDI output block ${b} from device: ${S.name}`);try{const N={...c};delete N[b],u(N),localStorage.setItem(Yl,JSON.stringify(N))}catch(N){console.warn("Failed to clear MIDI output device selection:",N)}}},[n,c]),h=f.useCallback(async(b,P)=>{const S=i[b];if(!S||!n)return null;const N=n.inputs.get(S);return!N||N.state!=="connected"?null:await m(S,b,P)?S:null},[i,n,m]),C=f.useCallback(async b=>{const P=c[b];if(!P||!n)return null;const S=n.outputs.get(P);return!S||S.state!=="connected"?null:await y(P,b)},[c,n,y]),x=f.useCallback(b=>i[b]||null,[i]),g=f.useCallback(b=>c[b]||null,[c]),w=f.useCallback(()=>{n&&p(n)},[n,p]);return{devices:e,isSupported:o,connectToInputDevice:m,disconnectFromInputDevice:d,connectToOutputDevice:y,disconnectFromOutputDevice:v,autoReconnectToSavedInputDevice:h,autoReconnectToSavedOutputDevice:C,getSelectedInputDevice:x,getSelectedOutputDevice:g,refreshDevices:w}}const KP=Cd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),zt=f.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...o},s)=>{const i=r?gC:"button";return a.jsx(i,{className:me(KP({variant:t,size:n,className:e})),ref:s,...o})});zt.displayName="Button";const On=class On extends ge{static getDefaultConfig(){return{selectedDeviceId:null,selectedDeviceName:"No device selected",isConnected:!1,messageCount:0,lastActivity:null,error:null}}renderContent(t,n){const r=YP;return a.jsx(r,{block:t})}processMidiMessage(t,n){return{message:t}}emitExternalMidiMessage(t,n){On.portConfig.outputs.forEach(o=>{const s=`${t}-${o.name}`;this.emitMidiMessage(t,s,n)})}};On.title="MIDI Input",On.icon="input",On.color="blue",On.width=280,On.height=180,On.portConfig={inputs:[],outputs:[{name:"midi",label:"MIDI Out"}]};let ha=On;function YP({block:e}){const{devices:t,isSupported:n,connectToInputDevice:r,disconnectFromInputDevice:o,autoReconnectToSavedInputDevice:s,getSelectedInputDevice:i,refreshDevices:l}=V0(),[c,u]=f.useState(i(e.id)||e.config.selectedDeviceId),[p,m]=f.useState(!1),[d,y]=f.useState(0),[v,h]=f.useState(null),[C,x]=f.useState(!1),[g,w]=f.useState(null),b=f.useCallback(R=>{y(O=>O+1),h(Date.now()),Object.create(ha.prototype).emitExternalMidiMessage(e.id,R)},[e.id]);f.useEffect(()=>{(async()=>{if(i(e.id)&&!p&&t.length>0){const O=await s(e.id,b);O&&(u(O),m(!0),y(0),w(null),console.log(`Auto-reconnected to MIDI device: ${O}`))}})()},[e.id,t,p,s,b,i]);const P=async R=>{if(w(null),c&&p&&(o(e.id),m(!1)),u(R),await r(R,e.id,b)){const O=t.find(U=>U.id===R);console.log(`MIDI Input Block connected to: ${O==null?void 0:O.name}`),m(!0),y(0),w(null)}else w("Failed to connect to device"),m(!1)},S=()=>{c&&(o(e.id),m(!1),u(null),y(0),h(null),w(null))},N=async()=>{x(!0);try{l()}finally{x(!1)}};if(!n)return a.jsxs("div",{className:"text-center text-gray-400 text-xs",children:[a.jsx("div",{className:"mb-2",children:" Web MIDI not supported"}),a.jsx("div",{children:"This browser doesn't support Web MIDI API"})]});const j=t.find(R=>R.id===c),A=t.length>0;return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-gray-400",children:"Device:"}),a.jsx(zt,{onClick:N,disabled:C,size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:a.jsx(qg,{className:`w-3 h-3 ${C?"animate-spin":""}`})})]}),a.jsxs(Je,{value:c||"",onValueChange:P,disabled:!A,children:[a.jsx(Ke,{className:"h-8 text-xs",children:a.jsx(et,{placeholder:A?"Select MIDI device...":"No devices found"})}),a.jsx(Ye,{children:t.filter(R=>R.state==="connected"&&R.type==="input").map(R=>a.jsx(Ce,{value:R.id,children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${R.state==="connected"?"bg-green-500":"bg-gray-500"}`}),a.jsx("span",{children:R.name})]})},R.id))})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-gray-400",children:"Status:"}),a.jsx("div",{className:"flex items-center space-x-1",children:p?a.jsxs(a.Fragment,{children:[a.jsx(Jg,{className:"w-3 h-3 text-green-500"}),a.jsx("span",{className:"text-green-500",children:"Connected"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Zg,{className:"w-3 h-3 text-gray-500"}),a.jsx("span",{className:"text-gray-500",children:"Disconnected"})]})})]}),j&&a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Name:"}),a.jsx("span",{className:"text-gray-200 truncate ml-2",style:{maxWidth:"120px"},children:j.name})]}),j.manufacturer&&j.manufacturer!=="Unknown"&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Mfg:"}),a.jsx("span",{className:"text-gray-200 truncate ml-2",style:{maxWidth:"120px"},children:j.manufacturer})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-gray-400",children:"Messages:"}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Yg,{className:`w-3 h-3 ${v&&Date.now()-v<1e3?"text-blue-500":"text-gray-500"}`}),a.jsx("span",{className:"text-gray-200",children:d})]})]}),g&&a.jsx("div",{className:"text-xs text-red-400 bg-red-900/20 rounded p-2",children:g}),c&&a.jsx("div",{className:"flex space-x-2",children:a.jsx(zt,{onClick:S,size:"sm",variant:"outline",className:"h-7 text-xs flex-1",children:"Disconnect"})})]})}const H0=Object.freeze(Object.defineProperty({__proto__:null,MidiInputBlock:ha},Symbol.toStringTag,{value:"Module"})),yn=class yn extends ge{static formatMidiMessage(t){return Gy.formatDetailed(t)}processMidiMessage(t,n){const r=this.useInstanceData({messageHistory:[],maxHistoryLength:100,lastMessage:null});r.lastMessage=t;const o=yn.formatMidiMessage(t),s={timestamp:Date.now(),message:t,formatted:o.formatted,columns:o.columns};return r.messageHistory.push(s),r.messageHistory.length>r.maxHistoryLength&&r.messageHistory.shift(),this.triggerUpdate(),{message:t}}renderContent(t,n){const r=this.useInstanceData({messageHistory:[],maxHistoryLength:100,lastMessage:null}),[o,s]=f.useState(!1),[i,l]=f.useState(r.maxHistoryLength),c=f.useRef(null);f.useEffect(()=>{c.current&&o&&(c.current.scrollTop=c.current.scrollHeight)},[r.messageHistory.length,o]);const u=d=>{if(!d)return"No MIDI data";const y=d.data[0],v=y&240,h=(y&15)+1;switch(v){case 144:return` Ch${h} N${d.data[1]} V${d.data[2]}`;case 128:return` Ch${h} N${d.data[1]} Off`;case 176:return` Ch${h} CC${d.data[1]}:${d.data[2]}`;case 192:return` Ch${h} Prog${d.data[1]}`;case 224:const C=d.data[2]<<7|d.data[1];return` Ch${h} Pitch:${C}`;default:return` [${d.data.join(",")}]`}},p=d=>{const y=parseInt(d)||100;l(y),r.maxHistoryLength=Math.max(1,Math.min(1e3,y)),r.messageHistory.length>r.maxHistoryLength&&(r.messageHistory=r.messageHistory.slice(-r.maxHistoryLength))},m=()=>{r.messageHistory=[]};return f.useEffect(()=>{c.current&&r.messageHistory.length>0&&(c.current.scrollTop=c.current.scrollHeight)},[r.messageHistory.length]),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3 min-h-[48px] border border-gray-700",children:[a.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Last MIDI:"}),a.jsx("div",{className:"text-sm font-mono text-blue-300 leading-tight",children:u(r.lastMessage)})]}),a.jsxs(Yt,{open:o,onOpenChange:s,children:[a.jsx(Gt,{asChild:!0,children:a.jsxs(zt,{variant:"outline",size:"sm",className:"w-full bg-gray-800 border-gray-600 hover:bg-gray-700 text-gray-200",children:[a.jsx(yp,{className:"w-4 h-4 mr-2"}),"View Log (",r.messageHistory.length,")"]})}),a.jsxs(_t,{className:"max-w-2xl max-h-[80vh] bg-gray-900 border-gray-700",onMouseDown:d=>d.stopPropagation(),onMouseMove:d=>d.stopPropagation(),onMouseUp:d=>d.stopPropagation(),children:[a.jsx(At,{children:a.jsxs(Lt,{className:"text-gray-100 flex items-center gap-2",children:[a.jsx(yp,{className:"w-5 h-5"}),"MIDI Monitor Log - Block ",t.id]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(le,{htmlFor:"history-length",className:"text-sm text-gray-300",children:"Max Messages:"}),a.jsx(qe,{id:"history-length",type:"number",min:"1",max:"1000",value:i,onChange:d=>p(d.target.value),className:"w-20 h-8 bg-gray-800 border-gray-600 text-gray-200"})]}),a.jsxs(zt,{onClick:m,variant:"outline",size:"sm",className:"bg-gray-800 border-gray-600 hover:bg-gray-700 text-gray-200",children:[a.jsx(mb,{className:"w-4 h-4 mr-1"}),"Clear"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(le,{className:"text-sm text-gray-300",children:["MIDI Messages (",r.messageHistory.length," of ",r.maxHistoryLength,")"]}),a.jsxs("div",{className:"border border-gray-600 rounded bg-gray-800 overflow-hidden",children:[a.jsxs("div",{className:"bg-gray-700 border-b border-gray-600",style:{paddingLeft:"12px",paddingRight:"27px",paddingTop:"8px",paddingBottom:"8px"},children:[a.jsxs("div",{className:"relative grid gap-1 font-mono text-xs text-gray-300 leading-tight",style:{fontFamily:"Courier New, monospace",letterSpacing:"0",gridTemplateColumns:"6rem 1.5rem 6rem 1fr 5rem"},children:[a.jsx("div",{children:"TIME"}),a.jsx("div",{children:"CH"}),a.jsx("div",{children:"TYPE"}),a.jsx("div",{children:"DATA"}),a.jsx("div",{children:"RAW HEX"})]}),a.jsxs("div",{className:"relative grid gap-1 font-mono text-xs text-gray-500 leading-tight mt-1",style:{fontFamily:"Courier New, monospace",letterSpacing:"0",gridTemplateColumns:"6rem 1.5rem 6rem 1fr 5rem"},children:[a.jsx("div",{className:"border-b border-gray-500"}),a.jsx("div",{className:"border-b border-gray-500"}),a.jsx("div",{className:"border-b border-gray-500"}),a.jsx("div",{className:"border-b border-gray-500"}),a.jsx("div",{className:"border-b border-gray-500"})]})]}),a.jsx("div",{ref:c,className:"h-[350px] overflow-y-auto overflow-x-auto bg-gray-800 p-3",onMouseDown:d=>d.stopPropagation(),onMouseMove:d=>d.stopPropagation(),onMouseUp:d=>d.stopPropagation(),onDrag:d=>d.stopPropagation(),onDragStart:d=>d.stopPropagation(),children:r.messageHistory.length===0?a.jsx("div",{className:"text-gray-500 text-xs font-mono",children:"No MIDI messages logged yet..."}):r.messageHistory.map((d,y)=>{const v=y===r.messageHistory.length-1;return a.jsxs("div",{className:`grid gap-1 font-mono text-xs leading-tight ${v?"text-blue-300 bg-blue-900/20":"text-gray-200"}`,style:{fontFamily:"Courier New, monospace",letterSpacing:"0",gridTemplateColumns:"6rem 1.5rem 6rem 1fr 5rem",borderBottom:y<r.messageHistory.length-1?"1px solid rgb(75, 85, 99)":"none",paddingBottom:"2px",marginBottom:y<r.messageHistory.length-1?"2px":"0"},children:[a.jsx("div",{children:d.columns.time}),a.jsx("div",{children:d.columns.channel}),a.jsx("div",{children:d.columns.type}),a.jsx("div",{className:"truncate",children:d.columns.data}),a.jsx("div",{children:d.columns.raw})]},`${d.timestamp}-${y}`)})})]})]})]})]})]})]})}};yn.title="MIDI Monitor",yn.icon="monitor",yn.description="Monitors and logs MIDI messages while passing them through",yn.width=220,yn.height=140,yn.color="blue",yn.portConfig={inputs:[{name:"midi_in",label:"MIDI In"}],outputs:[{name:"midi_out",label:"MIDI Out"}]};let xu=yn;const W0=Object.freeze(Object.defineProperty({__proto__:null,MidiMonitorBlock:xu},Symbol.toStringTag,{value:"Module"})),nr=class nr extends ge{static getDefaultConfig(){return{selectedDeviceId:null,selectedDeviceName:"No device selected",isConnected:!1,messageCount:0,lastActivity:null,error:null}}renderContent(t,n){const r=GP;return a.jsx(r,{block:t})}processMidiMessage(t,n){const r=this.useInstanceData({midiOutputHandler:null});return r.midiOutputHandler?(console.log("MIDI Output Block: Processing message",t),r.midiOutputHandler(t)):console.warn("No MIDI output handler found for this block"),null}setOutputHandler(t){const n=this.useInstanceData({midiOutputHandler:null});n.midiOutputHandler=t}};nr.title="MIDI Output",nr.icon="output",nr.color="green",nr.width=280,nr.height=180,nr.portConfig={inputs:[{name:"midi",label:"MIDI In"}],outputs:[]};let As=nr;function GP({block:e}){const{devices:t,isSupported:n,connectToOutputDevice:r,disconnectFromOutputDevice:o,autoReconnectToSavedOutputDevice:s,getSelectedOutputDevice:i,refreshDevices:l}=V0(),[c,u]=f.useState(i(e.id)||e.config.selectedDeviceId),[p,m]=f.useState(!1),[d,y]=f.useState(0),[v,h]=f.useState(null),[C,x]=f.useState(!1),[g,w]=f.useState(null),[b,P]=f.useState(null);f.useEffect(()=>{(async()=>{const U=i(e.id);if(U&&!p&&t.length>0){const D=await s(e.id);D&&(u(U),P(D),m(!0),y(0),w(null),console.log(`Auto-reconnected to MIDI output device: ${D.name}`))}})()},[e.id,t,p,s,i]);const S=async O=>{w(null),c&&p&&(o(e.id),m(!1),P(null)),u(O);const U=await r(O,e.id);if(U){const D=t.find(M=>M.id===O);console.log(`MIDI Output Block connected to: ${D==null?void 0:D.name}`),P(U),m(!0),y(0),w(null)}else w("Failed to connect to device"),m(!1),P(null)},N=()=>{c&&(o(e.id),m(!1),u(null),P(null),y(0),h(null),w(null))},j=async()=>{x(!0);try{l()}finally{x(!1)}},A=f.useCallback(O=>{if(b&&p)try{b.send(O.data),y(U=>{const D=U+1;return console.log(`MIDI Output Block ${e.id}: Sent message #${D}`,O),D}),h(Date.now())}catch(U){console.error("Failed to send MIDI message:",U),w("Failed to send MIDI message")}else console.warn(`MIDI Output Block ${e.id}: Cannot send message - device not connected`,{hasDevice:!!b,isConnected:p})},[b,p,e.id]);if(f.useEffect(()=>{const O=Object.create(As.prototype);O.blockId=e.id,O.setOutputHandler(A)},[A,e.id]),!n)return a.jsxs("div",{className:"text-center text-gray-400 text-xs",children:[a.jsx("div",{className:"mb-2",children:" Web MIDI not supported"}),a.jsx("div",{children:"This browser doesn't support Web MIDI API"})]});const R=t.find(O=>O.id===c),z=t.length>0;return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-gray-400",children:"Device:"}),a.jsx(zt,{onClick:j,disabled:C,size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:a.jsx(qg,{className:`w-3 h-3 ${C?"animate-spin":""}`})})]}),a.jsxs(Je,{value:c||"",onValueChange:S,disabled:!z,children:[a.jsx(Ke,{className:"h-8 text-xs",children:a.jsx(et,{placeholder:z?"Select MIDI device...":"No devices found"})}),a.jsx(Ye,{children:t.filter(O=>O.state==="connected"&&O.type==="output").map(O=>a.jsx(Ce,{value:O.id,children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${O.state==="connected"?"bg-green-500":"bg-gray-500"}`}),a.jsx("span",{children:O.name})]})},O.id))})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-gray-400",children:"Status:"}),a.jsx("div",{className:"flex items-center space-x-1",children:p?a.jsxs(a.Fragment,{children:[a.jsx(Jg,{className:"w-3 h-3 text-green-500"}),a.jsx("span",{className:"text-green-500",children:"Connected"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Zg,{className:"w-3 h-3 text-gray-500"}),a.jsx("span",{className:"text-gray-500",children:"Disconnected"})]})})]}),R&&a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Name:"}),a.jsx("span",{className:"text-gray-200 truncate ml-2",style:{maxWidth:"120px"},children:R.name})]}),R.manufacturer&&R.manufacturer!=="Unknown"&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Mfg:"}),a.jsx("span",{className:"text-gray-200 truncate ml-2",style:{maxWidth:"120px"},children:R.manufacturer})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-gray-400",children:"Messages:"}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Yg,{className:`w-3 h-3 ${v&&Date.now()-v<1e3?"text-blue-500":"text-gray-500"}`}),a.jsx("span",{className:"text-gray-200",children:d})]})]}),g&&a.jsx("div",{className:"text-xs text-red-400 bg-red-900/20 rounded p-2",children:g}),c&&a.jsx("div",{className:"flex space-x-2",children:a.jsx(zt,{onClick:N,size:"sm",variant:"outline",className:"h-7 text-xs flex-1",children:"Disconnect"})})]})}const K0=Object.freeze(Object.defineProperty({__proto__:null,MidiOutputBlock:As,default:As},Symbol.toStringTag,{value:"Module"})),_n=class _n extends ge{static renderHeaderButtons(t){const[n,r]=f.useState(!1);return a.jsxs(Yt,{open:n,onOpenChange:o=>{r(o),ge.setConfigModalOpen(o)},children:[a.jsx(Gt,{asChild:!0,children:a.jsx("button",{className:"text-gray-400 hover:text-gray-200 text-xs transition-colors p-2 -m-2 touch-manipulation",onClick:o=>o.stopPropagation(),onTouchStart:o=>o.stopPropagation(),onTouchEnd:o=>o.stopPropagation(),style:{touchAction:"manipulation"},children:a.jsx(Kt,{className:"w-3 h-3"})})}),a.jsxs(_t,{className:"glass-panel border border-white/20 backdrop-blur-xl bg-gray-700/60",onInteractOutside:o=>o.preventDefault(),onMouseDown:o=>o.stopPropagation(),onMouseMove:o=>o.stopPropagation(),onMouseUp:o=>o.stopPropagation(),onTouchStart:o=>o.stopPropagation(),onTouchMove:o=>o.stopPropagation(),onTouchEnd:o=>o.stopPropagation(),children:[a.jsx(At,{children:a.jsx(Lt,{className:"text-gray-100",children:"Template Configuration"})}),a.jsx("div",{className:"py-4",children:a.jsxs("div",{className:"text-sm text-gray-300 leading-relaxed space-y-3",children:[a.jsx("p",{children:"This is an example configuration modal for the template block. In a real implementation, this would contain various settings and options to customize the block's behavior."}),a.jsx("p",{className:"text-xs text-gray-400",children:"Configuration options might include:"}),a.jsxs("ul",{className:"text-xs text-gray-400 list-disc list-inside space-y-1 ml-2",children:[a.jsx("li",{children:"Message filtering preferences"}),a.jsx("li",{children:"Display format options"}),a.jsx("li",{children:"Processing parameters"}),a.jsx("li",{children:"Output routing settings"})]}),a.jsx("p",{className:"text-xs text-gray-500 italic",children:"This template demonstrates the modal structure that can be extended for actual block configurations."})]})})]})]})}processMidiMessage(t,n){const r=this.useInstanceData({lastMessage:null});return r.lastMessage=t,this.triggerUpdate(),{message:t,targetPorts:["midi_out"]}}renderContent(t,n){const r=this.useInstanceData({lastMessage:null,isSelected:!1});return a.jsxs("div",{className:"flex flex-col h-full justify-center items-center p-2",children:[a.jsxs("div",{className:"text-xs text-gray-300 mb-2 font-semibold",children:["Last MIDI: ",r.isSelected?"(Selected)":""]}),a.jsx("div",{className:"text-xs text-gray-200 text-center font-mono leading-tight",children:r.lastMessage?Gy.format(r.lastMessage):a.jsx("span",{className:"text-gray-500",children:"No message yet"})}),r.isSelected&&a.jsx("div",{className:"text-xs text-teal-400 mt-1 font-semibold",children:" Block Selected"})]})}static getDefaultConfig(){return{}}};_n.title="Template",_n.icon="document",_n.description="Template block that passes MIDI messages through and displays the last message",_n.width=200,_n.height=120,_n.color="gray",_n.portConfig={inputs:[{name:"midi_in",label:"MIDI In"}],outputs:[{name:"midi_out",label:"MIDI Out"}]};let vu=_n;const Y0=Object.freeze(Object.defineProperty({__proto__:null,TemplateBlock:vu},Symbol.toStringTag,{value:"Module"})),XP=Object.assign({"./control_channel/CCMultiBlock.tsx":P0,"./control_channel/CCVisualizerBlock.tsx":M0,"./control_channel/ControlChangeGeneratorBlock.tsx":E0,"./control_channel/ControlChangeToolBlock.tsx":T0,"./control_channel/LowPassCCFilterBlock.tsx":D0,"./note/KeyboardBlock.tsx":I0,"./note/NoteFilterBlock.tsx":R0,"./note/NoteMinMaxBlock.tsx":O0,"./note/QuantizerBlock.tsx":_0,"./note/TransposeBlock.tsx":A0,"./processor/ChannelFilterBlock.tsx":U0,"./system/BaseBlockClass.tsx":Yy,"./system/MidiInputBlock.tsx":H0,"./system/MidiMonitorBlock.tsx":W0,"./system/MidiOutputBlock.tsx":K0,"./system/TemplateBlock.tsx":Y0});function G0(){const e={};return Object.entries(XP).forEach(([t,n])=>{const r=t.split("/"),o=r.length>1?r[1]:"uncategorized";Object.values(n).forEach(i=>{if(i&&typeof i=="function"&&i.title&&i.prototype instanceof ge){const l=i,c=String(l.category||o),u=String(l.getType()),p={type:u,category:c,component:l.createComponent(),getPortPosition:l.getPortPosition.bind(l),getDefaultConfig:l.getDefaultConfig.bind(l),generatePorts:l.generatePorts.bind(l),metadata:{width:Number(l.width)||190,height:Number(l.height)||120,color:String(l.color)||"orange",title:String(l.title),description:l.description?String(l.description):void 0,icon:l.icon?String(l.icon):void 0}};e[c]||(e[c]={}),e[c][u]=p}})}),e}const Gl=Object.freeze(Object.defineProperty({__proto__:null,buildBlockRegistry:G0},Symbol.toStringTag,{value:"Module"})),QP="modulepreload",qP=function(e){return"/midirouter/"+e},Vp={},Ve=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));o=Promise.allSettled(n.map(c=>{if(c=qP(c),c in Vp)return;Vp[c]=!0;const u=c.endsWith(".css"),p=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":QP,u||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),u)return new Promise((d,y)=>{m.addEventListener("load",d),m.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return o.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};class ZP{constructor(){this.loadedBlocks=new Map,this.loadingPromises=new Map,this.manifest=null,this.manifestPromise=null,this.blockModules=Object.assign({"./control_channel/CCMultiBlock.tsx":()=>Ve(()=>Promise.resolve().then(()=>P0),void 0),"./control_channel/CCVisualizerBlock.tsx":()=>Ve(()=>Promise.resolve().then(()=>M0),void 0),"./control_channel/ControlChangeGeneratorBlock.tsx":()=>Ve(()=>Promise.resolve().then(()=>E0),void 0),"./control_channel/ControlChangeToolBlock.tsx":()=>Ve(()=>Promise.resolve().then(()=>T0),void 0),"./control_channel/LowPassCCFilterBlock.tsx":()=>Ve(()=>Promise.resolve().then(()=>D0),void 0),"./note/KeyboardBlock.tsx":()=>Ve(()=>Promise.resolve().then(()=>I0),void 0),"./note/NoteFilterBlock.tsx":()=>Ve(()=>Promise.resolve().then(()=>R0),void 0),"./note/NoteMinMaxBlock.tsx":()=>Ve(()=>Promise.resolve().then(()=>O0),void 0),"./note/QuantizerBlock.tsx":()=>Ve(()=>Promise.resolve().then(()=>_0),void 0),"./note/TransposeBlock.tsx":()=>Ve(()=>Promise.resolve().then(()=>A0),void 0),"./processor/ChannelFilterBlock.tsx":()=>Ve(()=>Promise.resolve().then(()=>U0),void 0),"./system/BaseBlockClass.tsx":()=>Ve(()=>Promise.resolve().then(()=>Yy),void 0),"./system/MidiInputBlock.tsx":()=>Ve(()=>Promise.resolve().then(()=>H0),void 0),"./system/MidiMonitorBlock.tsx":()=>Ve(()=>Promise.resolve().then(()=>W0),void 0),"./system/MidiOutputBlock.tsx":()=>Ve(()=>Promise.resolve().then(()=>K0),void 0),"./system/TemplateBlock.tsx":()=>Ve(()=>Promise.resolve().then(()=>Y0),void 0)})}async getManifest(){return this.manifest?this.manifest:this.manifestPromise?this.manifestPromise:(this.manifestPromise=this.loadManifest(),this.manifestPromise)}async loadManifest(){return console.log("Loading hybrid manifest (static + dynamic blocks)"),this.generateHybridManifest()}async generateDirectoryBasedManifest(){try{const t=await fetch("/assets/blocks/");if(t.ok){const n=await t.text(),r=this.parseDirectoryListing(n);if(r.length>0)return console.log(`Found ${r.length} block files in directory`),this.createManifestFromFiles(r)}}catch{console.log("Directory-based discovery failed, falling back to static discovery")}return this.generateStaticManifest()}parseDirectoryListing(t){const n=/href="([^"]*\.js)"/g,r=[];let o;for(;(o=n.exec(t))!==null;){const s=o[1];!s.includes("index-")&&s.endsWith(".js")&&r.push(s)}return r}async createManifestFromFiles(t){const n={blocks:{},version:"directory-discovered"};for(const r of t)try{const o=this.parseBlockFilename(r);o&&(n.blocks[o.type]={category:o.category,chunkPath:`/assets/blocks/${r}`,metadata:{width:200,height:100,color:"#666666",title:o.name,description:`Dynamically discovered ${o.name} block`}})}catch{}return n}parseBlockFilename(t){const n=t.replace(/-[a-zA-Z0-9]+\.js$/,""),o={keyboard:{category:"note",name:"keyboard"},midiinput:{category:"system",name:"midiinput"},midioutput:{category:"system",name:"midioutput"},midimonitor:{category:"system",name:"midimonitor"},notefilter:{category:"note",name:"notefilter"},noteminmax:{category:"note",name:"noteminmax"},notequantiser:{category:"note",name:"notequantiser"},notetranspose:{category:"note",name:"notetranspose"},ccvisualizer:{category:"control_channel",name:"ccvisualizer"},ccgenerator:{category:"control_channel",name:"ccgenerator"},cctool:{category:"control_channel",name:"cctool"},channelfilter:{category:"processor",name:"channelfilter"},lowpassccfilter:{category:"processor",name:"lowpassccfilter"},template:{category:"system",name:"template"}}[n];if(o)return{type:`${o.category}/${o.name}`,category:o.category,name:o.name};if(n.includes("-")){const[s,i]=n.split("-",2);return{type:`${s}/${i}`,category:s,name:i}}return null}async generateStaticManifest(){const{buildBlockRegistry:t}=await Ve(async()=>{const{buildBlockRegistry:o}=await Promise.resolve().then(()=>Gl);return{buildBlockRegistry:o}},void 0),n=t(),r={blocks:{},version:"dev"};return Object.entries(n).forEach(([o,s])=>{Object.entries(s).forEach(([i,l])=>{r.blocks[i]={category:o,chunkPath:"builtin",metadata:l.metadata}})}),this.manifest=r,r}async generateHybridManifest(){const{buildBlockRegistry:t}=await Ve(async()=>{const{buildBlockRegistry:s}=await Promise.resolve().then(()=>Gl);return{buildBlockRegistry:s}},void 0),n=t(),r={blocks:{},version:"hybrid"};Object.entries(n).forEach(([s,i])=>{Object.entries(i).forEach(([l,c])=>{r.blocks[l]={category:s,chunkPath:"builtin",metadata:c.metadata}})});const o=Object.keys(n).reduce((s,i)=>s+Object.keys(n[i]).length,0);return console.log(`Hybrid manifest: ${o} built-in blocks loaded (dynamic blocks will be discovered on-demand)`),this.manifest=r,r}async generateDirectoryBasedManifestSilent(){try{if(!(await fetch("/assets/blocks/README.md",{method:"HEAD",cache:"no-cache"})).ok)return null;const n=["system-midiinput.js","note-keyboard.js","processor-delay.js","control_channel-ccvisualizer.js"];let r=!1;for(const l of n)try{if((await fetch(`/assets/blocks/${l}`,{method:"HEAD"})).ok){r=!0;break}}catch{}if(!r)return null;const o=await fetch("/assets/blocks/");if(!o.ok)return null;const s=await o.text(),i=this.parseDirectoryListing(s);return i.length===0?null:this.createManifestFromFiles(i)}catch{return null}}async loadBlock(t){if(this.loadedBlocks.has(t))return this.loadedBlocks.get(t).definition;if(this.loadingPromises.has(t))return(await this.loadingPromises.get(t)).definition;const n=this.loadBlockInternal(t);this.loadingPromises.set(t,n);try{const r=await n;return this.loadedBlocks.set(t,r),this.loadingPromises.delete(t),r.definition}catch(r){this.loadingPromises.delete(t);try{const o=await this.generateDirectoryBasedManifestSilent();if(o&&o.blocks[t]){const s=await this.getManifest();s.blocks[t]=o.blocks[t];const i=this.loadBlockInternal(t);this.loadingPromises.set(t,i);const l=await i;return this.loadedBlocks.set(t,l),this.loadingPromises.delete(t),l.definition}else{const s=await this.loadBlockStatic(t,{category:"unknown",chunkPath:"builtin",metadata:{width:200,height:120,color:"#666",title:t}});return this.loadedBlocks.set(t,s),s.definition}}catch{}return console.error(`Failed to load block ${t}:`,r),null}}async loadBlockInternal(t){const n=await this.getManifest(),r=n.blocks[t];if(!r)throw new Error(`Block type ${t} not found in manifest`);return r.chunkPath,this.loadBlockStatic(t,r);return n.version==="hybrid"?this.loadBlockFromChunk(t,r):n.version==="directory-discovered"||n.version==="independent"?this.loadBlockFromChunk(t,r):this.loadBlockStatic(t,r)}async loadBlockFromChunk(t,n){try{const o=await import(n.chunkPath.startsWith("/")?n.chunkPath:`/${n.chunkPath}`);let s;if(o.default&&typeof o.default=="function"&&o.default.getType)s=o.default;else if(o.createBlockInstance&&typeof o.createBlockInstance=="function")s=o.createBlockInstance();else{const l=Object.keys(o),c=l.find(u=>o[u]&&typeof o[u]=="function"&&o[u].getType&&typeof o[u].getType=="function");if(c)s=o[c];else{const u=l.find(p=>typeof o[p]=="function");s=u?o[u]:void 0}}if(!s)throw new Error(`No block class found in module for ${t}`);return{definition:{type:t,category:n.category,component:s.createComponent(),getPortPosition:s.getPortPosition.bind(s),getDefaultConfig:s.getDefaultConfig.bind(s),generatePorts:s.generatePorts.bind(s),metadata:n.metadata},module:o}}catch(r){return console.warn(`Chunk loading failed for ${t}, falling back to static import:`,r),this.loadBlockStatic(t,n)}}async loadBlockStatic(t,n){try{const{buildBlockRegistry:r}=await Ve(async()=>{const{buildBlockRegistry:s}=await Promise.resolve().then(()=>Gl);return{buildBlockRegistry:s}},[]),o=r();for(const[s,i]of Object.entries(o))if(i[t])return{definition:i[t],module:null};throw new Error(`Block type ${t} not found in auto-discovery registry`)}catch(r){throw r}}async getAllAvailableBlocks(){const t=await this.getManifest();if(t.version==="hybrid")try{const n=await this.generateDirectoryBasedManifestSilent();n&&Object.keys(n.blocks).length>0&&(Object.entries(n.blocks).forEach(([r,o])=>{t.blocks[r]||(t.blocks[r]=o)}),console.log(`Discovered ${Object.keys(n.blocks).length} additional dynamic blocks`))}catch{}return Object.entries(t.blocks).map(([n,r])=>({category:r.category,type:n,metadata:r.metadata}))}async getBlocksByCategory(t){const n=await this.getManifest();return Object.entries(n.blocks).filter(([,r])=>r.category===t).map(([r,o])=>({type:r,metadata:o.metadata}))}async getAllCategories(){const t=await this.getManifest(),n=new Set;return Object.values(t.blocks).forEach(r=>n.add(r.category)),Array.from(n)}isBlockLoaded(t){return this.loadedBlocks.has(t)}getLoadedBlockDefinition(t){const n=this.loadedBlocks.get(t);return n?n.definition:null}}const vi=new ZP;class JP{constructor(){this.loadedDefinitions=new Map,this.loadingPromises=new Map}async getBlockDefinition(t){if(this.loadedDefinitions.has(t))return this.loadedDefinitions.get(t);if(this.loadingPromises.has(t))return this.loadingPromises.get(t);const n=this.loadBlockDefinition(t);this.loadingPromises.set(t,n);const r=await n;return this.loadingPromises.delete(t),r&&this.loadedDefinitions.set(t,r),r}async loadBlockDefinition(t){try{return await vi.loadBlock(t)}catch(n){return console.error(`Failed to load block definition for ${t}:`,n),null}}async getAllAvailableBlocks(){return vi.getAllAvailableBlocks()}async getBlocksByCategory(t){return vi.getBlocksByCategory(t)}async getAllCategories(){return vi.getAllCategories()}findLoadedBlockDefinition(t){return this.loadedDefinitions.get(t)||null}isBlockLoaded(t){return this.loadedDefinitions.has(t)}async preloadBlocks(t){const n=t.map(r=>this.getBlockDefinition(r));await Promise.allSettled(n)}async preloadCategory(t){const r=(await this.getBlocksByCategory(t)).map(o=>this.getBlockDefinition(o.type));await Promise.allSettled(r)}}const ga=new JP,Ja=G0();function ek(e,t){var n;return(n=Ja[e])==null?void 0:n[t]}function el(){const e=[];return Object.entries(Ja).forEach(([t,n])=>{Object.entries(n).forEach(([r,o])=>{e.push({category:t,name:r,definition:o})})}),e}function tk(e){return Ja[e]||{}}function X0(){return Object.keys(Ja)}function gr(e){for(const t of X0()){const n=ek(String(t),e);if(n)return n}return null}var Vd="Switch",[nk,$k]=Yn(Vd),[rk,ok]=nk(Vd),Q0=f.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:o,defaultChecked:s,required:i,disabled:l,value:c="on",onCheckedChange:u,form:p,...m}=e,[d,y]=f.useState(null),v=ve(t,w=>y(w)),h=f.useRef(!1),C=d?p||!!d.closest("form"):!0,[x=!1,g]=zr({prop:o,defaultProp:s,onChange:u});return a.jsxs(rk,{scope:n,checked:x,disabled:l,children:[a.jsx(ue.button,{type:"button",role:"switch","aria-checked":x,"aria-required":i,"data-state":J0(x),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:v,onClick:te(e.onClick,w=>{g(b=>!b),C&&(h.current=w.isPropagationStopped(),h.current||w.stopPropagation())})}),C&&a.jsx(sk,{control:d,bubbles:!h.current,name:r,value:c,checked:x,required:i,disabled:l,form:p,style:{transform:"translateX(-100%)"}})]})});Q0.displayName=Vd;var q0="SwitchThumb",Z0=f.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,o=ok(q0,n);return a.jsx(ue.span,{"data-state":J0(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:t})});Z0.displayName=q0;var sk=e=>{const{control:t,checked:n,bubbles:r=!0,...o}=e,s=f.useRef(null),i=Ka(n),l=Ua(t);return f.useEffect(()=>{const c=s.current,u=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==n&&m){const d=new Event("click",{bubbles:r});m.call(c,n),c.dispatchEvent(d)}},[i,n,r]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:s,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function J0(e){return e?"checked":"unchecked"}var ev=Q0,ik=Z0;const tv=f.forwardRef(({className:e,...t},n)=>a.jsx(ev,{className:me("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:a.jsx(ik,{className:me("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));tv.displayName=ev.displayName;const Hp=X0().map(e=>{const t=tk(e),n=Object.entries(t).map(([r,o])=>{var s,i,l;return{type:r,label:((s=o.metadata)==null?void 0:s.title)||"Unknown",iconName:((i=o.metadata)==null?void 0:i.icon)||"document",color:((l=o.metadata)==null?void 0:l.color)||"gray"}});return{name:e,displayName:e.charAt(0).toUpperCase()+e.slice(1),blocks:n}});function ak({onAddBlock:e,zoomLevel:t,showMidiPanel:n,onToggleMidiPanel:r}){const[o,s]=f.useState(!1),[i,l]=f.useState(!1),[c,u]=f.useState(""),[p,m]=f.useState(-1),[d,y]=f.useState({top:0,left:0}),[v,h]=f.useState({top:0,left:0}),{toastNotificationsEnabled:C,setToastNotificationsEnabled:x}=Uy(),g=f.useRef(null),w=f.useRef(null),b=f.useRef(null),P=f.useRef(null),S=f.useRef(0),N=c.trim()?[{name:"search-results",displayName:"",blocks:Hp.flatMap(M=>M.blocks.filter(B=>B.label.toLowerCase().includes(c.toLowerCase())))}].filter(M=>M.blocks.length>0):Hp.map(M=>({...M,blocks:M.blocks})),j=N.flatMap(M=>M.blocks);f.useEffect(()=>{function M(B){g.current&&!g.current.contains(B.target)&&l(!1)}if(i)return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[i]),f.useEffect(()=>{function M(B){var k,I,T;const E=Date.now();if(B.key==="Enter"&&!o&&((k=document.activeElement)==null?void 0:k.tagName)!=="INPUT"&&((I=document.activeElement)==null?void 0:I.tagName)!=="TEXTAREA"&&((T=document.activeElement)==null?void 0:T.tagName)!=="BUTTON"&&E-S.current>100){if(B.preventDefault(),b.current){const L=b.current.getBoundingClientRect();y({top:L.bottom+window.scrollY+4,left:L.left+window.scrollX})}s(!0),u(""),setTimeout(()=>{var L;return(L=w.current)==null?void 0:L.focus()},50)}}return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[o]),f.useEffect(()=>{o&&w.current&&(setTimeout(()=>{var M;return(M=w.current)==null?void 0:M.focus()},50),m(-1))},[o]),f.useEffect(()=>{m(-1)},[c]),f.useEffect(()=>{if(p>=0&&o){const M=document.querySelector(`[data-block-index="${p}"]`);M&&M.focus()}},[p,o]);const A=M=>{if(M.preventDefault(),M.stopPropagation(),!i&&P.current){const B=P.current.getBoundingClientRect();h({top:B.bottom+window.scrollY+4,left:B.right+window.scrollX-256})}l(!i)},R=M=>{e(M),S.current=Date.now(),s(!1),u("")},z=M=>{if(M.preventDefault(),M.stopPropagation(),!o&&b.current){const B=b.current.getBoundingClientRect();y({top:B.bottom+window.scrollY+4,left:B.left+window.scrollX})}s(!o),u(""),m(-1)},O=(M,B)=>{M.stopPropagation(),M.key==="ArrowDown"?(M.preventDefault(),M.target.blur(),document.querySelectorAll("[data-block-index]").forEach(E=>E.blur()),B<j.length-1?m(B+1):(m(-1),setTimeout(()=>{var E;return(E=w.current)==null?void 0:E.focus()},10))):M.key==="ArrowUp"?(M.preventDefault(),M.target.blur(),document.querySelectorAll("[data-block-index]").forEach(E=>E.blur()),B>0?m(B-1):(m(-1),setTimeout(()=>{var E;return(E=w.current)==null?void 0:E.focus()},10))):M.key==="Enter"?(M.preventDefault(),R(j[B].type)):M.key==="Escape"&&(M.preventDefault(),S.current=Date.now(),s(!1),u(""),m(-1))},U=(M,B)=>{B.preventDefault(),B.stopPropagation(),R(M)},D=M=>{M.stopPropagation(),M.key==="Escape"?(M.preventDefault(),S.current=Date.now(),s(!1),u(""),m(-1)):M.key==="ArrowDown"?(M.preventDefault(),j.length>0&&(document.querySelectorAll("[data-block-index]").forEach(B=>B.blur()),m(0))):M.key==="ArrowUp"?(M.preventDefault(),j.length>0&&(document.querySelectorAll("[data-block-index]").forEach(B=>B.blur()),m(j.length-1))):M.key==="Enter"&&(M.preventDefault(),p>=0&&p<j.length?R(j[p].type):j.length===1&&R(j[0].type))};return a.jsxs("nav",{className:"glass-panel h-16 flex items-center justify-between px-6 relative z-50 border-b border-white/10",children:[a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-teal-500 to-purple-500 rounded-lg flex items-center justify-center",children:a.jsx(ib,{className:"w-4 h-4 text-white"})}),a.jsx("h1",{className:"text-xl font-semibold bg-gradient-to-r from-teal-400 to-purple-400 bg-clip-text text-transparent",children:"MIDI Router"})]}),a.jsx("div",{className:"relative",children:a.jsxs("button",{ref:b,onClick:z,onTouchStart:z,className:"glass-panel px-3 py-2 rounded-lg hover:bg-white/10 glow-teal flex items-center space-x-2",style:{touchAction:"manipulation"},children:[a.jsx(Qg,{className:"w-4 h-4 text-teal-400"}),a.jsx("span",{className:"text-gray-200 text-sm",children:"Add Block"})]})}),o&&ln.createPortal(a.jsxs("div",{className:"fixed inset-0 z-[9999] pointer-events-none",style:{backdropFilter:"none"},children:[a.jsx("div",{className:"fixed inset-0 pointer-events-auto bg-transparent",onClick:()=>{S.current=Date.now(),s(!1),u("")}}),a.jsxs("div",{className:"glass-panel rounded-xl p-2 min-w-64 border border-white/10 shadow-2xl pointer-events-auto",style:{position:"fixed",top:d.top,left:d.left,zIndex:1e4},children:[a.jsxs("div",{className:"relative mb-2",children:[a.jsx(pb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{ref:w,type:"text",placeholder:"Search blocks...",value:c,onChange:M=>u(M.target.value),onKeyDown:D,onKeyUp:M=>M.stopPropagation(),onKeyPress:M=>M.stopPropagation(),className:"w-full pl-10 pr-3 py-2 bg-white/5 border border-white/10 rounded-lg text-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-teal-400/50 focus:border-teal-400/50"}),j.length===1&&c&&a.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-xs text-gray-400",children:"Press Enter"})]}),a.jsx("div",{className:"space-y-0.5 max-h-[calc(100vh-12rem)] overflow-y-auto custom-scrollbar",children:N.length===0?a.jsxs("div",{className:"px-3 py-2 text-center text-gray-400 text-sm",children:['No blocks found matching "',c,'"']}):N.map(({name:M,displayName:B,blocks:E})=>a.jsxs("div",{className:"space-y-0.5",children:[!c.trim()&&a.jsx("div",{className:"px-3 py-0.5 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:B}),E.map(({type:k,label:I,iconName:T,color:L},K)=>{const J=N.slice(0,N.findIndex(ne=>ne.name===M)).reduce((ne,ie)=>ne+ie.blocks.length,0)+K,Z=p===J;return a.jsxs("button",{"data-block-index":J,onClick:ne=>U(k,ne),onTouchStart:ne=>U(k,ne),onKeyDown:ne=>O(ne,J),onMouseEnter:()=>m(-1),tabIndex:Z?0:-1,className:`w-full text-left px-3 py-1.5 rounded-lg flex items-center space-x-3 transition-colors focus:outline-none ${Z?"bg-white/10":"hover:bg-white/10"}`,style:{touchAction:"manipulation"},children:[a.jsx("div",{className:`w-6 h-6 bg-${L}-500/20 rounded flex items-center justify-center`,children:a.jsx(Wy,{name:T,color:`${L}-400`,className:"w-3 h-3"})}),a.jsx("span",{className:"text-gray-200 text-sm",children:I})]},k)})]},M))})]})]}),document.body),i&&ln.createPortal(a.jsxs("div",{className:"fixed inset-0 z-[9999] pointer-events-none",style:{backdropFilter:"none"},children:[a.jsx("div",{className:"fixed inset-0 pointer-events-auto bg-transparent",onClick:()=>l(!1)}),a.jsx("div",{className:"glass-panel rounded-xl p-3 min-w-64 border border-white/10 shadow-2xl pointer-events-auto",style:{position:"fixed",top:v.top,left:v.left,zIndex:1e4},children:a.jsx("div",{className:"space-y-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-sm text-gray-200",children:"Toast Notifications"}),a.jsx("span",{className:"text-xs text-gray-400",children:"Show connection status messages"})]}),a.jsx(tv,{checked:C,onCheckedChange:x})]})})})]}),document.body)]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"glass-panel px-3 py-1 rounded-lg",children:[a.jsx("span",{className:"text-xs text-gray-400",children:"Zoom: "}),a.jsxs("span",{className:"text-sm text-teal-400",children:[t,"%"]})]}),r&&a.jsx("button",{onClick:r,className:`glass-panel p-2 rounded-lg hover:bg-white/10 transition-colors ${n?"glow-blue bg-blue-500/20":"glow-teal"}`,title:"Toggle MIDI Test Panel",children:a.jsx(db,{className:`w-4 h-4 ${n?"text-blue-400":"text-gray-400"}`})}),a.jsx("div",{className:"relative",children:a.jsx("button",{ref:P,onClick:A,className:"glass-panel p-2 rounded-lg hover:bg-white/10 glow-teal",children:a.jsx(Kt,{className:"w-4 h-4 text-gray-400"})})})]})]})}function lk(){const[e,t]=f.useState({isDragging:!1,dragType:null,dragData:null,startPosition:{x:0,y:0},currentPosition:{x:0,y:0}}),n=f.useRef(null),r=f.useCallback((l,c,u,p)=>{t({isDragging:!0,dragType:l,dragData:c,startPosition:u,currentPosition:u}),p&&(n.current=p)},[]),o=f.useCallback(l=>{t(c=>({...c,currentPosition:l}))},[]),s=f.useCallback(()=>{t({isDragging:!1,dragType:null,dragData:null,startPosition:{x:0,y:0},currentPosition:{x:0,y:0}}),n.current=null},[]),i=f.useCallback(()=>({x:e.currentPosition.x-e.startPosition.x,y:e.currentPosition.y-e.startPosition.y}),[e]);return{dragState:e,startDrag:r,updateDrag:o,endDrag:s,getDragOffset:i,dragRef:n}}function ck({connections:e,blocks:t,selectedConnections:n=new Set,selectedBlocks:r=new Set,tempConnection:o,calculateBlockZIndex:s}){const i=(p,m)=>{const d=t.find(C=>C.id===p);if(!d)return{x:0,y:0};let y=ga.findLoadedBlockDefinition(d.type);if(!y){const C=d.ports.find(M=>M.id===m);if(!C)return{x:d.position.x+95,y:d.position.y+60};const x=C.type==="output",w=d.ports.filter(M=>M.type===C.type).findIndex(M=>M.id===m),b=16,z=b+24+12+60+16+w*24+11,O=8,D={x:x?280-b-O-1:b+O+1,y:z-5};return{x:d.position.x+D.x,y:d.position.y+D.y}}const v=y.getPortPosition(d,m);return{x:d.position.x+v.x,y:d.position.y+v.y}},l=(p,m)=>{const d=m.x-p.x,y=m.y-p.y,v=Math.abs(d)*.6+Math.abs(y)*.3,h=p.x+v,C=p.y,x=m.x-v,g=m.y;return`M ${p.x} ${p.y} C ${h} ${C}, ${x} ${g}, ${m.x} ${m.y}`},c=(p,m,d=.6)=>{const y=m.x-p.x,v=m.y-p.y,h=Math.abs(y)*.6+Math.abs(v)*.3,C=p.x+h,x=p.y,g=m.x-h,w=m.y,b=1-d,P=b*b,S=P*b,N=d*d,j=N*d,A=S*p.x+3*P*d*C+3*b*N*g+j*m.x,R=S*p.y+3*P*d*x+3*b*N*w+j*m.y,z=3*P*(C-p.x)+6*b*d*(g-C)+3*N*(m.x-g),O=3*P*(x-p.y)+6*b*d*(w-x)+3*N*(m.y-w),U=Math.atan2(O,z)*(180/Math.PI);return{x:A,y:R,angle:U}},u=p=>{const m=t.find(C=>C.id===p.fromBlock),d=t.find(C=>C.id===p.toBlock);if(!m||!d)return 2;const y=s(m),v=s(d);return Math.max(y,v)+1};return a.jsxs(a.Fragment,{children:[e.map(p=>{const m=u(p),d=i(p.fromBlock,p.fromPort),y=i(p.toBlock,p.toPort),v=n.has(p.id),h=Math.min(d.x,y.x)-200,C=Math.max(d.x,y.x)+200,x=Math.min(d.y,y.y)-200,g=Math.max(d.y,y.y)+200,w={x:d.x-h,y:d.y-x},b={x:y.x-h,y:y.y-x},P=l(w,b),S=c(w,b,.6);return a.jsxs("svg",{className:"absolute pointer-events-none",style:{zIndex:m,left:`${h}px`,top:`${x}px`,width:`${C-h}px`,height:`${g-x}px`,overflow:"visible"},viewBox:`0 0 ${C-h} ${g-x}`,children:[a.jsx("defs",{children:a.jsx("marker",{id:`arrowhead-${p.id}`,markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:a.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:v?"hsl(280, 100%, 70%)":"hsl(174, 100%, 42%)"})})}),a.jsxs("g",{children:[a.jsx("path",{d:P,stroke:v?"hsl(280, 100%, 70%)":"hsl(174, 100%, 42%)",strokeWidth:"3",fill:"none",filter:v?"drop-shadow(0 0 8px hsla(280, 100%, 70%, 0.8))":"drop-shadow(0 0 5px hsla(174, 100%, 42%, 0.8))"}),a.jsx("polygon",{points:"0,-6 16,0 0,6",fill:v?"hsl(280, 100%, 70%)":"hsl(174, 100%, 42%)",transform:`translate(${S.x},${S.y}) rotate(${S.angle})`}),a.jsx("circle",{cx:w.x,cy:w.y,r:"2.5",fill:v?"hsl(280, 100%, 70%)":"hsl(174, 100%, 42%)"}),a.jsx("circle",{cx:b.x,cy:b.y,r:"2.5",fill:v?"hsl(280, 100%, 70%)":"hsl(174, 100%, 42%)"})]})]},p.id)}),o&&(()=>{const p=o.fromPort.split("-"),m=`${p[0]}-${p[1]}`,d=i(m,o.fromPort),y=o.currentPosition,v=Math.min(d.x,y.x)-500,h=Math.max(d.x,y.x)+500,C=Math.min(d.y,y.y)-500,x=Math.max(d.y,y.y)+500,g={x:d.x-v,y:d.y-C},w={x:y.x-v,y:y.y-C},b=l(g,w);return a.jsx("svg",{className:"absolute pointer-events-none",style:{zIndex:9999,left:`${v}px`,top:`${C}px`,width:`${h-v}px`,height:`${x-C}px`,overflow:"visible"},viewBox:`0 0 ${h-v} ${x-C}`,children:a.jsxs("g",{children:[a.jsx("path",{d:b,stroke:"hsl(174, 100%, 42%)",strokeWidth:"3",fill:"none",strokeDasharray:"8,4",opacity:"0.7",filter:"drop-shadow(0 0 5px hsla(174, 100%, 42%, 0.6))"}),a.jsx("circle",{cx:g.x,cy:g.y,r:"2.5",fill:"hsl(174, 100%, 42%)",opacity:"0.7"})]})})})()]})}function uk({blocks:e,connections:t,zoom:n,pan:r,onZoomIn:o,onZoomOut:s,onResetView:i,onUpdatePan:l,onSetPan:c,onUpdateBlockPosition:u,onRemoveBlock:p,onAddConnection:m,onAddBlock:d,onWheelZoom:y,activePortIds:v=new Set,selectedBlocks:h=new Set,selectedConnections:C=new Set,onClearSelection:x,onSelectInBox:g,onSelectBlock:w,onSelectAllBlocks:b,onRemoveConnection:P,onBlockResize:S,onCanvasClick:N}){const j=f.useRef(null),{dragState:A,startDrag:R,updateDrag:z,endDrag:O,getDragOffset:U}=lk(),D=n/100,M=f.useRef(!1),B=f.useRef({x:0,y:0}),E=f.useRef({x:0,y:0}),k=f.useRef(null),I=f.useRef({x:0,y:0}),T=f.useRef(new Map),L=f.useRef(null),K=f.useRef(!1),J=f.useRef(!1),Z=f.useRef({x:0,y:0}),ne=5,[ie,G]=f.useState(null),[se,ke]=f.useState(null),_=f.useRef(!1),F=f.useRef({x:0,y:0}),[$,V]=f.useState(void 0),[Q,ae]=f.useState(null),[we,ye]=f.useState(""),Se=f.useRef(null),Xe=f.useCallback(W=>{Se.current&&clearTimeout(Se.current),ye(W),Se.current=setTimeout(()=>{ye(""),Se.current=null},5e3)},[]);f.useEffect(()=>()=>{Se.current&&clearTimeout(Se.current)},[]);const Ne=f.useRef({touches:new Map,lastDistance:0,lastScale:D,isPinching:!1,isTouching:!1,touchStartTarget:null}),Ue=f.useRef(null),gt=f.useCallback(W=>{var pe;const fe=W.target;if(fe===j.current||fe.id==="blocks-container")if(W.ctrlKey)M.current=!0,B.current={x:W.clientX,y:W.clientY},E.current={x:r.x,y:r.y},j.current&&(j.current.style.cursor="grabbing");else{_.current=!0;const Y=(pe=j.current)==null?void 0:pe.getBoundingClientRect();if(Y){const q={x:(W.clientX-Y.left)/D-r.x,y:(W.clientY-Y.top)/D-r.y};F.current=q,ke({start:q,end:q}),N&&N(q),x&&x()}}},[r,x,D,N]),fn=f.useCallback(W=>{var fe,pe,Y;if(M.current){const q=W.clientX-B.current.x,oe=W.clientY-B.current.y,re={x:E.current.x+q,y:E.current.y+oe};c(re)}if(_.current){const q=(fe=j.current)==null?void 0:fe.getBoundingClientRect();if(q){const oe={x:(W.clientX-q.left-r.x*D)/D,y:(W.clientY-q.top-r.y*D)/D};ke({start:F.current,end:oe})}}if(k.current){const q=(pe=j.current)==null?void 0:pe.getBoundingClientRect();if(q){const oe={x:(W.clientX-q.left-r.x)/D,y:(W.clientY-q.top-r.y)/D};V({fromPort:k.current,currentPosition:oe})}}if(A.isDragging&&A.dragType==="block"){const q=(Y=j.current)==null?void 0:Y.getBoundingClientRect();if(q){const oe={x:(W.clientX-q.left-r.x)/D,y:(W.clientY-q.top-r.y)/D};z(oe),!K.current&&L.current&&(K.current=!0,G(L.current.id));const re={x:oe.x-A.startPosition.x,y:oe.y-A.startPosition.y};T.current.forEach((ee,de)=>{u(de,{x:ee.x+re.x,y:ee.y+re.y})})}}},[A,l,D,r,z,u,h,w]),Gn=f.useCallback(()=>{M.current&&(console.log(" Ending pan mode"),M.current=!1,j.current&&(j.current.style.cursor="default")),_.current&&(_.current=!1,se&&g&&g(se),ke(null)),k.current&&(k.current=null,V(void 0)),A.isDragging&&A.dragType==="block"&&(O(),L.current=null,K.current=!1,T.current.clear())},[A,O,se,g]),Xt=f.useCallback((W,fe)=>{var oe;fe.stopPropagation();const pe=fe.ctrlKey||fe.metaKey,Y=h.has(W.id);if(w&&(pe?w(W.id,!0):Y||w(W.id,!1)),G(W.id),(oe=j.current)==null?void 0:oe.getBoundingClientRect()){L.current=W,K.current=!1,T.current.clear();let re;pe?Y?re=new Set(Array.from(h).filter(ee=>ee!==W.id)):(re=new Set(h),re.add(W.id)):re=Y?h:new Set([W.id]),re.forEach(ee=>{const de=e.find(Re=>Re.id===ee);de&&T.current.set(ee,{...de.position})}),I.current={...W.position},Z.current={x:fe.clientX,y:fe.clientY},J.current=!1}},[R,D,r,h,e,w]),$t=f.useCallback((W,fe)=>{fe.stopPropagation(),"ontouchstart"in window||navigator.maxTouchPoints>0||(k.current=W)},[]),jr=f.useCallback((W,fe)=>{if(fe.stopPropagation(),!("ontouchstart"in window||navigator.maxTouchPoints>0)){if(k.current&&k.current!==W){const Y=k.current,q=W,oe=e.find(st=>st.ports.some(Uo=>Uo.id===Y)),re=e.find(st=>st.ports.some(Uo=>Uo.id===q));if(oe&&re&&oe.id===re.id){k.current=null,V(void 0);return}const ee=oe==null?void 0:oe.ports.find(st=>st.id===Y),de=re==null?void 0:re.ports.find(st=>st.id===q),Re=(ee==null?void 0:ee.type)==="output",tt=(de==null?void 0:de.type)==="input",St=(ee==null?void 0:ee.type)==="input",Nt=(de==null?void 0:de.type)==="output";Re&&tt||St&&Nt?m(Y,q):Xe("Connection failed: invalid port types")}k.current=null,V(void 0)}},[m,e,Xe]),Qt=f.useCallback((W,fe)=>{if(fe.stopPropagation(),Q===null)ae(W);else if(Q===W)ae(null);else{const pe=Q,Y=W,q=e.find(Nt=>Nt.ports.some(st=>st.id===pe)),oe=e.find(Nt=>Nt.ports.some(st=>st.id===Y));if(q&&oe&&q.id===oe.id){ae(null);return}const re=q==null?void 0:q.ports.find(Nt=>Nt.id===pe),ee=oe==null?void 0:oe.ports.find(Nt=>Nt.id===Y),de=(re==null?void 0:re.type)==="output",Re=(ee==null?void 0:ee.type)==="input",tt=(re==null?void 0:re.type)==="input",St=(ee==null?void 0:ee.type)==="output";de&&Re||tt&&St?m(de?pe:Y,de?Y:pe):Xe("Connection failed: invalid port types"),ae(null)}},[Q,e,m,$t,Xe]),yt=f.useCallback(W=>{var pe;if(W.preventDefault(),!!((pe=j.current)==null?void 0:pe.getBoundingClientRect())){if(Ne.current.isTouching=!0,Ne.current.touchStartTarget=W.target,Array.from(W.touches).forEach(Y=>{Ne.current.touches.set(Y.identifier,{x:Y.clientX,y:Y.clientY,startTime:Date.now()})}),W.touches.length===1){const Y=W.touches[0],q=W.target,oe=q.closest("[data-port-id]");if(oe&&oe.getAttribute("data-port-id"))return;const re=q.closest("[data-block-id]");if(re){const ee=re.getAttribute("data-block-id"),de=e.find(Re=>Re.id===ee);if(de){Xt(de,{clientX:Y.clientX,clientY:Y.clientY,preventDefault:()=>{},stopPropagation:()=>{},ctrlKey:!1,metaKey:!1});return}}M.current=!0,B.current={x:Y.clientX,y:Y.clientY},E.current={...r}}else if(W.touches.length===2){Ne.current.isPinching=!0;const Y=W.touches[0],q=W.touches[1],oe=Math.sqrt(Math.pow(q.clientX-Y.clientX,2)+Math.pow(q.clientY-Y.clientY,2));Ne.current.lastDistance=oe,Ne.current.lastScale=D,M.current=!1,Ue.current&&(clearTimeout(Ue.current),Ue.current=null)}}},[e,r,D,Xt]),nv=f.useCallback(W=>{var pe;W.preventDefault();const fe=(pe=j.current)==null?void 0:pe.getBoundingClientRect();if(fe){if(W.touches.length===1){const Y=W.touches[0];if(Ue.current&&(clearTimeout(Ue.current),Ue.current=null),A.isDragging&&A.dragType==="block"){const q={x:(Y.clientX-fe.left-r.x)/D,y:(Y.clientY-fe.top-r.y)/D};z(q),!K.current&&L.current&&(K.current=!0,G(L.current.id));const oe={x:q.x-A.startPosition.x,y:q.y-A.startPosition.y};T.current.forEach((re,ee)=>{u(ee,{x:re.x+oe.x,y:re.y+oe.y})});return}if(M.current){const q=Y.clientX-B.current.x,oe=Y.clientY-B.current.y,re=q/D,ee=oe/D,de={x:E.current.x+re,y:E.current.y+ee};c(de)}}else if(W.touches.length===2&&Ne.current.isPinching){const Y=W.touches[0],q=W.touches[1],oe=Math.sqrt(Math.pow(q.clientX-Y.clientX,2)+Math.pow(q.clientY-Y.clientY,2));if(Ne.current.lastDistance>0){const re=oe/Ne.current.lastDistance,ee=Math.max(25,Math.min(400,n*re)),de=(Y.clientX+q.clientX)/2-fe.left,Re=(Y.clientY+q.clientY)/2-fe.top;y(ee-n,{x:de,y:Re})}Ne.current.lastDistance=oe}}},[k,M,r,D,n,c,y,A,z,u]),rv=f.useCallback(W=>{W.preventDefault(),Ue.current&&(clearTimeout(Ue.current),Ue.current=null),k.current&&(k.current=null,V(void 0)),A.isDragging&&A.dragType==="block"&&(O(),L.current=null,K.current=!1,T.current.clear()),Array.from(W.changedTouches).forEach(fe=>{Ne.current.touches.delete(fe.identifier)}),W.touches.length===0?(Ne.current.isTouching=!1,Ne.current.isPinching=!1,M.current=!1,Ne.current.lastDistance=0):W.touches.length===1&&Ne.current.isPinching&&(Ne.current.isPinching=!1,Ne.current.lastDistance=0)},[e,m,A,O]),Hd=f.useCallback(W=>{const fe=h.has(W.id),pe=ie===W.id,Y=W.zIndex??e.findIndex(q=>q.id===W.id)+1;return fe||pe?Y+1e4:Y},[e,h,ie]),ov=f.useCallback(W=>{const fe=h.has(W.id);W.id;const pe=Hd(W),Y={block:W,onRemove:p,onMouseDown:re=>Xt(W,re),onPortMouseDown:$t,onPortMouseUp:jr,onPortClick:Qt,connections:t,activePortIds:v,selectedPortForConnection:Q,isSelected:fe,onResize:S?re=>S(W.id,re):void 0},oe=el().find(re=>re.name===W.type);if(oe){const re=oe.definition.component;return a.jsx("div",{style:{zIndex:pe},className:"relative",children:a.jsx(re,{...Y})},W.id)}return console.warn("No block definition found for type:",W.type),null},[p,Xt,$t,jr,Qt,t,v,h,Q,ie]);return f.useEffect(()=>{const W=Y=>{var q,oe,re;if(M.current){const ee=Y.clientX-B.current.x,de=Y.clientY-B.current.y,Re=ee/D,tt=de/D,St={x:E.current.x+Re,y:E.current.y+tt};c(St)}if(L.current&&!A.isDragging&&!J.current){const ee=Y.clientX-Z.current.x,de=Y.clientY-Z.current.y;if(Math.sqrt(ee*ee+de*de)>ne){J.current=!0;const tt=(q=j.current)==null?void 0:q.getBoundingClientRect();tt&&R("block",L.current,{x:(Z.current.x-tt.left-r.x)/D,y:(Z.current.y-tt.top-r.y)/D})}}if(A.isDragging&&A.dragType==="block"){const ee=(oe=j.current)==null?void 0:oe.getBoundingClientRect();if(ee){const de={x:(Y.clientX-ee.left-r.x)/D,y:(Y.clientY-ee.top-r.y)/D};z(de),!K.current&&L.current&&(K.current=!0,G(L.current.id));const Re={x:de.x-A.startPosition.x,y:de.y-A.startPosition.y};T.current.forEach((tt,St)=>{u(St,{x:tt.x+Re.x,y:tt.y+Re.y})})}}if(k.current){const ee=(re=j.current)==null?void 0:re.getBoundingClientRect();if(ee){const de=Y.clientX-ee.left,Re=Y.clientY-ee.top,tt={x:de/D-r.x,y:Re/D-r.y};V({fromPort:k.current,currentPosition:tt})}}},fe=()=>{M.current&&(M.current=!1,j.current&&(j.current.style.cursor="default")),A.isDragging&&A.dragType==="block"&&(O(),L.current=null,K.current=!1,T.current.clear(),J.current=!1),L.current&&!A.isDragging&&(L.current=null,J.current=!1),k.current&&(k.current=null,V(void 0))},pe=Y=>{ge.getConfigModalOpen()||((Y.ctrlKey||Y.metaKey)&&Y.key==="a"&&(Y.preventDefault(),b&&b()),(Y.key==="Delete"||Y.key==="Backspace")&&(Y.preventDefault(),h.forEach(q=>{p(q)}),P&&C.forEach(q=>{P(q)})))};return document.addEventListener("mousemove",W),document.addEventListener("mouseup",fe),document.addEventListener("keydown",pe),()=>{document.removeEventListener("mousemove",W),document.removeEventListener("mouseup",fe),document.removeEventListener("keydown",pe)}},[c,D,r,e,b,h,C,p,P,A,z,u,O]),f.useEffect(()=>{const W=j.current;if(!W)return;const fe=pe=>{if(pe.ctrlKey){pe.preventDefault();const Y=W.getBoundingClientRect(),q={x:pe.clientX-Y.left,y:pe.clientY-Y.top},oe=pe.deltaY>0?-2:2;y(oe,q)}};return W.addEventListener("wheel",fe,{passive:!1}),()=>{W.removeEventListener("wheel",fe)}},[y]),a.jsxs("div",{className:"relative flex-1 overflow-hidden",style:{height:"calc(100vh - 4rem)"},children:[a.jsx("div",{ref:j,className:"canvas-grid relative w-full h-full cursor-default",onMouseDown:gt,onMouseMove:fn,onMouseUp:Gn,onTouchStart:yt,onTouchMove:nv,onTouchEnd:rv,style:{touchAction:"none"},children:a.jsxs("div",{id:"blocks-container",className:"absolute inset-0 z-20",style:{transform:`scale(${D}) translate(${r.x}px, ${r.y}px)`,transformOrigin:"0 0"},children:[a.jsx(ck,{connections:t,blocks:e,selectedConnections:C,selectedBlocks:h,tempConnection:void 0,calculateBlockZIndex:Hd}),e.map(ov)]})}),se&&j.current&&ln.createPortal(a.jsx("div",{className:"absolute border border-teal-400/50 bg-teal-400/10 pointer-events-none",style:{left:j.current.getBoundingClientRect().left+(Math.min(se.start.x,se.end.x)+r.x)*D,top:j.current.getBoundingClientRect().top+(Math.min(se.start.y,se.end.y)+r.y)*D,width:Math.abs(se.end.x-se.start.x)*D,height:Math.abs(se.end.y-se.start.y)*D,zIndex:9999}}),document.body),$&&j.current&&(()=>{const W=(Xn,pn)=>{const Pt=e.find(Mr=>Mr.id===Xn);if(!Pt)return{x:0,y:0};let Ys=ga.findLoadedBlockDefinition(Pt.type);if(!Ys){const Mr=Pt.ports.find(Ho=>Ho.id===pn);if(!Mr)return{x:Pt.position.x+95,y:Pt.position.y+60};const tl=Mr.type==="output",nl=Pt.ports.filter(Ho=>Ho.type===Mr.type).findIndex(Ho=>Ho.id===pn),rl=16,iv=rl+24+12+60+16+nl*24+11,Kd=8,Yd={x:tl?280-rl-Kd-1:rl+Kd+1,y:iv-5};return{x:Pt.position.x+Yd.x,y:Pt.position.y+Yd.y}}const Vo=Ys.getPortPosition(Pt,pn);return{x:Pt.position.x+Vo.x,y:Pt.position.y+Vo.y}},fe=(Xn,pn)=>{const Pt=pn.x-Xn.x,Ys=pn.y-Xn.y,Vo=Math.abs(Pt)*.6+Math.abs(Ys)*.3,Mr=Xn.x+Vo,tl=Xn.y,Wd=pn.x-Vo,nl=pn.y;return`M ${Xn.x} ${Xn.y} C ${Mr} ${tl}, ${Wd} ${nl}, ${pn.x} ${pn.y}`},pe=$.fromPort.split("-"),Y=`${pe[0]}-${pe[1]}`,q=W(Y,$.fromPort),oe=$.currentPosition,re=j.current.getBoundingClientRect(),ee={x:re.left+q.x*D+r.x*D,y:re.top+q.y*D+r.y*D},de={x:re.left+oe.x*D+r.x*D,y:re.top+oe.y*D+r.y*D},Re=Math.min(ee.x,de.x)-100,tt=Math.max(ee.x,de.x)+100,St=Math.min(ee.y,de.y)-100,Nt=Math.max(ee.y,de.y)+100,st={x:ee.x-Re,y:ee.y-St},Uo={x:de.x-Re,y:de.y-St},sv=fe(st,Uo);return ln.createPortal(a.jsx("svg",{className:"absolute pointer-events-none",style:{left:`${Re}px`,top:`${St}px`,width:`${tt-Re}px`,height:`${Nt-St}px`,zIndex:1e4,overflow:"visible"},viewBox:`0 0 ${tt-Re} ${Nt-St}`,children:a.jsxs("g",{children:[a.jsx("path",{d:sv,stroke:"hsl(174, 100%, 42%)",strokeWidth:"3",fill:"none",strokeDasharray:"8,4",opacity:"0.7",filter:"drop-shadow(0 0 5px hsla(174, 100%, 42%, 0.6))"}),a.jsx("circle",{cx:st.x,cy:st.y,r:"2.5",fill:"hsl(174, 100%, 42%)",opacity:"0.7"})]})}),document.body)})(),we&&a.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 z-50",style:{top:"5px"},children:a.jsx("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 text-white px-3 py-1.5 rounded-md text-xs font-normal shadow-sm whitespace-nowrap",children:we})}),a.jsxs("div",{className:"absolute bottom-6 right-6 flex flex-col space-y-2 z-40",children:[a.jsx("button",{onClick:o,onTouchStart:o,className:"glass-panel p-3 rounded-lg hover:bg-white/10 glow-teal",style:{touchAction:"manipulation"},children:a.jsx(Qg,{className:"w-4 h-4 text-teal-400"})}),a.jsx("button",{onClick:s,onTouchStart:s,className:"glass-panel p-3 rounded-lg hover:bg-white/10 glow-teal",style:{touchAction:"manipulation"},children:a.jsx(ub,{className:"w-4 h-4 text-teal-400"})}),a.jsx("button",{onClick:i,onTouchStart:i,className:"glass-panel p-3 rounded-lg hover:bg-white/10 glow-purple",style:{touchAction:"manipulation"},children:a.jsx(cb,{className:"w-4 h-4 text-purple-400"})})]})]})}function dk({blocks:e,onTestMidiMessage:t}){const[n,r]=f.useState(""),[o,s]=f.useState("noteOn"),[i,l]=f.useState(60),[c,u]=f.useState(64),[p,m]=f.useState(1),[d,y]=f.useState(64);el();const v=()=>{if(!n)return;let x;const g=performance.now();switch(o){case"noteOn":x={data:Le.createMidiMessage("noteOn",0,i,c),timestamp:g,parsed:void 0};break;case"noteOff":x={data:Le.createMidiMessage("noteOff",0,i,0),timestamp:g,parsed:void 0};break;case"controlChange":x={data:Le.createMidiMessage("controlChange",0,p,d),timestamp:g,parsed:void 0};break;case"pitchBend":const{lsb:w,msb:b}=Le.semitonesToPitchBend(d/64*2-2);x={data:Le.createMidiMessage("pitchBend",0,w,b),timestamp:g,parsed:void 0};break;default:return}x.parsed=Le.parseMidiMessage(x.data),t(n,x)},h=(x,g)=>{if(!n)return;const w={data:Le.createMidiMessage("controlChange",0,x,g),timestamp:performance.now(),parsed:void 0};w.parsed=Le.parseMidiMessage(w.data),t(n,w)},C=()=>{const x={data:Le.createMidiMessage("noteOn",0,60,100),timestamp:performance.now(),parsed:void 0};x.parsed=Le.parseMidiMessage(x.data),e.forEach(g=>{t(g.id,x)})};return a.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-200",children:"MIDI Test Panel"}),a.jsx(zt,{onClick:C,variant:"outline",size:"sm",className:"text-xs",children:"Test All Blocks"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{className:"text-xs text-gray-400",children:"Target Block"}),a.jsxs(Je,{value:n,onValueChange:r,children:[a.jsx(Ke,{className:"h-8 text-xs",children:a.jsx(et,{placeholder:"Select block..."})}),a.jsx(Ye,{children:e.map(x=>a.jsxs(Ce,{value:x.id,children:[x.type," - ",x.id.slice(-4)]},x.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{className:"text-xs text-gray-400",children:"Message Type"}),a.jsxs(Je,{value:o,onValueChange:x=>s(x),children:[a.jsx(Ke,{className:"h-8 text-xs",children:a.jsx(et,{})}),a.jsxs(Ye,{children:[a.jsx(Ce,{value:"noteOn",children:"Note On"}),a.jsx(Ce,{value:"noteOff",children:"Note Off"}),a.jsx(Ce,{value:"controlChange",children:"Control Change"}),a.jsx(Ce,{value:"pitchBend",children:"Pitch Bend"})]})]})]})]}),(o==="noteOn"||o==="noteOff")&&a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(le,{className:"text-xs text-gray-400",children:["Note (",Le.getNoteFromNumber(i),")"]}),a.jsx(qe,{type:"number",min:"0",max:"127",value:i,onChange:x=>l(parseInt(x.target.value)||60),className:"h-8 text-xs"})]}),o==="noteOn"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{className:"text-xs text-gray-400",children:"Velocity"}),a.jsx(qe,{type:"number",min:"0",max:"127",value:c,onChange:x=>u(parseInt(x.target.value)||64),className:"h-8 text-xs"})]})]}),o==="controlChange"&&a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{className:"text-xs text-gray-400",children:"Controller"}),a.jsx(qe,{type:"number",min:"0",max:"127",value:p,onChange:x=>m(parseInt(x.target.value)||1),className:"h-8 text-xs"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{className:"text-xs text-gray-400",children:"Value"}),a.jsx(qe,{type:"number",min:"0",max:"127",value:d,onChange:x=>y(parseInt(x.target.value)||64),className:"h-8 text-xs"})]})]}),o==="pitchBend"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{className:"text-xs text-gray-400",children:"Bend Amount (-64 to +63)"}),a.jsx(qe,{type:"number",min:"-64",max:"63",value:d,onChange:x=>y(parseInt(x.target.value)||0),className:"h-8 text-xs"})]}),a.jsx("div",{className:"flex gap-2",children:a.jsx(zt,{onClick:v,disabled:!n,className:"flex-1 h-8 text-xs",children:"Send Message"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{className:"text-xs text-gray-400",children:"Quick Controls"}),a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[a.jsx(zt,{size:"sm",variant:"outline",onClick:()=>h(Ll.MODULATION_WHEEL,100),disabled:!n,className:"h-7 text-xs",children:"Mod Wheel"}),a.jsx(zt,{size:"sm",variant:"outline",onClick:()=>h(Ll.VOLUME,100),disabled:!n,className:"h-7 text-xs",children:"Volume"}),a.jsx(zt,{size:"sm",variant:"outline",onClick:()=>h(Ll.PAN,127),disabled:!n,className:"h-7 text-xs",children:"Pan Right"})]})]}),a.jsx("div",{className:"text-xs text-gray-500 pt-2 border-t border-gray-700",children:"Check browser console for MIDI processing output"})]})}function fk(e){return typeof e=="string"&&e.length>0}function pk(){const[e,t]=f.useState({positions:new Map,blockDimensions:new Map}),n=f.useCallback((m,d)=>{let y;return(...v)=>{clearTimeout(y),y=setTimeout(()=>m.apply(null,v),d)}},[]),r=f.useCallback(m=>{const d=gr(m.type);if(!d){console.warn(`Block definition not found for type: ${m.type}`);return}t(y=>{const v=new Map(y.positions);return m.ports.forEach(h=>{try{const C=d.getPortPosition(m,h.id);v.set(h.id,C)}catch(C){console.error(`Error calculating port position for ${h.id}:`,C)}}),{...y,positions:v}})},[]),o=f.useCallback((m,d,y)=>{t(v=>{const h=new Map(v.blockDimensions);return h.set(m,d),{...v,blockDimensions:h}}),y&&r(y)},[r]),s=f.useMemo(()=>n(o,100),[o,n]),i=f.useCallback(m=>{t(d=>{const y=new Map;return m.forEach(v=>{const h=gr(v.type);h&&v.ports.forEach(C=>{try{const x=h.getPortPosition(v,C.id);y.set(C.id,x)}catch(x){console.error(`Error calculating port position for ${C.id}:`,x)}})}),{...d,positions:y}})},[]),l=f.useCallback((m,d)=>{const y=e.positions.get(d);if(y)return y;const v=gr(m.type);if(!v)return console.warn(`Block definition not found for type: ${m.type}`),{x:0,y:0};try{const h=v.getPortPosition(m,d);return t(C=>({...C,positions:new Map(C.positions).set(d,h)})),h}catch(h){return console.error(`Error calculating port position for ${d}:`,h),{x:0,y:0}}},[e.positions]),c=f.useCallback((m,d)=>{t(y=>{const v=new Map(y.positions),h=new Map(y.blockDimensions);return d.forEach(C=>{v.delete(C)}),h.delete(m),{positions:v,blockDimensions:h}})},[]),u=f.useCallback(()=>{t({positions:new Map,blockDimensions:new Map})},[]),p=f.useCallback(m=>e.blockDimensions.get(m)||null,[e.blockDimensions]);return{cache:e,handleBlockResize:s,recalculateBlockPorts:r,recalculateAllPorts:i,getPortPosition:l,removeBlock:c,clearCache:u,getBlockDimensions:p,debouncedHandleBlockResize:s}}const Ls="midi-router-canvas-state";function mk(){var e;try{const t=localStorage.getItem(Ls);if(t){const n=JSON.parse(t);return((e=n.blocks)==null?void 0:e.some(o=>!o.id||o.id.includes("NaN")||o.id.endsWith("-undefined")||!gr(o.type)))?(console.warn("Found corrupted or invalid blocks, resetting canvas state"),localStorage.removeItem(Ls),ya()):{...n,selectedBlocks:new Set(n.selectedBlocks||[]),selectedConnections:new Set(n.selectedConnections||[])}}}catch(t){console.warn("Failed to load canvas state from localStorage:",t)}return ya()}function ya(){return{zoom:100,pan:{x:0,y:0},blocks:[],connections:[],selectedBlocks:new Set,selectedConnections:new Set}}function hk(e){try{const t={...e,selectedBlocks:Array.from(e.selectedBlocks),selectedConnections:Array.from(e.selectedConnections)};localStorage.setItem(Ls,JSON.stringify(t))}catch(t){console.warn("Failed to save canvas state to localStorage:",t)}}function gk(){const{toast:e}=xg(),{toastNotificationsEnabled:t}=Uy(),{handleBlockResize:n,recalculateBlockPorts:r,recalculateAllPorts:o,getPortPosition:s,removeBlock:i,clearCache:l}=pk(),c=mk(),[u,p]=f.useState(()=>c.blocks.some(k=>k.ports.some(I=>I.id.includes("-input-")||I.id.includes("-output-")))?(localStorage.removeItem(Ls),ya()):c),m=f.useRef(1),d=f.useRef(1),y=f.useRef({lastCanvasClick:{x:400,y:300},offsetCount:0,offsetStep:40,maxZIndex:1e3});f.useEffect(()=>{const E=async()=>{const k=u.blocks.map(T=>T.type),I=k.filter((T,L)=>k.indexOf(T)===L);for(const T of I)try{await ga.getBlockDefinition(T)}catch(L){console.warn(`Failed to preload block definition for ${T}:`,L)}};u.blocks.length>0&&E()},[u.blocks]),f.useEffect(()=>{_i.updateConnections(u.connections,u.blocks)},[u.connections,u.blocks]),f.useEffect(()=>{if(u.blocks.length>0){const E=u.blocks.map(k=>{const I=k.id.split("-");return parseInt(I[I.length-1])||0}).filter(k=>!isNaN(k));E.length>0&&(m.current=Math.max(...E)+1)}if(u.connections.length>0){const E=u.connections.map(k=>{const I=k.id.split("-");return parseInt(I[I.length-1])||0}).filter(k=>!isNaN(k));E.length>0&&(d.current=Math.max(...E)+1)}},[]),f.useEffect(()=>{if(u.blocks.length>0&&(o(u.blocks),u.blocks.some(k=>k.zIndex===void 0))){p(I=>({...I,blocks:I.blocks.map((T,L)=>({...T,zIndex:T.zIndex??L+1}))}));const k=Math.max(...u.blocks.map((I,T)=>I.zIndex??T+1));y.current.maxZIndex=Math.max(y.current.maxZIndex,k)}},[u.blocks.length,o]),f.useEffect(()=>{hk(u)},[u]);const v=f.useCallback(E=>{p(k=>({...k,zoom:Math.max(25,Math.min(400,k.zoom+E))}))},[]),h=f.useCallback(E=>{p(k=>({...k,pan:{x:k.pan.x+E.x,y:k.pan.y+E.y}}))},[]),C=f.useCallback(E=>{p(k=>({...k,pan:{x:E.x,y:E.y}}))},[]),x=f.useCallback((E,k)=>{p(I=>{const T=I.zoom/100,L=k.x/T-I.pan.x,K=k.y/T-I.pan.y,J=Math.max(25,Math.min(400,I.zoom+E)),Z=J/100,ne=k.x/Z-L,ie=k.y/Z-K;return{...I,zoom:J,pan:{x:ne,y:ie}}})},[]),g=f.useCallback(()=>{p(E=>({...E,zoom:100,pan:{x:0,y:0}}))},[]),w=f.useCallback(()=>{localStorage.removeItem(Ls),m.current=1,d.current=1,y.current={lastCanvasClick:{x:400,y:300},offsetCount:0,offsetStep:40,maxZIndex:1e3},p(ya())},[]),b=f.useCallback(E=>{y.current.lastCanvasClick=E,y.current.offsetCount=0},[]),P=f.useCallback(E=>{const k=y.current,I=k.offsetCount*k.offsetStep,T=k.offsetCount*k.offsetStep;let L=k.lastCanvasClick.x+I,K=k.lastCanvasClick.y+T;if(E){const J=E.width/(u.zoom/100),Z=E.height/(u.zoom/100),ne=-u.pan.x,ie=-u.pan.y,G=ne+J,se=ie+Z;(L>G-250||K>se-200)&&(L=ne+50+k.offsetCount%3*50,K=ie+50+Math.floor(k.offsetCount/3)*60)}return k.offsetCount++,{x:L,y:K}},[u.zoom,u.pan]),S=f.useCallback((E,k)=>{var Z;if(!fk(E)){console.warn(`Invalid block type: ${E}`);return}if(!gr(E)){console.warn(`Block definition not found for type: ${E}`);return}const T=`${E}-${m.current}`;m.current++;const L=k||P(),K=++y.current.maxZIndex,J={id:T,type:E,position:L,config:yk(E),ports:xk(T,E),zIndex:K};if(p(ne=>({...ne,blocks:[...ne.blocks,J]})),t){const ne=gr(E),ie=((Z=ne==null?void 0:ne.metadata)==null?void 0:Z.title)||E;setTimeout(()=>{e({title:"Block Added",description:`${ie} block has been added to the canvas`})},0)}return T},[e,t]),N=f.useCallback((E,k)=>{p(I=>({...I,blocks:I.blocks.map(T=>T.id===E?{...T,position:k}:T)}))},[]),j=f.useCallback(E=>{p(k=>{const I=k.blocks.find(L=>L.id===E),T=k.connections.filter(L=>L.fromBlock===E||L.toBlock===E);if(I){const L=I.ports.map(K=>K.id);i(E,L),ge.cleanupInstance(E)}if(I&&t){const L=T.length,K=I.type;setTimeout(()=>{e({title:"Block deleted",description:`Removed ${K} block${L>0?` and ${L} connection${L>1?"s":""}`:""}`,variant:"destructive",duration:2500})},0)}return{...k,blocks:k.blocks.filter(L=>L.id!==E),connections:k.connections.filter(L=>L.fromBlock!==E&&L.toBlock!==E)}})},[t,e,i]),A=f.useCallback((E,k)=>{p(I=>{const T=I.blocks.find(F=>F.ports.some($=>$.id===E)),L=I.blocks.find(F=>F.ports.some($=>$.id===k));if(!T||!L||T.id===L.id)return I;const K=T.ports.find(F=>F.id===E),J=L.ports.find(F=>F.id===k);if(!K||!J)return I;let Z=E,ne=k,ie=T,G=L;if(K.type==="input"&&J.type==="output")Z=k,ne=E,ie=L,G=T;else if(K.type!=="output"||J.type!=="input")return I;if(I.connections.find(F=>F.fromPort===Z&&F.toPort===ne)){if(t){const F=Z.split("-").pop()||"output",$=ne.split("-").pop()||"input",V=ie.type,Q=G.type;setTimeout(()=>{e({title:"Connection already exists",description:`${V} ${F}  ${Q} ${$} already connected`,variant:"destructive",duration:2500})},0)}return I}const _={id:`conn-${d.current++}`,fromPort:Z,toPort:ne,fromBlock:ie.id,toBlock:G.id};if(t){const F=Z.split("-").pop()||"output",$=ne.split("-").pop()||"input",V=ie.type,Q=G.type;setTimeout(()=>{e({title:"Connection created",description:`Connected ${V} ${F}  ${Q} ${$}`,variant:"default",duration:2500})},0)}return{...I,connections:[...I.connections,_]}})},[]),R=f.useCallback(E=>{p(k=>{const I=k.connections.find(T=>T.id===E);if(I&&t){const T=k.blocks.find(Z=>Z.id===I.fromBlock),L=k.blocks.find(Z=>Z.id===I.toBlock),K=(T==null?void 0:T.type)||"Unknown",J=(L==null?void 0:L.type)||"Unknown";setTimeout(()=>{e({title:"Connection deleted",description:`Removed connection from ${K} to ${J}`,variant:"destructive",duration:2500})},0)}return{...k,connections:k.connections.filter(T=>T.id!==E)}})},[t,e]),z=f.useCallback(()=>{p(E=>({...E,selectedBlocks:new Set,selectedConnections:new Set}))},[]),O=f.useCallback((E,k=!1)=>{p(I=>{const T=k?new Set([...Array.from(I.selectedBlocks),...E]):new Set(E),L=I.connections.filter(J=>Array.from(T).some(Z=>J.fromBlock===Z||J.toBlock===Z)).map(J=>J.id),K=k?new Set([...Array.from(I.selectedConnections),...L]):new Set(L);return{...I,selectedBlocks:T,selectedConnections:K}})},[]),U=f.useCallback((E,k=!1)=>{p(I=>({...I,selectedConnections:k?new Set([...Array.from(I.selectedConnections),...E]):new Set(E)}))},[]),D=f.useCallback(()=>{const E=u.blocks.map(k=>k.id);O(E,!1)},[u.blocks,O]),M=f.useCallback(E=>{const k=(_,F)=>{if(_.some(V=>V.x>=F.left&&V.x<=F.right&&V.y>=F.top&&V.y<=F.bottom))return!0;for(let V=0;V<_.length-1;V++){const Q=_[V],ae=_[V+1];if(I(Q,ae,F))return!0}return!1},I=(_,F,$)=>!!(T(_,F,{x:$.left,y:$.top},{x:$.right,y:$.top})||T(_,F,{x:$.left,y:$.bottom},{x:$.right,y:$.bottom})||T(_,F,{x:$.left,y:$.top},{x:$.left,y:$.bottom})||T(_,F,{x:$.right,y:$.top},{x:$.right,y:$.bottom})),T=(_,F,$,V)=>{const Q=(_.x-F.x)*($.y-V.y)-(_.y-F.y)*($.x-V.x);if(Math.abs(Q)<1e-10)return!1;const ae=((_.x-$.x)*($.y-V.y)-(_.y-$.y)*($.x-V.x))/Q,we=-((_.x-F.x)*(_.y-$.y)-(_.y-F.y)*(_.x-$.x))/Q;return ae>=0&&ae<=1&&we>=0&&we<=1};u.zoom/100;const L=Math.min(E.start.x,E.end.x),K=Math.max(E.start.x,E.end.x),J=Math.min(E.start.y,E.end.y),Z=Math.max(E.start.y,E.end.y),ne=(_,F)=>!(_.right<F.left||_.left>F.right||_.bottom<F.top||_.top>F.bottom),ie=u.blocks.filter(_=>{try{const F=document.querySelector(`[data-block-id="${_.id}"]`);if(!F)return!1;const $=F.getBoundingClientRect(),V=u.zoom/100,Q={left:_.position.x,right:_.position.x+$.width/V,top:_.position.y,bottom:_.position.y+$.height/V};return ne({left:L,right:K,top:J,bottom:Z},Q)}catch{return!1}}).map(_=>_.id),G=(_,F)=>{const $=u.blocks.find(yt=>yt.id===_);if(!$)return{x:0,y:0};const V=ga.findLoadedBlockDefinition($.type);if(V){const yt=V.getPortPosition($,F);return{x:$.position.x+yt.x,y:$.position.y+yt.y}}const Q=$.ports.find(yt=>yt.id===F);if(!Q)return{x:0,y:0};const ae=Q.type==="output",ye=$.ports.filter(yt=>yt.type===Q.type).findIndex(yt=>yt.id===F),Se=16,Xt=Se+24+12+60+16+ye*24+11,$t=8,Qt={x:ae?280-Se-$t-1:Se+$t+1,y:Xt-5};return{x:$.position.x+Qt.x,y:$.position.y+Qt.y}},se=(_,F,$=20)=>{const V=[],Q=F.x-_.x,ae=F.y-_.y,we=Math.abs(Q)*.6+Math.abs(ae)*.3,ye=_.x+we,Se=_.y,Xe=F.x-we,Ne=F.y;for(let Ue=0;Ue<=$;Ue++){const gt=Ue/$,fn=1-gt,Gn=fn*fn,Xt=Gn*fn,$t=gt*gt,jr=$t*gt,Qt=Xt*_.x+3*Gn*gt*ye+3*fn*$t*Xe+jr*F.x,yt=Xt*_.y+3*Gn*gt*Se+3*fn*$t*Ne+jr*F.y;V.push({x:Qt,y:yt})}return V},ke=u.connections.filter(_=>{const F=u.blocks.find(Qt=>Qt.id===_.fromBlock),$=u.blocks.find(Qt=>Qt.id===_.toBlock);if(!F||!$)return console.log("Connection missing blocks:",_.id),!1;const V=G(_.fromBlock,_.fromPort),Q=G(_.toBlock,_.toPort),ae=Math.sqrt(Math.pow(Q.x-V.x,2)+Math.pow(Q.y-V.y,2)),we=u.zoom/100,Se=2*Math.max(1,we),Xe=Math.max(300,Math.ceil(ae*Se)),Ne=se(V,Q,Xe),gt=Math.max(2,8/we),fn=L-gt,Gn=K+gt,Xt=J-gt,$t=Z+gt;return k(Ne,{left:fn,right:Gn,top:Xt,bottom:$t})}).map(_=>_.id);ie.length>0?O(ie,!1):p(_=>({..._,selectedBlocks:new Set,selectedConnections:new Set(ke)}))},[u.blocks,u.connections,u.zoom,u.pan,O]),B=f.useCallback((E,k)=>{p(T=>({...T,blocks:T.blocks.map(L=>L.id===E?{...L,width:k.width,height:k.height}:L)}));const I=u.blocks.find(T=>T.id===E);I&&n(E,k,I)},[u.blocks,n]);return{canvasState:u,updateZoom:v,updatePan:h,setPan:C,wheelZoom:x,resetView:g,resetCanvas:w,addBlock:S,updateBlockPosition:N,removeBlock:j,addConnection:A,removeConnection:R,clearSelection:z,selectBlocks:O,selectConnections:U,selectAllBlocks:D,selectInBox:M,onBlockResize:B,getPortPosition:s,updateLastCanvasClick:b}}function yk(e){const n=el().find(r=>r.name===e);return n?n.definition.getDefaultConfig():{}}function xk(e,t){const r=el().find(o=>o.name===t);return r?r.definition.generatePorts(e):[]}function vk(){const{canvasState:e,updateZoom:t,updatePan:n,setPan:r,wheelZoom:o,resetView:s,addBlock:i,updateBlockPosition:l,removeBlock:c,addConnection:u,removeConnection:p,clearSelection:m,selectBlocks:d,selectConnections:y,selectAllBlocks:v,selectInBox:h,onBlockResize:C,updateLastCanvasClick:x}=gk(),g=f.useMemo(()=>e.blocks.flatMap(D=>{var I,T;const M=gr(D.type);if(!M)return[];const E=M.component.portConfig;if(!E)return[];const k=[];return(I=E.inputs)==null||I.forEach(L=>{k.push(`${D.id}-${L.name}`)}),(T=E.outputs)==null||T.forEach(L=>{k.push(`${D.id}-${L.name}`)}),k}),[e.blocks]),w=Ky(g),[b,P]=f.useState(!1),S=f.useCallback(()=>{t(10)},[t]),N=f.useCallback(()=>{t(-10)},[t]),j=f.useCallback(D=>{i(D)},[i]),A=f.useCallback(D=>{n({x:D.x-e.pan.x,y:D.y-e.pan.y})},[n,e.pan]),R=f.useCallback(D=>{r(D)},[r]),z=f.useCallback((D,M)=>{o(D,M)},[o]),O=f.useCallback((D,M)=>{const B=e.blocks.find(k=>k.id===D);if(!B){console.warn(`Block ${D} not found`);return}const E=gr(B.type);if(!E){console.warn(`Block definition for ${B.type} not found`);return}try{const k=E.component;if(k.prototype&&k.prototype.processMidiMessage){const T=Object.create(k.prototype).processMidiMessage(M),L=(T==null?void 0:T.messages)||(T!=null&&T.message?[T.message]:[]);console.log(`MIDI Test Result for ${B.type} (${D}):`,{input:M,output:T,messageCount:L.length,messages:L,processed:T!==null})}else console.warn(`Block ${B.type} does not have processMidiMessage method`)}catch(k){console.error(`Error processing MIDI message for block ${D}:`,k)}},[e.blocks]),U=f.useCallback((D,M)=>{d([D],M)},[d]);return a.jsxs("div",{className:"min-h-screen text-gray-100 font-sans overflow-hidden flex",children:[a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsx(ak,{onAddBlock:j,zoomLevel:e.zoom,showMidiPanel:b,onToggleMidiPanel:()=>P(!b)}),a.jsx(uk,{blocks:e.blocks,connections:e.connections,zoom:e.zoom,pan:e.pan,onZoomIn:S,onZoomOut:N,onResetView:s,onUpdatePan:A,onSetPan:R,onUpdateBlockPosition:l,onRemoveBlock:c,onAddConnection:u,onAddBlock:i,onWheelZoom:z,activePortIds:new Set(Object.keys(w)),selectedBlocks:e.selectedBlocks,selectedConnections:e.selectedConnections,onClearSelection:m,onSelectInBox:h,onSelectBlock:U,onSelectAllBlocks:v,onRemoveConnection:p,onBlockResize:C,onCanvasClick:x})]}),b&&a.jsx("div",{className:"w-80 bg-gray-900 border-l border-gray-700 p-4",children:a.jsx(dk,{blocks:e.blocks,onTestMidiMessage:O})})]})}function wk(){return a.jsx(gg,{base:"/midirouter",children:a.jsxs(lC,{children:[a.jsx(cp,{path:"/",component:vk}),a.jsx(cp,{component:EN})]})})}function Ck(){return a.jsx(NN,{children:a.jsxs(bN,{children:[a.jsx(Qb,{}),a.jsx(wk,{})]})})}sg(document.getElementById("root")).render(a.jsx(Ck,{}));
